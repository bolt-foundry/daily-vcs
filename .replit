compile = "bff build"
run = "bff main"
entrypoint = "docs/developing-on-replit.md"

[nix]
channel = "stable-23_11"

[languages]
[languages.relay]
pattern = "**/*.{tsx,jsx}"
[languages.relay.languageServer]
start = ["relay_lsp.sh"]

[languages.deno]
pattern = "**/*.{ts,js,tsx,jsx,json,jsonc,md,mdx}"
[languages.deno.languageServer]
start = ["deno", "lsp"]
[languages.deno.languageServer.initializationOptions]
enable = true
lint = true
unstable = true
config = "./bolt-foundry/deno.jsonc"
suggest.imports.autoDiscover = false
enablePaths = [
  "./packages",
  "./infra",
  "./experimental",
  "./docs",
  "./content",
  "./lib",
]
maxTsServerMemory = 16000

[[hints]]
regex = "generatedGraphQLFile"
message = "⚡️⚡️ You probably forgot to run `bff relay` because this indicates a graphql generated file is missing. If you like, you can run `bff relay --watch` in the shell, and it'll run automatically on each save. ⚡️⚡️"

[[ports]]
localPort = 8000
externalPort = 80

[env]
FLAG_DIRENV = "1"
REPLIT_PID1_FLAG_DIRENV = "1"
FLAKE_PATH = "/nix/store/vvq3r8xjg85892anwj74n154ail9bfs6-deno-1.43.1/bin:/nix/store/fag9frk7zh995c37cvn0a7va2dgghdj3-1password-cli-2.24.0/bin:/nix/store/m462pimbsankwhpwsrma5gl41dnqxdxq-ffmpeg-6.0-bin/bin:/nix/store/k6cz2bwbzkp73awma1cq0lmncj93970i-jq-1.7.1-bin/bin:/nix/store/haymcd6zsr6bndw8vb33z05p78ik0a9k-python3-3.11.8-env/bin:/nix/store/4cyp4swaiflypaxsgsf40kbkgy3m6dn3-watchman-2023.08.14.00/bin:/nix/store/gbn9s7vrva8vp9m04fbha5afrxwk010b-git-2.42.0/bin:/nix/store/8vp4z50hkb7z27qmdw9km9x3awa59vsi-sapling-0.2.20240116-133042+8acecb66/bin:/nix/store/lpi16513bai8kg2bd841745vzk72475x-python3-3.11.9/bin:/nix/store/556d870m1xjnym3jnsp9bvjgph4cclrj-patchelf-0.15.0/bin:/nix/store/a9kr77jici5pfcv8hprqncnmjlsrjhi4-gcc-wrapper-12.3.0/bin:/nix/store/h2abv2l8irqj942i5rq9wbrj42kbsh5y-gcc-12.3.0/bin:/nix/store/cww3k56xakjzf71wjc4jwcj7r95m97a1-glibc-2.38-66-bin/bin:/nix/store/204ak4443zipfr2yi6y5wal05bck1qqg-coreutils-9.3/bin:/nix/store/arixiwn6cdsanbbyf1mgwrx1lg4mvq05-binutils-wrapper-2.40/bin:/nix/store/01bi48ga8vzbz4zgh7g3bsl620cj27kj-binutils-2.40/bin:/nix/store/204ak4443zipfr2yi6y5wal05bck1qqg-coreutils-9.3/bin:/nix/store/grxhyjp838kk88vx0bykqflq0sis6i17-findutils-4.9.0/bin:/nix/store/n7vyjacjcdnc6mqcfj2wdgq7ks65pbyc-diffutils-3.10/bin:/nix/store/w69q832hyxlriwa9vvcj076443yvpfwm-gnused-4.9/bin:/nix/store/xwl5rw38d5jf0qwgwiwz3whdb35ijcx2-gnugrep-3.11/bin:/nix/store/q82gsqwih1xj4mhgl2nkqr66x227gn6y-gawk-5.2.2/bin:/nix/store/3x3kvc7iiisi3zap4q2gwh3vplg897n1-gnutar-1.35/bin:/nix/store/yv73dcxw00dqrirwlnqdnyv47l46hbn1-gzip-1.13/bin:/nix/store/qa5d9czm469ci4416a9qhswfjp9cfa85-bzip2-1.0.8-bin/bin:/nix/store/wnyzkpp94dg9s4iky7pd5lrx5x4blq2s-gnumake-4.4.1/bin:/nix/store/57dqrh5d96g2lriyyf81j53vzphfflh9-bash-5.2-p15/bin:/nix/store/5gk0b7j68pjh1m3xddkqy8a9v2ky8mcl-patch-2.7.6/bin:/nix/store/3vyv1www60lc5v0s2w0dni06y071bv62-xz-5.4.4-bin/bin:/nix/store/my4dqv1w8pd9nsibl2cz2dkqwpayy22l-file-5.45/bin"
BF_PATH = "$HOME/$REPL_SLUG"
BF_INFRA_BIN_PATH = "$BF_PATH/infra/bin"
PATH = "$BF_INFRA_BIN_PATH:$FLAKE_PATH:$PATH"
DENO_DIR = "$BF_PATH/.deno"
# PROD changable values
BF_ENTRYPOINT = "packages/web/web.ts"
BF_ENV = "DEVELOPMENT"
GOOGLE_OAUTH_CLIENT_ID = "1053566961455-rreuknvho4jqcj184evmj93n7n1nrjun.apps.googleusercontent.com"
BF_AUTH_REDIRECT_DOMAIN = "boltfoundrywtf.replit.app"
GOOGLE_OAUTH_REDIRECT_URL = "$BF_AUTH_REDIRECT_DOMAIN/google/oauth/end"
