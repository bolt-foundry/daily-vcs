/* esm.sh - esbuild bundle(axios@1.7.2/unsafe/cancel/CancelToken) denonext production */
import l from"/v135/axios@1.7.2/denonext/unsafe/cancel/CanceledError.js";var c=class u{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(t){n=t});let s=this;this.promise.then(r=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](r);s._listeners=null}),this.promise.then=r=>{let t,o=new Promise(i=>{s.subscribe(i),t=i}).then(r);return o.cancel=function(){s.unsubscribe(t)},o},e(function(t,o,i){s.reason||(s.reason=new l(t,o,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new u(function(r){e=r}),cancel:e}}},f=c;export{f as default};

import "https://deno.land/x/xhr@0.3.0/mod.ts";//# sourceMappingURL=CancelToken.js.map