/* esm.sh - esbuild bundle(mdast-util-to-hast@13.0.2) denonext production */
function D(t,e){let r={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,r),t.applyData(e,r)}function C(t,e){let r={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,r),[t.applyData(e,r),{type:"text",value:`
`}]}function B(t,e){let r=e.value?e.value+`
`:"",n={};e.lang&&(n.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function L(t,e){let r={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function I(t,e){let r={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}import{normalizeUri as $}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function A(t,e){let r=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=String(e.identifier).toUpperCase(),i=$(n.toLowerCase()),p=t.footnoteOrder.indexOf(n),o,a=t.footnoteCounts.get(n);a===void 0?(a=0,t.footnoteOrder.push(n),o=t.footnoteOrder.length):o=p+1,a+=1,t.footnoteCounts.set(n,a);let u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,u);let m={type:"element",tagName:"sup",properties:{},children:[u]};return t.patch(e,m),t.applyData(e,m)}function S(t,e){let r={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function P(t,e){if(t.options.allowDangerousHtml){let r={type:"raw",value:e.value};return t.patch(e,r),t.applyData(e,r)}}import{normalizeUri as ee}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function b(t,e){let r=e.referenceType,n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+n}];let i=t.all(e),p=i[0];p&&p.type==="text"?p.value="["+p.value:i.unshift({type:"text",value:"["});let o=i[i.length-1];return o&&o.type==="text"?o.value+=n:i.push({type:"text",value:n}),i}function R(t,e){let r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return b(t,e);let i={src:ee(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);let p={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,p),t.applyData(e,p)}import{normalizeUri as te}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function U(t,e){let r={src:te(e.url)};e.alt!==null&&e.alt!==void 0&&(r.alt=e.alt),e.title!==null&&e.title!==void 0&&(r.title=e.title);let n={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,n),t.applyData(e,n)}function O(t,e){let r={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,r);let n={type:"element",tagName:"code",properties:{},children:[r]};return t.patch(e,n),t.applyData(e,n)}import{normalizeUri as re}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function F(t,e){let r=String(e.identifier).toUpperCase(),n=t.definitionById.get(r);if(!n)return b(t,e);let i={href:re(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);let p={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,p),t.applyData(e,p)}import{normalizeUri as ne}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function H(t,e){let r={href:ne(e.url)};e.title!==null&&e.title!==void 0&&(r.title=e.title);let n={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z(t,e,r){let n=t.all(e),i=r?ie(r):T(e),p={},o=[];if(typeof e.checked=="boolean"){let l=n[0],c;l&&l.type==="element"&&l.tagName==="p"?c=l:(c={type:"element",tagName:"p",properties:{},children:[]},n.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),p.className=["task-list-item"]}let a=-1;for(;++a<n.length;){let l=n[a];(i||a!==0||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`}),l.type==="element"&&l.tagName==="p"&&!i?o.push(...l.children):o.push(l)}let u=n[n.length-1];u&&(i||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});let m={type:"element",tagName:"li",properties:p,children:o};return t.patch(e,m),t.applyData(e,m)}function ie(t){let e=!1;if(t.type==="list"){e=t.spread||!1;let r=t.children,n=-1;for(;!e&&++n<r.length;)e=T(r[n])}return e}function T(t){let e=t.spread;return e??t.children.length>1}function M(t,e){let r={},n=t.all(e),i=-1;for(typeof e.start=="number"&&e.start!==1&&(r.start=e.start);++i<n.length;){let o=n[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}let p={type:"element",tagName:e.ordered?"ol":"ul",properties:r,children:t.wrap(n,!0)};return t.patch(e,p),t.applyData(e,p)}function q(t,e){let r={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function j(t,e){let r={type:"root",children:t.wrap(t.all(e))};return t.patch(e,r),t.applyData(e,r)}function E(t,e){let r={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}import{pointEnd as le,pointStart as oe}from"/v135/unist-util-position@5.0.0/denonext/unist-util-position.mjs";function V(t,e){let r=t.all(e),n=r.shift(),i=[];if(n){let o={type:"element",tagName:"thead",properties:{},children:t.wrap([n],!0)};t.patch(e.children[0],o),i.push(o)}if(r.length>0){let o={type:"element",tagName:"tbody",properties:{},children:t.wrap(r,!0)},a=oe(e.children[1]),u=le(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),i.push(o)}let p={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,p),t.applyData(e,p)}function _(t,e,r){let n=r?r.children:void 0,p=(n?n.indexOf(e):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,a=o?o.length:e.children.length,u=-1,m=[];for(;++u<a;){let c=e.children[u],f={},h=o?o[u]:void 0;h&&(f.align=h);let s={type:"element",tagName:p,properties:f,children:[]};c&&(s.children=t.all(c),t.patch(c,s),s=t.applyData(c,s)),m.push(s)}let l={type:"element",tagName:"tr",properties:{},children:t.wrap(m,!0)};return t.patch(e,l),t.applyData(e,l)}function G(t,e){let r={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}import{trimLines as pe}from"/v135/trim-lines@3.0.1/denonext/trim-lines.mjs";function J(t,e){let r={type:"text",value:pe(String(e.value))};return t.patch(e,r),t.applyData(e,r)}function K(t,e){let r={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,r),t.applyData(e,r)}var v={blockquote:D,break:C,code:B,delete:L,emphasis:I,footnoteReference:A,heading:S,html:P,imageReference:R,image:U,inlineCode:O,linkReference:F,link:H,listItem:z,list:M,paragraph:q,root:j,strong:E,table:V,tableCell:G,tableRow:_,text:J,thematicBreak:K,toml:N,yaml:N,definition:N,footnoteDefinition:N};function N(){}import{ok as ge}from"/v135/devlop@1.1.0/denonext/devlop.mjs";import ae from"/v135/@ungap/structured-clone@1.2.0/denonext/structured-clone.mjs";import{normalizeUri as ce}from"/v135/micromark-util-sanitize-uri@2.0.0/denonext/micromark-util-sanitize-uri.mjs";function Q(t,e){let r=[{type:"text",value:"\u21A9"}];return e>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),r}function W(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function X(t){let e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=t.options.footnoteBackContent||Q,n=t.options.footnoteBackLabel||W,i=t.options.footnoteLabel||"Footnotes",p=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[],u=-1;for(;++u<t.footnoteOrder.length;){let m=t.footnoteById.get(t.footnoteOrder[u]);if(!m)continue;let l=t.all(m),c=String(m.identifier).toUpperCase(),f=ce(c.toLowerCase()),h=0,s=[],g=t.footnoteCounts.get(c);for(;g!==void 0&&++h<=g;){s.length>0&&s.push({type:"text",value:" "});let y=typeof r=="string"?r:r(u,h);typeof y=="string"&&(y={type:"text",value:y}),s.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,h),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}let d=l[l.length-1];if(d&&d.type==="element"&&d.tagName==="p"){let y=d.children[d.children.length-1];y&&y.type==="text"?y.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...s)}else l.push(...s);let x={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(l,!0)};t.patch(m,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:p,properties:{...ae(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}import k from"/v135/@ungap/structured-clone@1.2.0/denonext/structured-clone.mjs";import{visit as se}from"/v135/unist-util-visit@5.0.0/denonext/unist-util-visit.mjs";import{position as ue}from"/v135/unist-util-position@5.0.0/denonext/unist-util-position.mjs";var w={}.hasOwnProperty,fe={};function Z(t,e){let r=e||fe,n=new Map,i=new Map,p=new Map,o={...v,...r.handlers},a={all:m,applyData:me,definitionById:n,footnoteById:i,footnoteCounts:p,footnoteOrder:[],handlers:o,one:u,options:r,patch:he,wrap:de};return se(t,function(l){if(l.type==="definition"||l.type==="footnoteDefinition"){let c=l.type==="definition"?n:i,f=String(l.identifier).toUpperCase();c.has(f)||c.set(f,l)}}),a;function u(l,c){let f=l.type,h=a.handlers[f];if(w.call(a.handlers,f)&&h)return h(a,l,c);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in l){let{children:g,...d}=l,x=k(d);return x.children=a.all(l),x}return k(l)}return(a.options.unknownHandler||ye)(a,l,c)}function m(l){let c=[];if("children"in l){let f=l.children,h=-1;for(;++h<f.length;){let s=a.one(f[h],l);if(s){if(h&&f[h-1].type==="break"&&(!Array.isArray(s)&&s.type==="text"&&(s.value=Y(s.value)),!Array.isArray(s)&&s.type==="element")){let g=s.children[0];g&&g.type==="text"&&(g.value=Y(g.value))}Array.isArray(s)?c.push(...s):c.push(s)}}}return c}}function he(t,e){t.position&&(e.position=ue(t))}function me(t,e){let r=e;if(t&&t.data){let n=t.data.hName,i=t.data.hChildren,p=t.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{let o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&p&&Object.assign(r.properties,k(p)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function ye(t,e){let r=e.data||{},n="value"in e&&!(w.call(r,"hProperties")||w.call(r,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function de(t,e){let r=[],n=-1;for(e&&r.push({type:"text",value:`
`});++n<t.length;)n&&r.push({type:"text",value:`
`}),r.push(t[n]);return e&&t.length>0&&r.push({type:"text",value:`
`}),r}function Y(t){let e=0,r=t.charCodeAt(e);for(;r===9||r===32;)e++,r=t.charCodeAt(e);return t.slice(e)}function xe(t,e){let r=Z(t,e),n=r.one(t,void 0),i=X(r),p=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&(ge("children"in p),p.children.push({type:"text",value:`
`},i)),p}export{Q as defaultFootnoteBackContent,W as defaultFootnoteBackLabel,v as defaultHandlers,xe as toHast};
//# sourceMappingURL=mdast-util-to-hast.mjs.map