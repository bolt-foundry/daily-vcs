/* esm.sh - esbuild bundle(@tensorflow/tfjs-core@4.20.0/dist/ops/separable_conv2d) denonext production */
import{convertToTensor as a}from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/tensor_util_env.js";import*as r from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/util.js";import{conv2d as w}from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/ops/conv2d.js";import{depthwiseConv2d as k}from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/ops/depthwise_conv2d.js";import{op as $}from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/ops/operation.js";import{reshape as h}from"/v135/@tensorflow/tfjs-core@4.20.0/denonext/dist/ops/reshape.js";function E(u,b,f,m,C,v=[1,1],i="NHWC"){let t=a(u,"x","separableConv2d"),s=a(b,"depthwiseFilter","separableConv2d"),e=a(f,"pointwiseFilter","separableConv2d"),n=t,p=!1;if(t.rank===3&&(p=!0,n=h(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");r.assert(n.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${n.rank}.`),r.assert(s.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${s.rank}.`),r.assert(e.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${s.rank}.`),r.assert(e.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${e.shape[0]}.`),r.assert(e.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${e.shape[1]}.`);let l=s.shape[2],d=s.shape[3];r.assert(e.shape[2]===l*d,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${l*d}, but got ${e.shape[2]}.`);let c=k(n,s,m,C,i,v),o=w(c,e,1,"valid",i);return p?h(o,[o.shape[1],o.shape[2],o.shape[3]]):o}var T=$({separableConv2d_:E});export{T as separableConv2d};
//# sourceMappingURL=separable_conv2d.js.map