/* esm.sh - esbuild bundle(@tensorflow/tfjs-core@4.15.0/dist/ops/losses/compute_weighted_loss) denonext production */
import{convertToTensor as p}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/tensor_util_env.js";import{cast as h}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/cast.js";import{div as f}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/div.js";import{Reduction as m}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/loss_ops_utils.js";import{mean as E}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/mean.js";import{mul as c}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/mul.js";import{notEqual as N}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/not_equal.js";import{ones as d}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/ones.js";import{op as g}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/operation.js";import{scalar as l}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/scalar.js";import{sum as r}from"/v135/@tensorflow/tfjs-core@4.15.0/denonext/dist/ops/sum.js";function W(a,u,s=m.SUM_BY_NONZERO_WEIGHTS){let e=p(a,"losses","computeWeightedLoss"),o=null;u!=null&&(o=p(u,"weights","computeWeightedLoss"));let t=o==null?e:c(e,o);if(s===m.NONE)return t;if(s===m.SUM)return r(t);if(s===m.MEAN){if(o==null)return E(t);{let i=e.size/o.size,n=f(r(t),r(o));return i>1?f(n,l(i)):n}}if(s===m.SUM_BY_NONZERO_WEIGHTS){if(o==null)return f(r(t),l(e.size));{let i=c(o,d(e.shape)),n=h(r(N(i,l(0))),"float32");return f(r(t),n)}}throw Error(`Unknown reduction: ${s}`)}var $=g({computeWeightedLoss_:W});export{$ as computeWeightedLoss};
//# sourceMappingURL=compute_weighted_loss.js.map