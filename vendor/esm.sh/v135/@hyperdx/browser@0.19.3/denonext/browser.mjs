/* esm.sh - esbuild bundle(@hyperdx/browser@0.19.3) denonext production */
import __Process$ from "node:process";
var __global$ = globalThis || (typeof window !== "undefined" ? window : self);
var Nh=Object.create;var Fi=Object.defineProperty;var Ch=Object.getOwnPropertyDescriptor;var Lh=Object.getOwnPropertyNames;var Ih=Object.getPrototypeOf,Ph=Object.prototype.hasOwnProperty;var Mh=(pe,$)=>()=>($||pe(($={exports:{}}).exports,$),$.exports),kh=(pe,$)=>{for(var ke in $)Fi(pe,ke,{get:$[ke],enumerable:!0})},Vi=(pe,$,ke,_r)=>{if($&&typeof $=="object"||typeof $=="function")for(let xt of Lh($))!Ph.call(pe,xt)&&xt!==ke&&Fi(pe,xt,{get:()=>$[xt],enumerable:!(_r=Ch($,xt))||_r.enumerable});return pe},Zt=(pe,$,ke)=>(Vi(pe,$,"default"),ke&&Vi(ke,$,"default")),_c=(pe,$,ke)=>(ke=pe!=null?Nh(Ih(pe)):{},Vi($||!pe||!pe.__esModule?Fi(ke,"default",{value:pe,enumerable:!0}):ke,pe));var Gi=Mh((ji,Hi)=>{(function(pe,$){typeof ji=="object"&&typeof Hi<"u"?Hi.exports=$():typeof define=="function"&&define.amd?define($):(pe=typeof globalThis<"u"?globalThis:pe||self).HyperDX=$()})(ji,function(){"use strict";var pe=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof __global$=="object"?__global$:{},$="1.6.0",ke=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,_r=function(e){var t=new Set([e]),n=new Set,r=e.match(ke);if(!r)return function(){return!1};var o=+r[1],i=+r[2],a=+r[3];if(r[4]!=null)return function(c){return c===e};function s(c){return n.add(c),!1}function u(c){return t.add(c),!0}return function(c){if(t.has(c))return!0;if(n.has(c))return!1;var l=c.match(ke);if(!l)return s(c);var p=+l[1],d=+l[2],f=+l[3];return l[4]!=null||o!==p?s(c):o===0?i===d&&a<=f?u(c):s(c):i<=d?u(c):s(c)}}($),xt=$.split(".")[0],wn=Symbol.for("opentelemetry.js.api."+xt),An=pe;function Nn(e,t,n,r){var o;r===void 0&&(r=!1);var i=An[wn]=(o=An[wn])!==null&&o!==void 0?o:{version:$};if(!r&&i[e]){var a=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(a.stack||a.message),!1}return i.version!==$?(a=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+$),n.error(a.stack||a.message),!1):(i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+$+"."),!0)}function Dt(e){var t,n,r=(t=An[wn])===null||t===void 0?void 0:t.version;if(r&&_r(r))return(n=An[wn])===null||n===void 0?void 0:n[e]}function Cn(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+$+".");var n=An[wn];n&&delete n[e]}var ae,yc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bc=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Tc=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ln("verbose",this._namespace,t)},e}();function Ln(e,t,n){var r=Dt("diag");if(r)return n.unshift(t),r[e].apply(r,bc([],yc(n),!1))}(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(ae||(ae={}));var Sc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Oc=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},it=function(){function e(){function t(r){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=Dt("diag");if(a)return a[r].apply(a,Oc([],Sc(o),!1))}}var n=this;n.setLogger=function(r,o){var i,a,s;if(o===void 0&&(o={logLevel:ae.INFO}),r===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((i=u.stack)!==null&&i!==void 0?i:u.message),!1}typeof o=="number"&&(o={logLevel:o});var c=Dt("diag"),l=function(d,f){function v(T,y){var g=f[T];return typeof g=="function"&&d>=y?g.bind(f):function(){}}return d<ae.NONE?d=ae.NONE:d>ae.ALL&&(d=ae.ALL),f=f||{},{error:v("error",ae.ERROR),warn:v("warn",ae.WARN),info:v("info",ae.INFO),debug:v("debug",ae.DEBUG),verbose:v("verbose",ae.VERBOSE)}}((a=o.logLevel)!==null&&a!==void 0?a:ae.INFO,r);if(c&&!o.suppressOverrideMessage){var p=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";c.warn("Current logger will be overwritten from "+p),l.warn("Current logger will overwrite one already registered from "+p)}return Nn("diag",l,n,!0)},n.disable=function(){Cn("diag",n)},n.createComponentLogger=function(r){return new Tc(r)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}(),Rc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wc=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ac=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=Rc(t,2);return[n[0],n[1]]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=new e(this._entries);try{for(var a=wc(r),s=a.next();!s.done;s=a.next()){var u=s.value;i._entries.delete(u)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i},e.prototype.clear=function(){return new e},e}(),Nc=Symbol("BaggageEntryMetadata"),Cc=it.instance();function Lc(e){return e===void 0&&(e={}),new Ac(new Map(Object.entries(e)))}function fo(e){return Symbol.for(e)}var Er,Ve,Ic=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,o){var i=new e(n._currentContext);return i._currentContext.set(r,o),i},n.deleteValue=function(r){var o=new e(n._currentContext);return o._currentContext.delete(r),o}},Fe=new Ic,$t=(Er=function(e,t){return Er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Er(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Er(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}),Pc=function(){function e(){}return e.prototype.createHistogram=function(t,n){return jc},e.prototype.createCounter=function(t,n){return Fc},e.prototype.createUpDownCounter=function(t,n){return Hc},e.prototype.createObservableGauge=function(t,n){return Yc},e.prototype.createObservableCounter=function(t,n){return Gc},e.prototype.createObservableUpDownCounter=function(t,n){return zc},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),ho=function(){},Mc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t.prototype.add=function(n,r){},t}(ho),kc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t.prototype.add=function(n,r){},t}(ho),xc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t.prototype.record=function(n,r){},t}(ho),vo=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),Dc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t}(vo),Uc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t}(vo),Bc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return $t(t,e),t}(vo),Vc=new Pc,Fc=new Mc,jc=new xc,Hc=new kc,Gc=new Dc,Yc=new Uc,zc=new Bc,Wc={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},Xc={set:function(e,t,n){e!=null&&(e[t]=n)}},qc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Jc=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Kc=function(){function e(){}return e.prototype.active=function(){return Fe},e.prototype.with=function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return n.call.apply(n,Jc([r],qc(o),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Zc=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$c=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},mo="context",Qc=new Kc,gr=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Nn(mo,t,it.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var o,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(o=this._getContextManager()).with.apply(o,$c([t,n,r],Zc(i),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Dt(mo)||Qc},e.prototype.disable=function(){this._getContextManager().disable(),Cn(mo,it.instance())},e}();(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Ve||(Ve={}));var Yi="0000000000000000",zi="00000000000000000000000000000000",Wi={traceId:zi,spanId:Yi,traceFlags:Ve.NONE},In=function(){function e(t){t===void 0&&(t=Wi),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),_o=fo("OpenTelemetry Context Key SPAN");function Eo(e){return e.getValue(_o)||void 0}function el(){return Eo(gr.getInstance().active())}function go(e,t){return e.setValue(_o,t)}function tl(e){return e.deleteValue(_o)}function nl(e,t){return go(e,new In(t))}function Xi(e){var t;return(t=Eo(e))===null||t===void 0?void 0:t.spanContext()}var rl=/^([0-9a-f]{32})$/i,ol=/^[0-9a-f]{16}$/i;function qi(e){return rl.test(e)&&e!==zi}function Pn(e){return qi(e.traceId)&&(t=e.spanId,ol.test(t)&&t!==Yi);var t}function il(e){return new In(e)}var yo=gr.getInstance(),Ji=function(){function e(){}return e.prototype.startSpan=function(t,n,r){if(r===void 0&&(r=yo.active()),!!n?.root)return new In;var o,i=r&&Xi(r);return typeof(o=i)=="object"&&typeof o.spanId=="string"&&typeof o.traceId=="string"&&typeof o.traceFlags=="number"&&Pn(i)?new In(i):new In},e.prototype.startActiveSpan=function(t,n,r,o){var i,a,s;if(!(arguments.length<2)){arguments.length===2?s=n:arguments.length===3?(i=n,s=r):(i=n,a=r,s=o);var u=a??yo.active(),c=this.startSpan(t,i,u),l=go(u,c);return yo.with(l,s,void 0,c)}},e}(),Qt,je,yr,al=new Ji,sl=function(){function e(t,n,r,o){this._provider=t,this.name=n,this.version=r,this.options=o}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):al},e}(),ul=new(function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new Ji},e}()),Ki=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var o;return(o=this.getDelegateTracer(t,n,r))!==null&&o!==void 0?o:new sl(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:ul},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(t,n,r)},e}();(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Qt||(Qt={})),function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(je||(je={})),function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(yr||(yr={}));var V=gr.getInstance(),D=it.instance(),cl=new(function(){function e(){}return e.prototype.getMeter=function(t,n,r){return Vc},e}()),bo="metrics",To=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return Nn(bo,t,it.instance())},e.prototype.getMeterProvider=function(){return Dt(bo)||cl},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){Cn(bo,it.instance())},e}().getInstance(),ll=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}(),So=fo("OpenTelemetry Baggage Key");function Zi(e){return e.getValue(So)||void 0}function pl(){return Zi(gr.getInstance().active())}function dl(e,t){return e.setValue(So,t)}function fl(e){return e.deleteValue(So)}var Oo="propagation",hl=new ll,vl=function(){function e(){this.createBaggage=Lc,this.getBaggage=Zi,this.getActiveBaggage=pl,this.setBaggage=dl,this.deleteBaggage=fl}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Nn(Oo,t,it.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=Xc),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=Wc),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Cn(Oo,it.instance())},e.prototype._getGlobalPropagator=function(){return Dt(Oo)||hl},e}(),He=vl.getInstance(),Ro="trace",K=function(){function e(){this._proxyTracerProvider=new Ki,this.wrapSpanContext=il,this.isSpanContextValid=Pn,this.deleteSpan=tl,this.getSpan=Eo,this.getActiveSpan=el,this.getSpanContext=Xi,this.setSpan=go,this.setSpanContext=nl}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Nn(Ro,this._proxyTracerProvider,it.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Dt(Ro)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Cn(Ro,it.instance()),this._proxyTracerProvider=new Ki},e}().getInstance(),ml={context:V,diag:D,metrics:To,propagation:He,trace:K};function $i(e){e===void 0&&(e=[]);for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(Array.isArray(o)){var i=$i(o);t=t.concat(i.instrumentations)}else typeof o=="function"?t.push(new o):o.instrumentationName&&t.push(o)}return{instrumentations:t}}function _l(e){var t=$i(e.instrumentations).instrumentations,n=e.tracerProvider||K.getTracerProvider(),r=e.meterProvider||To.getMeterProvider();return function(o,i,a){for(var s=0,u=o.length;s<u;s++){var c=o[s];i&&c.setTracerProvider(i),a&&c.setMeterProvider(a),c.getConfig().enabled||c.enable()}}(t,n,r),function(){(function(o){o.forEach(function(i){return i.disable()})})(t)}}var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof __global$<"u"?__global$:typeof self<"u"?self:{};function Mn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function wo(e){return typeof e=="function"}var Pe=console.error.bind(console);function kn(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function xn(e){e&&e.logger&&(wo(e.logger)?Pe=e.logger:Pe("new logger isn't a function, not replacing"))}function Qi(e,t,n){if(e&&e[t]){if(!n)return Pe("no wrapper function"),void Pe(new Error().stack);if(wo(e[t])&&wo(n)){var r=e[t],o=n(r,t);return kn(o,"__original",r),kn(o,"__unwrap",function(){e[t]===o&&kn(e,t,r)}),kn(o,"__wrapped",!0),kn(e,t,o),o}Pe("original object and wrapper must be functions")}else Pe("no original function "+t+" to wrap")}function ea(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void Pe("no original to unwrap to -- has "+t+" already been unwrapped?"):(Pe("no function to unwrap."),void Pe(new Error().stack))}xn.wrap=Qi,xn.massWrap=function(e,t,n){if(!e)return Pe("must provide one or more modules to patch"),void Pe(new Error().stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach(function(r){t.forEach(function(o){Qi(r,o,n)})}):Pe("must provide one or more functions to wrap on modules")},xn.unwrap=ea,xn.massUnwrap=function(e,t){if(!e)return Pe("must provide one or more modules to patch"),void Pe(new Error().stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach(function(n){t.forEach(function(r){ea(n,r)})}):Pe("must provide one or more functions to unwrap on modules")};var Y=xn,Ao=function(){return Ao=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ao.apply(this,arguments)},El=function(){function e(t,n,r){r===void 0&&(r={}),this.instrumentationName=t,this.instrumentationVersion=n,this._wrap=Y.wrap,this._unwrap=Y.unwrap,this._massWrap=Y.massWrap,this._massUnwrap=Y.massUnwrap,this._config=Ao({enabled:!0},r),this._diag=D.createComponentLogger({namespace:t}),this._tracer=K.getTracer(t,n),this._meter=To.getMeter(t,n),this._updateMetricInstruments()}return Object.defineProperty(e.prototype,"meter",{get:function(){return this._meter},enumerable:!1,configurable:!0}),e.prototype.setMeterProvider=function(t){this._meter=t.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()},e.prototype._updateMetricInstruments=function(){},e.prototype.getConfig=function(){return this._config},e.prototype.setConfig=function(t){t===void 0&&(t={}),this._config=Object.assign({},t)},e.prototype.setTracerProvider=function(t){this._tracer=t.getTracer(this.instrumentationName,this.instrumentationVersion)},Object.defineProperty(e.prototype,"tracer",{get:function(){return this._tracer},enumerable:!1,configurable:!0}),e}(),gl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e){function t(n,r,o){o===void 0&&(o={});var i=e.call(this,n,r,o)||this;return i._config.enabled&&i.enable(),i}return gl(t,e),t}(El);function No(e,t,n){var r,o;try{o=e()}catch(i){r=i}finally{if(t(r,o),r&&!n)throw r;return o}}function ge(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var ta=fo("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function br(e){return e.setValue(ta,!0)}function Co(e){return e.getValue(ta)===!0}var yl="=",Lo=";",Tr=",",Io="baggage",bl=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function na(e){var t=e.split(Lo);if(!(t.length<=0)){var n=t.shift();if(n){var r=n.split(yl);if(r.length===2){var o,i,a=decodeURIComponent(r[0].trim()),s=decodeURIComponent(r[1].trim());return t.length>0&&(typeof(i=t.join(Lo))!="string"&&(Cc.error("Cannot create baggage metadata from unknown type: "+typeof i),i=""),o={__TYPE__:Nc,toString:function(){return i}}),{key:a,value:s,metadata:o}}}}}function ra(e){return typeof e!="string"||e.length===0?{}:e.split(Tr).map(function(t){return na(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}var Tl=function(){function e(){}return e.prototype.inject=function(t,n,r){var o=He.getBaggage(t);if(o&&!Co(t)){var i=function(s){return s.getAllEntries().map(function(u){var c=bl(u,2),l=c[0],p=c[1],d=encodeURIComponent(l)+"="+encodeURIComponent(p.value);return p.metadata!==void 0&&(d+=Lo+p.metadata.toString()),d})}(o).filter(function(s){return s.length<=4096}).slice(0,180),a=function(s){return s.reduce(function(u,c){var l=""+u+(u!==""?Tr:"")+c;return l.length>8192?u:l},"")}(i);a.length>0&&r.set(n,Io,a)}},e.prototype.extract=function(t,n,r){var o=r.get(n,Io),i=Array.isArray(o)?o.join(Tr):o;if(!i)return t;var a={};return i.length===0?t:(i.split(Tr).forEach(function(s){var u=na(s);if(u){var c={value:u.value};u.metadata&&(c.metadata=u.metadata),a[u.key]=c}}),Object.entries(a).length===0?t:He.setBaggage(t,He.createBaggage(a)))},e.prototype.fields=function(){return[Io]},e}(),oa=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Sl=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Sr(e){var t,n,r={};if(typeof e!="object"||e==null)return r;try{for(var o=oa(Object.entries(e)),i=o.next();!i.done;i=o.next()){var a=Sl(i.value,2),s=a[0],u=a[1];Ol(s)?ia(u)?Array.isArray(u)?r[s]=u.slice():r[s]=u:D.warn("Invalid attribute value set for key: "+s):D.warn("Invalid attribute key: "+s)}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function Ol(e){return typeof e=="string"&&e.length>0}function ia(e){return e==null||(Array.isArray(e)?function(t){var n,r,o;try{for(var i=oa(t),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!=null){if(!o){if(aa(s)){o=typeof s;continue}return!1}if(typeof s!==o)return!1}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}(e):aa(e))}function aa(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var at,Rl=function(e){D.error(function(t){return typeof t=="string"?t:JSON.stringify(function(n){for(var r={},o=n;o!==null;)Object.getOwnPropertyNames(o).forEach(function(i){if(!r[i]){var a=o[i];a&&(r[i]=String(a))}}),o=Object.getPrototypeOf(o);return r}(t))}(e))};function We(e){try{Rl(e)}catch{}}(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(at||(at={}));var Ut=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof __global$=="object"?__global$:{},wl=",",Al=["OTEL_SDK_DISABLED"];function Nl(e){return Al.indexOf(e)>-1}var Cl=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Ll(e){return Cl.indexOf(e)>-1}var Il=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Pl(e){return Il.indexOf(e)>-1}var Or=1/0,Rr=128,sa={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:ae.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Or,OTEL_ATTRIBUTE_COUNT_LIMIT:Rr,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Or,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Rr,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Or,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Rr,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:at.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function Ml(e,t,n){if(n[e]!==void 0){var r=String(n[e]);t[e]=r.toLowerCase()==="true"}}function kl(e,t,n,r,o){if(r===void 0&&(r=-1/0),o===void 0&&(o=1/0),n[e]!==void 0){var i=Number(n[e]);isNaN(i)||(t[e]=i<r?r:i>o?o:i)}}function xl(e,t,n,r){r===void 0&&(r=wl);var o=n[e];typeof o=="string"&&(t[e]=o.split(r).map(function(i){return i.trim()}))}var Dl={ALL:ae.ALL,VERBOSE:ae.VERBOSE,DEBUG:ae.DEBUG,INFO:ae.INFO,WARN:ae.WARN,ERROR:ae.ERROR,NONE:ae.NONE};function Ul(e,t,n){var r=n[e];if(typeof r=="string"){var o=Dl[r.toUpperCase()];o!=null&&(t[e]=o)}}function Po(e){var t={};for(var n in sa){var r=n;if(r==="OTEL_LOG_LEVEL")Ul(r,t,e);else if(Nl(r))Ml(r,t,e);else if(Ll(r))kl(r,t,e);else if(Pl(r))xl(r,t,e);else{var o=e[r];o!=null&&(t[r]=String(o))}}return t}function ce(){var e=Po(Ut);return Object.assign({},sa,e)}function Dn(e){for(var t=e.length,n="",r=0;r<t;r+=2){var o=e.substring(r,r+2),i=parseInt(o,16);n+=String.fromCharCode(i)}return btoa(n)}var Un,Xe=performance,z={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},ua="topic",ca="receive",Bl="process.runtime.name",Mo="service.name",en="telemetry.sdk.name",Bn="telemetry.sdk.language",tn="telemetry.sdk.version",Bt=((Un={})[en]="opentelemetry",Un[Bl]="browser",Un[Bn]="webjs",Un[tn]="1.14.0",Un),st,Vl=Math.pow(10,6),wr=Math.pow(10,9);function _t(e){var t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*Vl)]}function ko(){var e=Xe.timeOrigin;if(typeof e!="number"){var t=Xe;e=t.timing&&t.timing.fetchStart}return e}function Vt(e){return da(_t(ko()),_t(typeof e=="number"?e:Xe.now()))}function Vn(e){if(xo(e))return e;if(typeof e=="number")return e<ko()?Vt(e):_t(e);if(e instanceof Date)return _t(e.getTime());throw TypeError("Invalid input type")}function $e(e){return e[0]*wr+e[1]}function la(e){return Math.round(1e6*e[0]+e[1]/1e3)}function xo(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function pa(e){return xo(e)||typeof e=="number"||e instanceof Date}function da(e,t){var n=[e[0]+t[0],e[1]+t[1]];return n[1]>=wr&&(n[1]-=wr,n[0]+=1),n}(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(st||(st={}));var Fl=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jl=function(){function e(t){var n;t===void 0&&(t={}),this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,o){return r.concat(o)},[])))}return e.prototype.inject=function(t,n,r){var o,i;try{for(var a=Fl(this._propagators),s=a.next();!s.done;s=a.next()){var u=s.value;try{u.inject(t,n,r)}catch(c){D.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){o={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}},e.prototype.extract=function(t,n,r){return this._propagators.reduce(function(o,i){try{return i.extract(o,n,r)}catch(a){D.warn("Failed to inject with "+i.constructor.name+". Err: "+a.message)}return o},t)},e.prototype.fields=function(){return this._fields.slice()},e}(),Do="[_0-9a-z-*/]",Hl=new RegExp("^(?:"+("[a-z]"+Do+"{0,255}")+"|"+("[a-z0-9]"+Do+"{0,240}@[a-z]"+Do+"{0,13}")+")$"),Gl=/^[ -~]{0,255}[!-~]$/,Yl=/,|=/,zl=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+"="+t.get(r)),n},[]).join(",")},e.prototype._parse=function(t){t.length>512||(this._internalState=t.split(",").reverse().reduce(function(n,r){var o=r.trim(),i=o.indexOf("=");if(i!==-1){var a=o.slice(0,i),s=o.slice(i+1,r.length);(function(u){return Hl.test(u)})(a)&&function(u){return Gl.test(u)&&!Yl.test(u)}(s)&&n.set(a,s)}return n},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}(),Ar="traceparent",Uo="tracestate",Wl=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$"),fa,ha,Xl=function(){function e(){}return e.prototype.inject=function(t,n,r){var o=K.getSpanContext(t);if(o&&!Co(t)&&Pn(o)){var i="00-"+o.traceId+"-"+o.spanId+"-0"+Number(o.traceFlags||Ve.NONE).toString(16);r.set(n,Ar,i),o.traceState&&r.set(n,Uo,o.traceState.serialize())}},e.prototype.extract=function(t,n,r){var o=r.get(n,Ar);if(!o)return t;var i=Array.isArray(o)?o[0]:o;if(typeof i!="string")return t;var a=function(c){var l=Wl.exec(c);return l?l[1]==="00"&&l[5]?null:{traceId:l[2],spanId:l[3],traceFlags:parseInt(l[4],16)}:null}(i);if(!a)return t;a.isRemote=!0;var s=r.get(n,Uo);if(s){var u=Array.isArray(s)?s.join(","):s;a.traceState=new zl(typeof u=="string"?u:void 0)}return K.setSpanContext(t,a)},e.prototype.fields=function(){return[Ar,Uo]},e}(),ql=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Qt.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Jl=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Qt.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Kl="[object Object]",Zl="[object Null]",$l="[object Undefined]",va=Function.prototype.toString,Ql=va.call(Object),ep=(fa=Object.getPrototypeOf,ha=Object,function(e){return fa(ha(e))}),ma=Object.prototype,_a=ma.hasOwnProperty,Ft=Symbol?Symbol.toStringTag:void 0,Ea=ma.toString;function ga(e){if(!function(r){return r!=null&&typeof r=="object"}(e)||function(r){return r==null?r===void 0?$l:Zl:Ft&&Ft in Object(r)?function(o){var i=_a.call(o,Ft),a=o[Ft],s=!1;try{o[Ft]=void 0,s=!0}catch{}var u=Ea.call(o);return s&&(i?o[Ft]=a:delete o[Ft]),u}(r):function(o){return Ea.call(o)}(r)}(e)!==Kl)return!1;var t=ep(e);if(t===null)return!0;var n=_a.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&va.call(n)===Ql}var tp=20;function Bo(e){return Nr(e)?e.slice():e}function ya(e,t,n,r){var o;if(n===void 0&&(n=0),!(n>tp)){if(n++,Cr(e)||Cr(t)||Ta(t))o=Bo(t);else if(Nr(e)){if(o=e.slice(),Nr(t))for(var i=0,a=t.length;i<a;i++)o.push(Bo(t[i]));else if(Fn(t))for(i=0,a=(s=Object.keys(t)).length;i<a;i++)o[u=s[i]]=Bo(t[u])}else if(Fn(e))if(Fn(t)){if(!function(v,T){return!(!ga(v)||!ga(T))}(e,t))return t;o=Object.assign({},e);var s;for(i=0,a=(s=Object.keys(t)).length;i<a;i++){var u,c=t[u=s[i]];if(Cr(c))c===void 0?delete o[u]:o[u]=c;else{var l=o[u],p=c;if(ba(e,u,r)||ba(t,u,r))delete o[u];else{if(Fn(l)&&Fn(p)){var d=r.get(l)||[],f=r.get(p)||[];d.push({obj:e,key:u}),f.push({obj:t,key:u}),r.set(l,d),r.set(p,f)}o[u]=ya(o[u],c,n,r)}}}}else o=t;return o}}function ba(e,t,n){for(var r=n.get(e[t])||[],o=0,i=r.length;o<i;o++){var a=r[o];if(a.key===t&&a.obj===e)return!0}return!1}function Nr(e){return Array.isArray(e)}function Ta(e){return typeof e=="function"}function Fn(e){return!Cr(e)&&!Nr(e)&&!Ta(e)&&typeof e=="object"}function Cr(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e===void 0||e instanceof Date||e instanceof RegExp||e===null}var np=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Sa(e,t){return typeof t=="string"?e===t:!!e.match(t)}function jn(e,t){var n,r;if(!t)return!1;try{for(var o=np(t),i=o.next();!i.done;i=o.next())if(Sa(e,i.value))return!0}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}var rp=function(){function e(){var t=this;this._promise=new Promise(function(n,r){t._resolve=n,t._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}(),op=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ip=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Lr=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new rp}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,ip([this._that],op(r),!1))).then(function(i){return n._deferred.resolve(i)},function(i){return n._deferred.reject(i)})}catch(i){this._deferred.reject(i)}}return this._deferred.promise},e}(),Ir,ap={_export:function(e,t){return new Promise(function(n){V.with(br(V.active()),function(){e.export(t,function(r){n(r)})})})}};(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ir||(Ir={}));var Vo=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Ir.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),Pr=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:Ir.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),sp=function(){function e(t){var n,r,o,i;this._root=t.root,this._root||(We(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Pr),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new Pr,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new Vo,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new Pr,this._localParentNotSampled=(i=t.localParentNotSampled)!==null&&i!==void 0?i:new Vo}return e.prototype.shouldSample=function(t,n,r,o,i,a){var s=K.getSpanContext(t);return s&&Pn(s)?s.isRemote?s.traceFlags&Ve.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,o,i,a):this._remoteParentNotSampled.shouldSample(t,n,r,o,i,a):s.traceFlags&Ve.SAMPLED?this._localParentSampled.shouldSample(t,n,r,o,i,a):this._localParentNotSampled.shouldSample(t,n,r,o,i,a):this._root.shouldSample(t,n,r,o,i,a)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),up=function(){function e(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=ce();this._maxExportBatchSize=typeof n?.maxExportBatchSize=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof n?.maxQueueSize=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof n?.scheduledDelayMillis=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof n?.exportTimeoutMillis=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Lr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(D.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&Ve.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize)return this._droppedSpansCount===0&&D.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(D.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var o=[],i=0,a=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);i<a;i++)o.push(t._flushOneBatch());Promise.all(o).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var o=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);V.with(br(V.active()),function(){var i=t._finishedSpans.splice(0,t._maxExportBatchSize),a=function(){return t._exporter.export(i,function(u){var c;clearTimeout(o),u.code===st.SUCCESS?n():r((c=u.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})},s=i.map(function(u){return u.resource}).filter(function(u){return u.asyncAttributesPending});s.length===0?a():Promise.all(s.map(function(u){var c;return(c=u.waitForAsyncAttributes)===null||c===void 0?void 0:c.call(u)})).then(a,function(u){We(u),r(u)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var n=function(){t._isExporting=!0,t._flushOneBatch().then(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(r){t._isExporting=!1,We(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis),this._timer)}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),cp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lp=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.onInit(r),o}return cp(t,e),t.prototype.onInit=function(n){var r=this;n?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&r.forceFlush()},this._pageHideListener=function(){r.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(up),nn,Nt=function(){return Nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Nt.apply(this,arguments)},pp=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(l){i(l)}}function s(c){try{u(r.throw(c))}catch(l){i(l)}}function u(c){var l;c.done?o(c.value):(l=c.value,l instanceof n?l:new n(function(p){p(l)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},dp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||l[0]!==6&&l[0]!==2)){a=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(l[0]===6&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(p){l=[6,p],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}},fp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hp=function(){function e(t,n){var r,o=this;this._attributes=t,this.asyncAttributesPending=n!=null,this._syncAttributes=(r=this._attributes)!==null&&r!==void 0?r:{},this._asyncAttributesPromise=n?.then(function(i){return o._attributes=Object.assign({},o._attributes,i),o.asyncAttributesPending=!1,i},function(i){return D.debug("a resource's async attributes promise rejected: %s",i),o.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[Mo]="unknown_service",t[Bn]=Bt[Bn],t[en]=Bt[en],t[tn]=Bt[tn],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&D.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return pp(this,void 0,void 0,function(){return dp(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var o=Nt(Nt({},this._syncAttributes),(n=t._syncAttributes)!==null&&n!==void 0?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(a){var s,u=fp(a,2),c=u[0],l=u[1];return Nt(Nt(Nt(Nt({},r._syncAttributes),c),(s=t._syncAttributes)!==null&&s!==void 0?s:t.attributes),l)});return new e(o,i)},e.EMPTY=new e({}),e}(),vp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mp=function(){function e(){}return e.prototype.export=function(t,n){return this._sendSpans(t,n)},e.prototype.shutdown=function(){return this._sendSpans([]),this.forceFlush()},e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype._exportInfo=function(t){var n;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(n=t.spanContext().traceState)===null||n===void 0?void 0:n.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:la(t.startTime),duration:la(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},e.prototype._sendSpans=function(t,n){var r,o;try{for(var i=vp(t),a=i.next();!a.done;a=i.next()){var s=a.value;console.dir(this._exportInfo(s),{depth:3})}}catch(u){r={error:u}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}if(n)return n({code:st.SUCCESS})},e}(),_p=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(l){i(l)}}function s(c){try{u(r.throw(c))}catch(l){i(l)}}function u(c){var l;c.done?o(c.value):(l=c.value,l instanceof n?l:new n(function(p){p(l)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Ep=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||l[0]!==6&&l[0]!==2)){a=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(l[0]===6&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(p){l=[6,p],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}},gp=function(){function e(t){this._exporter=t,this._shutdownOnce=new Lr(this._shutdown,this),this._unresolvedExports=new Set}return e.prototype.forceFlush=function(){return _p(this,void 0,void 0,function(){return Ep(this,function(t){switch(t.label){case 0:return[4,Promise.all(Array.from(this._unresolvedExports))];case 1:return t.sent(),this._exporter.forceFlush?[4,this._exporter.forceFlush()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){var n,r,o=this;if(!this._shutdownOnce.isCalled&&t.spanContext().traceFlags&Ve.SAMPLED){var i=function(){return ap._export(o._exporter,[t]).then(function(s){var u;s.code!==st.SUCCESS&&We((u=s.error)!==null&&u!==void 0?u:new Error("SimpleSpanProcessor: span export failed (status "+s+")"))}).catch(function(s){We(s)})};if(t.resource.asyncAttributesPending){var a=(r=(n=t.resource).waitForAsyncAttributes)===null||r===void 0?void 0:r.call(n).then(function(){return a!=null&&o._unresolvedExports.delete(a),i()},function(s){return We(s)});a!=null&&this._unresolvedExports.add(a)}else i()}},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}(),yp=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Tp=function(){function e(t,n,r,o,i,a,s,u,c){s===void 0&&(s=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:yr.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=o,this.parentSpanId=a,this.kind=i,this.links=s;var l=Date.now();this._performanceStartTime=Xe.now(),this._performanceOffset=l-(this._performanceStartTime+ko()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??l),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(D.warn("Invalid attribute key: "+t),this):ia(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(n),this):(D.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,r;try{for(var o=yp(Object.entries(t)),i=o.next();!i.done;i=o.next()){var a=bp(i.value,2),s=a[0],u=a[1];this.setAttribute(s,u)}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return D.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(D.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),pa(n)&&(pa(r)||(r=n),n=void 0);var o=Sr(n);return this.events.push({name:t,attributes:o,time:this._getTime(r),droppedAttributesCount:0}),this},e.prototype.setStatus=function(t){return this._isSpanEnded()||(this.status=t),this},e.prototype.updateName=function(t){return this._isSpanEnded()||(this.name=t),this},e.prototype.end=function(t){this._isSpanEnded()?D.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once."):(this._ended=!0,this.endTime=this._getTime(t),this._duration=function(n,r){var o=r[0]-n[0],i=r[1]-n[1];return i<0&&(o-=1,i+=wr),[o,i]}(this.startTime,this.endTime),this._duration[0]<0&&(D.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))},e.prototype._getTime=function(t){if(typeof t=="number"&&t<Xe.now())return Vt(t+this._performanceOffset);if(typeof t=="number")return _t(t);if(t instanceof Date)return _t(t.getTime());if(xo(t))return t;if(this._startTimeProvided)return _t(Date.now());var n=Xe.now()-this._performanceStartTime;return da(this.startTime,_t(n))},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){var r={};typeof t=="string"?r[z.EXCEPTION_MESSAGE]=t:t&&(t.code?r[z.EXCEPTION_TYPE]=t.code.toString():t.name&&(r[z.EXCEPTION_TYPE]=t.name),t.message&&(r[z.EXCEPTION_MESSAGE]=t.message),t.stack&&(r[z.EXCEPTION_STACKTRACE]=t.stack)),r[z.EXCEPTION_TYPE]||r[z.EXCEPTION_MESSAGE]?this.addEvent("exception",r,n):D.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&D.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substr(0,n)},e.prototype._truncateToSize=function(t){var n=this,r=this._attributeValueLengthLimit;return r<=0?(D.warn("Attribute value limit must be positive, got "+r),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(function(o){return typeof o=="string"?n._truncateToLimitUtil(o,r):o}):t},e}();(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(nn||(nn={}));var Mr=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:nn.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}(),rn=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:nn.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}(),Fo=function(){function e(t){var n,r,o,i;this._root=t.root,this._root||(We(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new rn),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new rn,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new Mr,this._localParentSampled=(o=t.localParentSampled)!==null&&o!==void 0?o:new rn,this._localParentNotSampled=(i=t.localParentNotSampled)!==null&&i!==void 0?i:new Mr}return e.prototype.shouldSample=function(t,n,r,o,i,a){var s=K.getSpanContext(t);return s&&Pn(s)?s.isRemote?s.traceFlags&Ve.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,o,i,a):this._remoteParentNotSampled.shouldSample(t,n,r,o,i,a):s.traceFlags&Ve.SAMPLED?this._localParentSampled.shouldSample(t,n,r,o,i,a):this._localParentNotSampled.shouldSample(t,n,r,o,i,a):this._root.shouldSample(t,n,r,o,i,a)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}(),Oa=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(4294967295*this._ratio)}return e.prototype.shouldSample=function(t,n){return{decision:qi(n)&&this._accumulate(n)<this._upperBound?nn.RECORD_AND_SAMPLED:nn.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var o=8*r;n=(n^parseInt(t.slice(o,o+8),16))>>>0}return n},e}(),Sp=ce(),Op=at.AlwaysOn,on=1;function Ra(){return{sampler:wa(Sp),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:ce().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ce().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:ce().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:ce().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:ce().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:ce().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:ce().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:ce().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function wa(e){switch(e===void 0&&(e=ce()),e.OTEL_TRACES_SAMPLER){case at.AlwaysOn:return new rn;case at.AlwaysOff:return new Mr;case at.ParentBasedAlwaysOn:return new Fo({root:new rn});case at.ParentBasedAlwaysOff:return new Fo({root:new Mr});case at.TraceIdRatio:return new Oa(Aa(e));case at.ParentBasedTraceIdRatio:return new Fo({root:new Oa(Aa(e))});default:return D.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+Op+'".'),new rn}}function Aa(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return D.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+on+"."),on;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(D.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+on+"."),on):t<0||t>1?(D.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+on+"."),on):t}function Rp(e){var t,n,r,o,i,a,s,u,c,l,p,d,f=Object.assign({},e.spanLimits),v=typeof __Process$<"u"&&__Process$&&__Process$.env?Po(__Process$.env):Po(Ut);return f.attributeCountLimit=(a=(i=(o=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(r=e.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&o!==void 0?o:v.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&i!==void 0?i:v.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:Rr,f.attributeValueLengthLimit=(d=(p=(l=(u=(s=e.spanLimits)===null||s===void 0?void 0:s.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=e.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:v.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:v.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:Or,Object.assign({},e,{spanLimits:f})}var wp=function(){function e(t,n){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var r=ce();this._maxExportBatchSize=typeof n?.maxExportBatchSize=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof n?.maxQueueSize=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof n?.scheduledDelayMillis=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof n?.exportTimeoutMillis=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Lr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(D.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&Ve.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){if(this._finishedSpans.length>=this._maxQueueSize)return this._droppedSpansCount===0&&D.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(D.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var o=[],i=0,a=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize);i<a;i++)o.push(t._flushOneBatch());Promise.all(o).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var o=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);V.with(br(V.active()),function(){var i=t._finishedSpans.splice(0,t._maxExportBatchSize),a=function(){return t._exporter.export(i,function(u){var c;clearTimeout(o),u.code===st.SUCCESS?n():r((c=u.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})},s=i.map(function(u){return u.resource}).filter(function(u){return u.asyncAttributesPending});s.length===0?a():Promise.all(s.map(function(u){var c;return(c=u.waitForAsyncAttributes)===null||c===void 0?void 0:c.call(u)})).then(a,function(u){We(u),r(u)})})})},e.prototype._maybeStartTimer=function(){var t=this;if(!this._isExporting){var n=function(){t._isExporting=!0,t._flushOneBatch().then(function(){t._isExporting=!1,t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(r){t._isExporting=!1,We(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return n();this._timer===void 0&&(this._timer=setTimeout(function(){return n()},this._scheduledDelayMillis),this._timer)}},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}(),Ap=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Np=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.onInit(r),o}return Ap(t,e),t.prototype.onInit=function(n){var r=this;n?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=function(){document.visibilityState==="hidden"&&r.forceFlush()},this._pageHideListener=function(){r.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},t.prototype.onShutdown=function(){typeof document<"u"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},t}(wp),Cp=function(){this.generateTraceId=Na(16),this.generateSpanId=Na(8)},kr=Array(32);function Na(e){return function(){for(var t=0;t<2*e;t++)kr[t]=Math.floor(16*Math.random())+48,kr[t]>=58&&(kr[t]+=39);return String.fromCharCode.apply(null,kr.slice(0,2*e))}}var Lp=function(){function e(t,n,r){this._tracerProvider=r;var o,i,a,s,u=(o=n,i={sampler:wa()},a=Ra(),(s=Object.assign({},a,i,o)).generalLimits=Object.assign({},a.generalLimits,o.generalLimits||{}),s.spanLimits=Object.assign({},a.spanLimits,o.spanLimits||{}),s);this._sampler=u.sampler,this._generalLimits=u.generalLimits,this._spanLimits=u.spanLimits,this._idGenerator=n.idGenerator||new Cp,this.resource=r.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,r){var o,i,a;n===void 0&&(n={}),r===void 0&&(r=V.active()),n.root&&(r=K.deleteSpan(r));var s=K.getSpan(r);if(Co(r))return D.debug("Instrumentation suppressed, returning Noop Span"),K.wrapSpanContext(Wi);var u,c,l,p=s?.spanContext(),d=this._idGenerator.generateSpanId();p&&K.isSpanContextValid(p)?(u=p.traceId,c=p.traceState,l=p.spanId):u=this._idGenerator.generateTraceId();var f=(o=n.kind)!==null&&o!==void 0?o:je.INTERNAL,v=((i=n.links)!==null&&i!==void 0?i:[]).map(function(_){return{context:_.context,attributes:Sr(_.attributes)}}),T=Sr(n.attributes),y=this._sampler.shouldSample(r,u,t,f,T,v);c=(a=y.traceState)!==null&&a!==void 0?a:c;var g={traceId:u,spanId:d,traceFlags:y.decision===Qt.RECORD_AND_SAMPLED?Ve.SAMPLED:Ve.NONE,traceState:c};if(y.decision===Qt.NOT_RECORD)return D.debug("Recording is off, propagating context in a non-recording span"),K.wrapSpanContext(g);var w=new Tp(this,r,t,g,f,l,v,n.startTime),h=Sr(Object.assign(T,y.attributes));return w.setAttributes(h),w},e.prototype.startActiveSpan=function(t,n,r,o){var i,a,s;if(!(arguments.length<2)){arguments.length===2?s=n:arguments.length===3?(i=n,s=r):(i=n,a=r,s=o);var u=a??V.active(),c=this.startSpan(t,i,u),l=K.setSpan(u,c);return V.with(l,s,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}(),jt,Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ct.apply(this,arguments)},Ip=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(c){try{u(r.next(c))}catch(l){i(l)}}function s(c){try{u(r.throw(c))}catch(l){i(l)}}function u(c){var l;c.done?o(c.value):(l=c.value,l instanceof n?l:new n(function(p){p(l)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Pp=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(u){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!((o=o.length>0&&o[o.length-1])||l[0]!==6&&l[0]!==2)){a=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(l[0]===6&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(p){l=[6,p],r=0}finally{n=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}},Mp=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ca=function(){function e(t,n){var r,o=this;this._attributes=t,this.asyncAttributesPending=n!=null,this._syncAttributes=(r=this._attributes)!==null&&r!==void 0?r:{},this._asyncAttributesPromise=n?.then(function(i){return o._attributes=Object.assign({},o._attributes,i),o.asyncAttributesPending=!1,i},function(i){return D.debug("a resource's async attributes promise rejected: %s",i),o.asyncAttributesPending=!1,{}})}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e(((t={})[Mo]="unknown_service",t[Bn]=Bt[Bn],t[en]=Bt[en],t[tn]=Bt[tn],t))},Object.defineProperty(e.prototype,"attributes",{get:function(){var t;return this.asyncAttributesPending&&D.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),e.prototype.waitForAsyncAttributes=function(){return Ip(this,void 0,void 0,function(){return Pp(this,function(t){switch(t.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.merge=function(t){var n,r=this;if(!t)return this;var o=Ct(Ct({},this._syncAttributes),(n=t._syncAttributes)!==null&&n!==void 0?n:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(o);var i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(function(a){var s,u=Mp(a,2),c=u[0],l=u[1];return Ct(Ct(Ct(Ct({},r._syncAttributes),c),(s=t._syncAttributes)!==null&&s!==void 0?s:t.attributes),l)});return new e(o,i)},e.EMPTY=new e({}),e}(),xr=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},kp=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,r=[];try{for(var o=xr(this._spanProcessors),i=o.next();!i.done;i=o.next()){var a=i.value;r.push(a.forceFlush())}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return new Promise(function(s){Promise.all(r).then(function(){s()}).catch(function(u){We(u||new Error("MultiSpanProcessor: forceFlush failed")),s()})})},e.prototype.onStart=function(t,n){var r,o;try{for(var i=xr(this._spanProcessors),a=i.next();!a.done;a=i.next())a.value.onStart(t,n)}catch(s){r={error:s}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(t){var n,r;try{for(var o=xr(this._spanProcessors),i=o.next();!i.done;i=o.next())i.value.onEnd(t)}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,r=[];try{for(var o=xr(this._spanProcessors),i=o.next();!i.done;i=o.next()){var a=i.value;r.push(a.shutdown())}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return new Promise(function(s,u){Promise.all(r).then(function(){s()},u)})},e}(),xp=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}();(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(jt||(jt={}));var j,jo,Hn,Dp=function(){function e(t){var n;t===void 0&&(t={}),this._registeredSpanProcessors=[],this._tracers=new Map;var r=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];for(var u=a.shift(),c=new WeakMap;a.length>0;)u=ya(u,a.shift(),0,c);return u}({},Ra(),Rp(t));this.resource=(n=r.resource)!==null&&n!==void 0?n:Ca.empty(),this.resource=Ca.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var o=this._buildExporterFromEnv();if(o!==void 0){var i=new Np(o);this.activeSpanProcessor=i}else this.activeSpanProcessor=new xp}return e.prototype.getTracer=function(t,n,r){var o=t+"@"+(n||"")+":"+(r?.schemaUrl||"");return this._tracers.has(o)||this._tracers.set(o,new Lp({name:t,version:n,schemaUrl:r?.schemaUrl},this._config,this)),this._tracers.get(o)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return D.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new kp(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),K.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&V.setGlobalContextManager(t.contextManager),t.propagator&&He.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(o){var i,a=setTimeout(function(){o(new Error("Span processor did not completed within timeout period of "+t+" ms")),i=jt.timeout},t);r.forceFlush().then(function(){clearTimeout(a),i!==jt.timeout&&(i=jt.resolved,o(i))}).catch(function(s){clearTimeout(a),i=jt.error,o(s)})})});return new Promise(function(r,o){Promise.all(n).then(function(i){var a=i.filter(function(s){return s!==jt.resolved});a.length>0?o(a):r()}).catch(function(i){return o([i])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(ce().OTEL_PROPAGATORS)),r=n.map(function(o){var i=t._getPropagator(o);return i||D.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),i}).reduce(function(o,i){return i&&o.push(i),o},[]);return r.length===0?void 0:n.length===1?r[0]:new jl({propagators:r})},e.prototype._buildExporterFromEnv=function(){var t=ce().OTEL_TRACES_EXPORTER;if(t!=="none"&&t!==""){var n=this._getSpanExporter(t);return n||D.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new Xl}],["baggage",function(){return new Tl}]]),e._registeredExporters=new Map,e}(),Up=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Bp=function(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Vp=function(){function e(){this._enabled=!1,this._currentContext=Fe}return e.prototype._bindFunction=function(t,n){t===void 0&&(t=Fe);var r=this,o=function(){for(var i=this,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r.with(t,function(){return n.apply(i,a)})};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:n.length}),o},e.prototype.active=function(){return this._currentContext},e.prototype.bind=function(t,n){return t===void 0&&(t=this.active()),typeof n=="function"?this._bindFunction(t,n):n},e.prototype.disable=function(){return this._currentContext=Fe,this._enabled=!1,this},e.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=Fe),this},e.prototype.with=function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var a=this._currentContext;this._currentContext=t||Fe;try{return n.call.apply(n,Bp([r],Up(o),!1))}finally{this._currentContext=a}},e}(),Fp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jp=function(e){function t(n){n===void 0&&(n={});var r=e.call(this,n)||this;if(n.contextManager)throw"contextManager should be defined in register method not in constructor";if(n.propagator)throw"propagator should be defined in register method not in constructor";return r}return Fp(t,e),t.prototype.register=function(n){n===void 0&&(n={}),n.contextManager===void 0&&(n.contextManager=new Vp),n.contextManager&&n.contextManager.enable(),e.prototype.register.call(this,n)},t}(Dp);function an(e,t){return t in e}function ye(e,t,n){if(an(n,t)&&typeof n[t]=="number")return e.addEvent(t,n[t]),e}function Ht(e,t){ye(e,j.FETCH_START,t),ye(e,j.DOMAIN_LOOKUP_START,t),ye(e,j.DOMAIN_LOOKUP_END,t),ye(e,j.CONNECT_START,t),ye(e,j.SECURE_CONNECTION_START,t),ye(e,j.CONNECT_END,t),ye(e,j.REQUEST_START,t),ye(e,j.RESPONSE_START,t),ye(e,j.RESPONSE_END,t);var n=t[j.ENCODED_BODY_SIZE];n!==void 0&&e.setAttribute(z.HTTP_RESPONSE_CONTENT_LENGTH,n);var r=t[j.DECODED_BODY_SIZE];r!==void 0&&n!==r&&e.setAttribute(z.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,r)}function La(e,t,n,r,o,i){o===void 0&&(o=new WeakSet);var a=Et(e),s=function(d,f,v,T,y,g){var w=$e(f),h=$e(v),_=T.filter(function(S){var O=$e(Vn(S[j.FETCH_START])),E=$e(Vn(S[j.RESPONSE_END]));return S.initiatorType.toLowerCase()===(g||"xmlhttprequest")&&S.name===d&&O>=w&&E<=h});return _.length>0&&(_=_.filter(function(S){return!y.has(S)})),_}(e=a.toString(),t,n,r,o,i);if(s.length===0)return{mainRequest:void 0};if(s.length===1)return{mainRequest:s[0]};var u=function(d){return d.slice().sort(function(f,v){var T=f[j.FETCH_START],y=v[j.FETCH_START];return T>y?1:T<y?-1:0})}(s);if(a.origin!==location.origin&&u.length>1){var c=u[0],l=function(d,f,v){for(var T,y=$e(v),g=$e(Vn(f)),w=d[1],h=d.length,_=1;_<h;_++){var S=d[_],O=$e(Vn(S[j.FETCH_START])),E=y-$e(Vn(S[j.RESPONSE_END]));O>=g&&(!T||E<T)&&(T=E,w=S)}return w}(u,c[j.RESPONSE_END],n),p=c[j.RESPONSE_END];return l[j.FETCH_START]<p&&(l=c,c=void 0),{corsPreFlightRequest:c,mainRequest:l}}return{mainRequest:s[0]}}function Et(e){if(typeof URL=="function")return new URL(e,typeof document<"u"?document.baseURI:typeof location<"u"?location.href:void 0);var t=(jo||(jo=document.createElement("a")),jo);return t.href=e,t}function Ho(e,t){if(e.nodeType===Node.DOCUMENT_NODE)return"/";var n=function(o,i){var a=o.nodeType,s=function(l){if(!l.parentNode)return 0;var p=[l.nodeType];l.nodeType===Node.CDATA_SECTION_NODE&&p.push(Node.TEXT_NODE);var d=Array.from(l.parentNode.childNodes);return d=d.filter(function(f){var v=f.localName;return p.indexOf(f.nodeType)>=0&&v===l.localName}),d.length>=1?d.indexOf(l)+1:0}(o),u="";if(a===Node.ELEMENT_NODE){var c=o.getAttribute("id");if(i&&c)return'//*[@id="'+c+'"]';u=o.localName}else if(a===Node.TEXT_NODE||a===Node.CDATA_SECTION_NODE)u="text()";else{if(a!==Node.COMMENT_NODE)return"";u="comment()"}return u&&s>1?"/"+u+"["+s+"]":"/"+u}(e,t);if(t&&n.indexOf("@id")>0)return n;var r="";return e.parentNode&&(r+=Ho(e.parentNode,!1)),r+=n}function Ia(e,t){var n=t||[];return(typeof n=="string"||n instanceof RegExp)&&(n=[n]),Et(e).origin===location.origin||n.some(function(r){return Sa(e,r)})}(function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"})(j||(j={})),function(e){e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"}(Hn||(Hn={}));var Dr;(function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(Dr||(Dr={}));var Pa={"first-paint":Dr.FIRST_PAINT,"first-contentful-paint":Dr.FIRST_CONTENTFUL_PAINT},Hp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gp=function(e){function t(n){n===void 0&&(n={});var r=e.call(this,"@opentelemetry/instrumentation-document-load","0.32.3",n)||this;return r.component="document-load",r.version="1",r.moduleName=r.component,r}return Hp(t,e),t.prototype.init=function(){},t.prototype._onDocumentLoaded=function(){var n=this;window.setTimeout(function(){n._collectPerformance()})},t.prototype._addResourcesSpans=function(n){var r,o,i=this,a=(o=(r=Xe).getEntriesByType)===null||o===void 0?void 0:o.call(r,"resource");a&&a.forEach(function(s){i._initResourceSpan(s,n)})},t.prototype._collectPerformance=function(){var n=this,r=Array.from(document.getElementsByTagName("meta")).find(function(a){return a.getAttribute("name")===Ar}),o=function(){var a,s,u={},c=(s=(a=Xe).getEntriesByType)===null||s===void 0?void 0:s.call(a,"navigation")[0];if(c)Object.values(j).forEach(function(p){if(an(c,p)){var d=c[p];typeof d=="number"&&(u[p]=d)}});else{var l=Xe.timing;l&&Object.values(j).forEach(function(p){if(an(l,p)){var d=l[p];typeof d=="number"&&(u[p]=d)}})}return u}(),i=r&&r.content||"";V.with(He.extract(Fe,{traceparent:i}),function(){var a,s=n._startSpan(Hn.DOCUMENT_LOAD,j.FETCH_START,o);s&&(V.with(K.setSpan(V.active(),s),function(){var u=n._startSpan(Hn.DOCUMENT_FETCH,j.FETCH_START,o);u&&(u.setAttribute(z.HTTP_URL,location.href),V.with(K.setSpan(V.active(),u),function(){var c;Ht(u,o),n._addCustomAttributesOnSpan(u,(c=n._getConfig().applyCustomAttributesOnSpan)===null||c===void 0?void 0:c.documentFetch),n._endSpan(u,j.RESPONSE_END,o)}))}),s.setAttribute(z.HTTP_URL,location.href),s.setAttribute(z.HTTP_USER_AGENT,navigator.userAgent),n._addResourcesSpans(s),ye(s,j.FETCH_START,o),ye(s,j.UNLOAD_EVENT_START,o),ye(s,j.UNLOAD_EVENT_END,o),ye(s,j.DOM_INTERACTIVE,o),ye(s,j.DOM_CONTENT_LOADED_EVENT_START,o),ye(s,j.DOM_CONTENT_LOADED_EVENT_END,o),ye(s,j.DOM_COMPLETE,o),ye(s,j.LOAD_EVENT_START,o),ye(s,j.LOAD_EVENT_END,o),function(u){var c,l,p=(l=(c=Xe).getEntriesByType)===null||l===void 0?void 0:l.call(c,"paint");p&&p.forEach(function(d){var f=d.name,v=d.startTime;an(Pa,f)&&u.addEvent(Pa[f],v)})}(s),n._addCustomAttributesOnSpan(s,(a=n._getConfig().applyCustomAttributesOnSpan)===null||a===void 0?void 0:a.documentLoad),n._endSpan(s,j.LOAD_EVENT_END,o))})},t.prototype._endSpan=function(n,r,o){n&&(an(o,r)?n.end(o[r]):n.end())},t.prototype._initResourceSpan=function(n,r){var o,i=this._startSpan(Hn.RESOURCE_FETCH,j.FETCH_START,n,r);i&&(i.setAttribute(z.HTTP_URL,n.name),Ht(i,n),this._addCustomAttributesOnSpan(i,(o=this._getConfig().applyCustomAttributesOnSpan)===null||o===void 0?void 0:o.resourceFetch),this._endSpan(i,j.RESPONSE_END,n))},t.prototype._startSpan=function(n,r,o,i){if(an(o,r)&&typeof o[r]=="number")return this.tracer.startSpan(n,{startTime:o[r]},i?K.setSpan(V.active(),i):void 0)},t.prototype._waitForPageLoad=function(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))},t.prototype._getConfig=function(){return this._config},t.prototype._addCustomAttributesOnSpan=function(n,r){var o=this;r&&No(function(){return r(n)},function(i){i&&o._diag.error("addCustomAttributesOnSpan",i)},!0)},t.prototype.enable=function(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()},t.prototype.disable=function(){window.removeEventListener("load",this._onDocumentLoaded)},t}(ze);function Ma(e,t){if(e&&e[1]&&e[2]){let n=e[1],r=e[2];t.setAttribute("link.traceId",n),t.setAttribute("link.spanId",r)}}let Yp=new RegExp(`traceparent;desc=['"]00-([0-9a-f]{32})-([0-9a-f]{16})-01['"]`);function ka(e,t){for(let n of e.split(","))n=n.trim(),Ma(n.match(Yp),t)}let zp=new RegExp("00-([0-9a-f]{32})-([0-9a-f]{16})-01"),Wp=["beacon","fetch","xmlhttprequest"];var sn;(function(e){e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url"})(sn||(sn={}));var xa="0.32.4",Xp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qp=["click"];function Jp(){return!1}var Kp=function(e){function t(n){var r,o=e.call(this,"@opentelemetry/instrumentation-user-interaction",xa,n)||this;return o.version=xa,o.moduleName="user-interaction",o._spansData=new WeakMap,o._wrappedListeners=new WeakMap,o._eventsSpanMap=new WeakMap,o._eventNames=new Set((r=n?.eventNames)!==null&&r!==void 0?r:qp),o._shouldPreventSpanCreation=typeof n?.shouldPreventSpanCreation=="function"?n.shouldPreventSpanCreation:Jp,o}return Xp(t,e),t.prototype.init=function(){},t.prototype._checkForTimeout=function(n,r){var o=this._spansData.get(r);o&&(n.source==="setTimeout"?o.hrTimeLastTimeout=Vt():n.source!=="Promise.then"&&n.source!=="setTimeout"&&(o.hrTimeLastTimeout=void 0))},t.prototype._allowEventName=function(n){return this._eventNames.has(n)},t.prototype._createSpan=function(n,r,o){var i;if(n instanceof HTMLElement&&n.getAttribute&&!n.hasAttribute("disabled")&&this._allowEventName(r)){var a=Ho(n,!0);try{var s=this.tracer.startSpan(r,{attributes:(i={},i[sn.EVENT_TYPE]=r,i[sn.TARGET_ELEMENT]=n.tagName,i[sn.TARGET_XPATH]=a,i[sn.HTTP_URL]=window.location.href,i)},o?K.setSpan(V.active(),o):void 0);return this._shouldPreventSpanCreation(r,n,s)===!0?void 0:(this._spansData.set(s,{taskCount:0}),s)}catch(u){this._diag.error("failed to start create new user interaction span",u)}}},t.prototype._decrementTask=function(n){var r=this._spansData.get(n);r&&(r.taskCount--,r.taskCount===0&&this._tryToEndSpan(n,r.hrTimeLastTimeout))},t.prototype._getCurrentSpan=function(n){var r=n.get("OT_ZONE_CONTEXT");return r&&K.getSpan(r)},t.prototype._incrementTask=function(n){var r=this._spansData.get(n);r&&r.taskCount++},t.prototype.addPatchedListener=function(n,r,o,i){var a=this._wrappedListeners.get(o);a||(a=new Map,this._wrappedListeners.set(o,a));var s=a.get(r);return s||(s=new Map,a.set(r,s)),!s.has(n)&&(s.set(n,i),!0)},t.prototype.removePatchedListener=function(n,r,o){var i=this._wrappedListeners.get(o);if(i){var a=i.get(r);if(a){var s=a.get(n);return s&&(a.delete(n),a.size===0&&(i.delete(r),i.size===0&&this._wrappedListeners.delete(o))),s}}},t.prototype._invokeListener=function(n,r,o){return typeof n=="function"?n.apply(r,o):n.handleEvent(o[0])},t.prototype._patchAddEventListener=function(){var n=this;return function(r){return function(o,i,a){if(!i)return r.call(this,o,i,a);var s=a&&typeof a=="object"&&a.once,u=function(){for(var c,l=this,p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var f=p[0],v=f?.target;f&&(c=n._eventsSpanMap.get(f)),s&&n.removePatchedListener(this,o,i);var T=n._createSpan(v,o,c);return T?(f&&n._eventsSpanMap.set(f,T),V.with(K.setSpan(V.active(),T),function(){var y=n._invokeListener(i,l,p);return T.end(),y})):n._invokeListener(i,this,p)};return n.addPatchedListener(this,o,i,u)?r.call(this,o,u,a):void 0}}},t.prototype._patchRemoveEventListener=function(){var n=this;return function(r){return function(o,i,a){var s=n.removePatchedListener(this,o,i);return s?r.call(this,o,s,a):r.call(this,o,i,a)}}},t.prototype._getPatchableEventTargets=function(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]},t.prototype._patchHistoryApi=function(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())},t.prototype._patchHistoryMethod=function(){var n=this;return function(r){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=""+location.pathname+location.hash+location.search,s=r.apply(this,o),u=""+location.pathname+location.hash+location.search;return a!==u&&n._updateInteractionName(u),s}}},t.prototype._unpatchHistoryApi=function(){ge(history.replaceState)&&this._unwrap(history,"replaceState"),ge(history.pushState)&&this._unwrap(history,"pushState"),ge(history.back)&&this._unwrap(history,"back"),ge(history.forward)&&this._unwrap(history,"forward"),ge(history.go)&&this._unwrap(history,"go")},t.prototype._updateInteractionName=function(n){var r=K.getSpan(V.active());r&&typeof r.updateName=="function"&&r.updateName("Navigation: "+n)},t.prototype._patchZoneCancelTask=function(){var n=this;return function(r){return function(o){var i=Zone.current,a=n._getCurrentSpan(i);return a&&n._shouldCountTask(o,i)&&n._decrementTask(a),r.call(this,o)}}},t.prototype._patchZoneScheduleTask=function(){var n=this;return function(r){return function(o){var i=Zone.current,a=n._getCurrentSpan(i);return a&&n._shouldCountTask(o,i)&&(n._incrementTask(a),n._checkForTimeout(o,a)),r.call(this,o)}}},t.prototype._patchZoneRunTask=function(){var n=this;return function(r){return function(o,i,a){var s,u=Array.isArray(a)&&a[0]instanceof Event?a[0]:void 0,c=u?.target,l=this;if(c){if(s=n._createSpan(c,o.eventName))return n._incrementTask(s),l.run(function(){try{return V.with(K.setSpan(V.active(),s),function(){var p=Zone.current;return o._zone=p,r.call(p,o,i,a)})}finally{n._decrementTask(s)}})}else s=n._getCurrentSpan(l);try{return r.call(l,o,i,a)}finally{s&&n._shouldCountTask(o,l)&&n._decrementTask(s)}}}},t.prototype._shouldCountTask=function(n,r){if(n._zone&&(r=n._zone),!r||!n.data||n.data.isPeriodic)return!1;var o=this._getCurrentSpan(r);return!!o&&!!this._spansData.get(o)&&(n.type==="macroTask"||n.type==="microTask")},t.prototype._tryToEndSpan=function(n,r){n&&this._spansData.get(n)&&(n.end(r),this._spansData.delete(n))},t.prototype.enable=function(){var n=this,r=this.getZoneWithPrototype();this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!r),r?(ge(r.prototype.runTask)&&(this._unwrap(r.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),ge(r.prototype.scheduleTask)&&(this._unwrap(r.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),ge(r.prototype.cancelTask)&&(this._unwrap(r.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(r.prototype,"runTask",this._patchZoneRunTask()),this._wrap(r.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(r.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(function(o){ge(o.addEventListener)&&(n._unwrap(o,"addEventListener"),n._diag.debug("removing previous patch from method addEventListener")),ge(o.removeEventListener)&&(n._unwrap(o,"removeEventListener"),n._diag.debug("removing previous patch from method removeEventListener")),n._wrap(o,"addEventListener",n._patchAddEventListener()),n._wrap(o,"removeEventListener",n._patchRemoveEventListener())})),this._patchHistoryApi()},t.prototype.disable=function(){var n=this,r=this.getZoneWithPrototype();this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!r),r&&this._zonePatched?(ge(r.prototype.runTask)&&this._unwrap(r.prototype,"runTask"),ge(r.prototype.scheduleTask)&&this._unwrap(r.prototype,"scheduleTask"),ge(r.prototype.cancelTask)&&this._unwrap(r.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(function(o){ge(o.addEventListener)&&n._unwrap(o,"addEventListener"),ge(o.removeEventListener)&&n._unwrap(o,"removeEventListener")}),this._unpatchHistoryApi()},t.prototype.getZoneWithPrototype=function(){return window.Zone},t}(ze);let Go={click:!0,dblclick:!0,mousedown:!0,mouseup:!0,submit:!0,reset:!0,change:!0,dragend:!0,drop:!0,ended:!0,pause:!0,play:!0},Zp=Object.keys(Go),Da="route";var $p=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ua=1e4;function Qp(e){return typeof e=="number"?e<=0?Ba(e,Ua):e:function(){var t,n=Number((t=ce().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&t!==void 0?t:ce().OTEL_EXPORTER_OTLP_TIMEOUT);return n<=0?Ba(n,Ua):n}()}function Ba(e,t){return D.warn("Timeout must be greater than 0",e),t}var ed=function(){function e(t){t===void 0&&(t={}),this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Lr(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:1/0,this.timeoutMillis=Qp(t.timeoutMillis),this.onInit(t)}return e.prototype.export=function(t,n){this._shutdownOnce.isCalled?n({code:st.FAILED,error:new Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?n({code:st.FAILED,error:new Error("Concurrent export limit reached")}):this._export(t).then(function(){n({code:st.SUCCESS})}).catch(function(r){n({code:st.FAILED,error:r})})},e.prototype._export=function(t){var n=this;return new Promise(function(r,o){try{D.debug("items to be sent",t),n.send(t,r,o)}catch(i){o(i)}})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype.forceFlush=function(){return Promise.all(this._sendingPromises).then(function(){})},e.prototype._shutdown=function(){return D.debug("shutdown started"),this.onShutdown(),this.forceFlush()},e}(),td=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gn=function(e){function t(n,r,o){var i=e.call(this,n)||this;return i.name="OTLPExporterError",i.data=o,i.code=r,i}return td(t,e),t}(Error),Ur=function(){return Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ur.apply(this,arguments)},nd=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function rd(e,t,n,r,o,i){var a,s,u=!1,c=setTimeout(function(){if(clearTimeout(a),u=!0,s.readyState===XMLHttpRequest.DONE){var p=new Gn("Request Timeout");i(p)}else s.abort()},r),l=function(p,d){p===void 0&&(p=5),d===void 0&&(d=1e3),(s=new XMLHttpRequest).open("POST",t),Object.entries(Ur(Ur({},{Accept:"application/json","Content-Type":"application/json"}),n)).forEach(function(f){var v=nd(f,2),T=v[0],y=v[1];s.setRequestHeader(T,y)}),s.send(e),s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE&&u===!1)if(s.status>=200&&s.status<=299)D.debug("xhr success",e),o(),clearTimeout(c),clearTimeout(a);else if(s.status&&(T=s.status,[429,502,503,504].includes(T))&&p>0){var f=void 0;d*=1.5,f=s.getResponseHeader("Retry-After")?function(y){if(y==null)return-1;var g=Number.parseInt(y,10);if(Number.isInteger(g))return g>0?1e3*g:-1;var w=new Date(y).getTime()-Date.now();return w>=0?w:0}(s.getResponseHeader("Retry-After")):Math.round(Math.random()*(5e3-d)+d),a=setTimeout(function(){l(p-1,d)},f)}else{var v=new Gn("Failed to export with XHR (status: "+s.status+")",s.status);i(v),clearTimeout(c),clearTimeout(a)}var T},s.onabort=function(){if(u){var f=new Gn("Request Timeout");i(f)}clearTimeout(c),clearTimeout(a)},s.onerror=function(){if(u){var f=new Gn("Request Timeout");i(f)}clearTimeout(c),clearTimeout(a)}};l()}var od=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),id=function(e){function t(n){n===void 0&&(n={});var r=e.call(this,n)||this;return r._useXHR=!1,r._useXHR=!!n.headers||typeof navigator.sendBeacon!="function",r._useXHR?r._headers=Object.assign({},function(o){o===void 0&&(o={});var i={};return Object.entries(o).forEach(function(a){var s=$p(a,2),u=s[0],c=s[1];c!==void 0?i[u]=String(c):D.warn('Header "'+u+'" has wrong value and will be ignored')}),i}(n.headers),ra(ce().OTEL_EXPORTER_OTLP_HEADERS)):r._headers={},r}return od(t,e),t.prototype.onInit=function(){window.addEventListener("unload",this.shutdown)},t.prototype.onShutdown=function(){window.removeEventListener("unload",this.shutdown)},t.prototype.send=function(n,r,o){var i=this;if(this._shutdownOnce.isCalled)D.debug("Shutdown already started. Cannot send objects");else{var a=this.convert(n),s=JSON.stringify(a),u=new Promise(function(l,p){i._useXHR?rd(s,i.url,i._headers,i.timeoutMillis,l,p):function(d,f,v,T,y){navigator.sendBeacon(f,new Blob([d],v))?(D.debug("sendBeacon - can send",d),T()):y(new Gn("sendBeacon - cannot send "+d))}(s,i.url,{type:"application/json"},l,p)}).then(r,o);this._sendingPromises.push(u);var c=function(){var l=i._sendingPromises.indexOf(u);i._sendingPromises.splice(l,1)};u.then(c,c)}},t}(ed),ad=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Br(e){return Object.keys(e).map(function(t){return Va(t,e[t])})}function Va(e,t){return{key:e,value:Fa(t)}}function Fa(e){var t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Fa)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(function(n){var r=ad(n,2);return Va(r[0],r[1])})}}:{}}function sd(e,t){var n,r=e.spanContext(),o=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?Dn(e.parentSpanId):void 0;return{traceId:t?r.traceId:Dn(r.traceId),spanId:t?r.spanId:Dn(r.spanId),parentSpanId:i,traceState:(n=r.traceState)===null||n===void 0?void 0:n.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:$e(e.startTime),endTimeUnixNano:$e(e.endTime),attributes:Br(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(ud),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map(function(a){return function(s,u){var c;return{attributes:s.attributes?Br(s.attributes):[],spanId:u?s.context.spanId:Dn(s.context.spanId),traceId:u?s.context.traceId:Dn(s.context.traceId),traceState:(c=s.context.traceState)===null||c===void 0?void 0:c.serialize(),droppedAttributesCount:s.droppedAttributesCount||0}}(a,t)}),droppedLinksCount:e.droppedLinksCount}}function ud(e){return{attributes:e.attributes?Br(e.attributes):[],name:e.name,timeUnixNano:$e(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}var cd=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ld=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function pd(e,t){for(var n=function(w){var h,_,S=new Map;try{for(var O=cd(w),E=O.next();!E.done;E=O.next()){var m=E.value,U=S.get(m.resource);U||(U=new Map,S.set(m.resource,U));var k=m.instrumentationLibrary.name+"@"+(m.instrumentationLibrary.version||"")+":"+(m.instrumentationLibrary.schemaUrl||""),I=U.get(k);I||(I=[],U.set(k,I)),I.push(m)}}catch(L){h={error:L}}finally{try{E&&!E.done&&(_=O.return)&&_.call(O)}finally{if(h)throw h.error}}return S}(e),r=[],o=n.entries(),i=o.next();!i.done;){for(var a=ld(i.value,2),s=a[0],u=[],c=a[1].values(),l=c.next();!l.done;){var p=l.value;if(p.length>0){var d=p[0].instrumentationLibrary,f=d.name,v=d.version,T=d.schemaUrl,y=p.map(function(w){return sd(w,t)});u.push({scope:{name:f,version:v},spans:y,schemaUrl:T})}l=c.next()}var g={resource:{attributes:Br(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};r.push(g),i=o.next()}return r}var dd=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ja="v1/traces",fd="http://localhost:4318/"+ja,hd=function(e){function t(n){n===void 0&&(n={});var r=e.call(this,n)||this;return r._headers=Object.assign(r._headers,ra(ce().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),r}return dd(t,e),t.prototype.convert=function(n){return function(r,o){return{resourceSpans:pd(r,o)}}(n,!0)},t.prototype.getDefaultUrl=function(n){return typeof n.url=="string"?n.url:ce().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?function(i){try{var a=new URL(i);return a.pathname===""&&(a.pathname=a.pathname+"/"),a.toString()}catch{return D.warn("Could not parse export URL: '"+i+"'"),i}}(ce().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):ce().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(r=ce().OTEL_EXPORTER_OTLP_ENDPOINT,o=ja,r.endsWith("/")||(r+="/"),r+o):fd;var r,o},t}(id),Ha={exports:{}};(function(e,t){function n(r,o){var i=[],a=[];return o==null&&(o=function(s,u){return i[0]===u?"[Circular ~]":"[Circular ~."+a.slice(0,i.indexOf(u)).join(".")+"]"}),function(s,u){if(i.length>0){var c=i.indexOf(this);~c?i.splice(c+1):i.push(this),~c?a.splice(c,1/0,s):a.push(s),~i.indexOf(u)&&(u=o.call(this,s,u))}else i.push(u);return r==null?u:r.call(this,s,u)}}(e.exports=function(r,o,i,a){return JSON.stringify(r,n(o,a),i)}).getSerialize=n})(Ha);var vd=Mn(Ha.exports);function Ga(e){return"x".repeat(e/4).replace(/x/g,function(){return(16*Math.random()|0).toString(16)})}function Yo(e,t){return e.length>t?e.substring(0,t):e}function Ya(e,t,n){return e===!1?e:(e!==void 0||!n)&&Object.assign({},t,e)}function xe(e){return typeof e=="function"}function he(e,t,n){let r=e[t];Y.wrap(e,t,n),e[t].toString=r.toString.bind(r)}function za(e){for(;e.__original&&e.__original!==e;)e=e.__original;return e}function Vr(e,t){let n=new Map(t.map(r=>[r,r.toLowerCase().replace(/-/g,"_")]));return(r,o)=>{for(let[i,a]of n){let s=o(i);if(s===void 0)continue;let u=`http.${e}.header.${a}`;typeof s=="string"?r.setAttribute(u,[s]):Array.isArray(s)?r.setAttribute(u,s):r.setAttribute(u,[s])}}}function Yn(e){return e&&e.trim()!==""&&!e.startsWith("[object")&&e!=="error"}function Wa(e){return e===void 0?"(undefined)":e.toString()}function Xa(e,t){t&&t.stack&&Yn(t.stack)&&e.setAttribute("error.stack",Yo(t.stack.toString(),4096))}let zo="errors";class qa extends ze{constructor(t){super(zo,"1",t),this._consoleErrorHandler=n=>(...r)=>(this.report("console.error",r),n.apply(this,r)),this._unhandledRejectionListener=n=>{this.report("unhandledrejection",n.reason)},this._errorListener=n=>{this.report("onerror",n)},this._documentErrorListener=n=>{this.report("eventListener.error",n)}}init(){}enable(){Y.wrap(console,"error",this._consoleErrorHandler),window.addEventListener("unhandledrejection",this._unhandledRejectionListener),window.addEventListener("error",this._errorListener),document.documentElement.addEventListener("error",this._documentErrorListener,{capture:!0})}disable(){Y.unwrap(console,"error"),window.removeEventListener("unhandledrejection",this._unhandledRejectionListener),window.removeEventListener("error",this._errorListener),document.documentElement.removeEventListener("error",this._documentErrorListener,{capture:!0})}reportError(t,n){let r=n.message||n.toString();if(!Yn(r)&&!n.stack)return;let o=Date.now(),i=this.tracer.startSpan(t,{startTime:o});i.setAttribute("component","error"),i.setAttribute("error",!0),i.setAttribute("error.object",Yn(n.name)?n.name:n.constructor&&n.constructor.name?n.constructor.name:"Error"),i.setAttribute("error.message",Yo(r,1024)),Xa(i,n),i.end(o)}reportString(t,n,r){if(!Yn(n))return;let o=Date.now(),i=this.tracer.startSpan(t,{startTime:o});i.setAttribute("component","error"),i.setAttribute("error",!0),i.setAttribute("error.object","String"),i.setAttribute("error.message",Yo(n,1024)),r&&Xa(i,r),i.end(o)}reportErrorEvent(t,n){n.error?this.report(t,n.error):n.message&&this.report(t,n.message)}reportEvent(t,n){if(!n.target&&!Yn(n.type))return;let r=Date.now(),o=this.tracer.startSpan(t,{startTime:r});o.setAttribute("component","error"),o.setAttribute("error.type",n.type),n.target&&(o.setAttribute("target_element",n.target.tagName),o.setAttribute("target_xpath",Ho(n.target,!0)),o.setAttribute("target_src",n.target.src)),o.end(r)}report(t,n){if(!Array.isArray(n)||n.length!==0)if(n instanceof Array&&n.length===1&&(n=n[0]),n instanceof Error)this.reportError(t,n);else if(n instanceof ErrorEvent)this.reportErrorEvent(t,n);else if(n instanceof Event)this.reportEvent(t,n);else if(typeof n=="string")this.reportString(t,n);else if(n instanceof Array){let r=n.find(o=>o instanceof Error);this.reportString(t,n.map(o=>Wa(o)).join(" "),r)}else this.reportString(t,Wa(n))}}let md=144e5,_d=900,Ja="__rum_sid",zn,Wo,Fr,Wn=!1;function Ed(){Wn=!0}function Ka(e){let t=Date.now();return e>t||t>e+md}function gd(){let e=function(r){let o=decodeURIComponent(document.cookie).split(";");for(let i=0;i<o.length;i++){let a=o[i].trim();if(a.indexOf(r+"=")===0)return a.substring((r+"=").length,a.length)}}(Ja);if(!e)return;let t=decodeURIComponent(e);if(!t)return;let n;try{n=JSON.parse(t)}catch{return}return n&&typeof n=="object"&&n.id&&typeof n.id=="string"&&n.id.length&&n.id.length===32&&n.startTime&&typeof n.startTime=="number"&&!Ka(n.startTime)?n:void 0}function yd(e){if(Ka(e.startTime))return;let t=encodeURIComponent(JSON.stringify(e)),n=Ja+"="+t+"; path=/;"+(Wo?`domain=${Wo};`:"")+"max-age="+_d;(function(){try{return window.self!==window.top}catch{return!0}})()?n+=";SameSite=None; Secure":n+=";SameSite=Strict",document.cookie=n}function Za(){let e=gd();e||(e={id:Ga(128),startTime:Date.now()},Wn=!0),zn=e.id,Fr?.emit("session-changed",{sessionId:zn}),Wn&&yd(e),Wn=!1}function Xo(){return zn}let gt="0.16.2-17";function $a(e){return e.byteLength||e.size||e.length||void 0}var Lt,Xn,Qa,jr,qo,es=-1,un=function(e){addEventListener("pageshow",function(t){t.persisted&&(es=t.timeStamp,e(t))},!0)},ts=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Jo=function(){var e=ts();return e&&e.activationStart||0},ut=function(e,t){var n=ts(),r="navigate";return es>=0?r="back-forward-cache":n&&(document.prerendering||Jo()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},cn=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(o){Promise.resolve().then(function(){t(o.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},ct=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||o===void 0)&&(o=t.value,t.delta=i,t.rating=function(s,u){return s>u[1]?"poor":s>u[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Ko=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Hr=function(e){var t=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||e(n)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Zo=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},ln=-1,ns=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Gr=function(e){document.visibilityState==="hidden"&&ln>-1&&(ln=e.type==="visibilitychange"?e.timeStamp:0,bd())},rs=function(){addEventListener("visibilitychange",Gr,!0),addEventListener("prerenderingchange",Gr,!0)},bd=function(){removeEventListener("visibilitychange",Gr,!0),removeEventListener("prerenderingchange",Gr,!0)},$o=function(){return ln<0&&(ln=ns(),rs(),un(function(){setTimeout(function(){ln=ns(),rs()},0)})),{get firstHiddenTime(){return ln}}},Yr=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},os=[1800,3e3],is=[.1,.25],Td=function(e,t){t=t||{},function(n,r){r=r||{},Yr(function(){var o,i=$o(),a=ut("FCP"),s=cn("paint",function(u){u.forEach(function(c){c.name==="first-contentful-paint"&&(s.disconnect(),c.startTime<i.firstHiddenTime&&(a.value=Math.max(c.startTime-Jo(),0),a.entries.push(c),o(!0)))})});s&&(o=ct(n,a,os,r.reportAllChanges),un(function(u){a=ut("FCP"),o=ct(n,a,os,r.reportAllChanges),Ko(function(){a.value=performance.now()-u.timeStamp,o(!0)})}))})}(Zo(function(){var n,r=ut("CLS",0),o=0,i=[],a=function(u){u.forEach(function(c){if(!c.hadRecentInput){var l=i[0],p=i[i.length-1];o&&c.startTime-p.startTime<1e3&&c.startTime-l.startTime<5e3?(o+=c.value,i.push(c)):(o=c.value,i=[c])}}),o>r.value&&(r.value=o,r.entries=i,n())},s=cn("layout-shift",a);s&&(n=ct(e,r,is,t.reportAllChanges),Hr(function(){a(s.takeRecords()),n(!0)}),un(function(){o=0,r=ut("CLS",0),n=ct(e,r,is,t.reportAllChanges),Ko(function(){return n()})}),setTimeout(n,0))}))},qn={passive:!0,capture:!0},Sd=new Date,as=function(e,t){Lt||(Lt=t,Xn=e,Qa=new Date,us(removeEventListener),ss())},ss=function(){if(Xn>=0&&Xn<Qa-Sd){var e={entryType:"first-input",name:Lt.type,target:Lt.target,cancelable:Lt.cancelable,startTime:Lt.timeStamp,processingStart:Lt.timeStamp+Xn};jr.forEach(function(t){t(e)}),jr=[]}},Od=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,r){var o=function(){as(n,r),a()},i=function(){a()},a=function(){removeEventListener("pointerup",o,qn),removeEventListener("pointercancel",i,qn)};addEventListener("pointerup",o,qn),addEventListener("pointercancel",i,qn)}(t,e):as(t,e)}},us=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,Od,qn)})},cs=[100,300],ls=0,Qo=1/0,zr=0,Rd=function(e){e.forEach(function(t){t.interactionId&&(Qo=Math.min(Qo,t.interactionId),zr=Math.max(zr,t.interactionId),ls=zr?(zr-Qo)/7+1:0)})},ps=function(){return qo?ls:performance.interactionCount||0},ds=[200,500],fs=0,hs=function(){return ps()-fs},lt=[],ei={},vs=function(e){var t=lt[lt.length-1],n=ei[e.interactionId];if(n||lt.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};ei[r.id]=r,lt.push(r)}lt.sort(function(o,i){return i.latency-o.latency}),lt.splice(10).forEach(function(o){delete ei[o.id]})}},wd=function(e,t){t=t||{},Yr(function(){"interactionCount"in performance||qo||(qo=cn("event",Rd,{type:"event",buffered:!0,durationThreshold:0}));var n,r=ut("INP"),o=function(a){a.forEach(function(c){c.interactionId&&vs(c),c.entryType==="first-input"&&!lt.some(function(l){return l.entries.some(function(p){return c.duration===p.duration&&c.startTime===p.startTime})})&&vs(c)});var s,u=(s=Math.min(lt.length-1,Math.floor(hs()/50)),lt[s]);u&&u.latency!==r.value&&(r.value=u.latency,r.entries=u.entries,n())},i=cn("event",o,{durationThreshold:t.durationThreshold||40});n=ct(e,r,ds,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Hr(function(){o(i.takeRecords()),r.value<0&&hs()>0&&(r.value=0,r.entries=[]),n(!0)}),un(function(){lt=[],fs=ps(),r=ut("INP"),n=ct(e,r,ds,t.reportAllChanges)}))})},ms=[2500,4e3],ti={};let _s={};function Wr(e,t,n){if(_s[t])return;_s[t]=!0;let r=n.value,o=Date.now(),i=e.startSpan("webvitals",{startTime:o});i.setAttribute(t,r),i.end(o)}function Ad(e){let t=e.getTracer("webvitals");(function(n,r){r=r||{},Yr(function(){var o,i=$o(),a=ut("FID"),s=function(l){l.startTime<i.firstHiddenTime&&(a.value=l.processingStart-l.startTime,a.entries.push(l),o(!0))},u=function(l){l.forEach(s)},c=cn("first-input",u);o=ct(n,a,cs,r.reportAllChanges),c&&Hr(Zo(function(){u(c.takeRecords()),c.disconnect()})),c&&un(function(){var l;a=ut("FID"),o=ct(n,a,cs,r.reportAllChanges),jr=[],Xn=-1,Lt=null,us(addEventListener),l=s,jr.push(l),ss()})})})(n=>{Wr(t,"fid",n)}),Td(n=>{Wr(t,"cls",n)}),function(n,r){r=r||{},Yr(function(){var o,i=$o(),a=ut("LCP"),s=function(l){var p=l[l.length-1];p&&p.startTime<i.firstHiddenTime&&(a.value=Math.max(p.startTime-Jo(),0),a.entries=[p],o())},u=cn("largest-contentful-paint",s);if(u){o=ct(n,a,ms,r.reportAllChanges);var c=Zo(function(){ti[a.id]||(s(u.takeRecords()),u.disconnect(),ti[a.id]=!0,o(!0))});["keydown","click"].forEach(function(l){addEventListener(l,c,!0)}),Hr(c),un(function(l){a=ut("LCP"),o=ct(n,a,ms,r.reportAllChanges),Ko(function(){a.value=performance.now()-l.timeStamp,ti[a.id]=!0,o(!0)})})}})}(n=>{Wr(t,"lcp",n)}),wd(n=>{Wr(t,"inp",n)})}let ni="longtask",Es="browser-longtask",gs="post-doc-load-resource",Nd=["img","script"],Cd=e=>e instanceof HTMLScriptElement||e instanceof HTMLImageElement;class ys extends ze{constructor(t={}){let n=Object.assign({},{allowedInitiatorTypes:Nd},t);super(gs,gt,n),this.config=n,this.urlToContextMap={}}init(){}enable(){window.PerformanceObserver&&window.addEventListener("load",()=>{this._startPerformanceObserver()}),window.MutationObserver&&this._startHeadMutationObserver()}disable(){this.performanceObserver&&this.performanceObserver.disconnect(),this.headMutationObserver&&this.headMutationObserver.disconnect()}onBeforeContextChange(){this._processHeadMutationObserverRecords(this.headMutationObserver.takeRecords())}_startPerformanceObserver(){this.performanceObserver=new PerformanceObserver(t=>{window.document.readyState==="complete"&&t.getEntries().forEach(n=>{this.config.allowedInitiatorTypes.includes(n.initiatorType)&&this._createSpan(n)})}),this.performanceObserver.observe({entryTypes:["resource"]})}_startHeadMutationObserver(){this.headMutationObserver=new MutationObserver(this._processHeadMutationObserverRecords.bind(this)),this.headMutationObserver.observe(document.head,{childList:!0})}_processHeadMutationObserverRecords(t){V.active()!==Fe&&t.flatMap(n=>Array.from(n.addedNodes||[])).filter(Cd).forEach(n=>{try{let r=n.getAttribute("src");if(!r)return;let o=new URL(r,location.origin);this.urlToContextMap[o.toString()]=V.active()}catch{}})}_createSpan(t){if(jn(t.name,this.config.ignoreUrls))return;let n=new URL(t.name,location.origin),r=this.tracer.startSpan("resourceFetch",{startTime:t.fetchStart},this.urlToContextMap[n.toString()]);r.setAttribute("component",gs),r.setAttribute(z.HTTP_URL,t.name),r.setAttribute(z.HTTP_METHOD,"GET"),Ht(r,t);let o=t.responseEnd;o&&o>0?r.end(o):r.end()}}class Ld extends jp{shutdown(){return new Promise(t=>{He.disable(),V.disable(),K.disable(),t()}).then(()=>super.shutdown())}}class Id{constructor(){this.events={}}addEventListener(t,n){this.events[t]||(this.events[t]=[]),this.events[t].push(n)}removeEventListener(t,n){if(!this.events[t])return;let r=this.events[t].indexOf(n);r>=0&&this.events[t].splice(r,1)}emit(t,n){let r=this.events[t];r&&r.forEach(o=>{Promise.resolve({payload:n}).then(o)})}}let Qe="__splunk_context";class Pd{constructor(t={}){this._config=t,this._enabled=!1,this._currentContext=Fe,this._hashChangeContext=null,this._contextResumingListeners=new WeakMap,this._messagePorts=new WeakMap}_bindFunction(t,n=Fe){let r=this,o=function(...i){return r.with(n,()=>t.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),o}active(){return this._currentContext}bind(t,n){return xe(n)?this._bindFunction(n,t):n}disable(){return this._enabled?(this._config.async&&(this._unpatchTimeouts(),this._unpatchPromise(),this._unpatchMutationObserver(),this._unpatchEvents(),this._unpatchMessageChannel()),this._currentContext=Fe,this._enabled=!1,this):this}enable(){return this._enabled||(this._config.async&&(this._patchTimeouts(),this._patchPromise(),this._patchMutationObserver(),this._patchEvents(),this._patchMessageChannel()),this._enabled=!0,this._currentContext=Fe),this}bindActiveToArgument(t,n){xe(t[n])&&(t[n]=this.bind(this.active(),t[n]))}_patchTimeouts(){let t=this;he(window,"setTimeout",n=>function(...r){return(!r[1]||r[1]<=34)&&t.bindActiveToArgument(r,0),n.apply(this,r)}),window.setImmediate&&he(window,"setImmediate",n=>function(...r){return t.bindActiveToArgument(r,0),n.apply(this,r)}),window.requestAnimationFrame&&he(window,"requestAnimationFrame",n=>function(...r){return t.bindActiveToArgument(r,0),n.apply(this,r)})}_unpatchTimeouts(){Y.unwrap(window,"setTimeout"),window.setImmediate&&Y.unwrap(window,"setImmediate")}_patchPromise(){if(!window.Promise)return;let t=this;he(Promise.prototype,"then",n=>function(...r){return t.bindActiveToArgument(r,0),t.bindActiveToArgument(r,1),n.apply(this,r)}),he(Promise.prototype,"catch",n=>function(...r){return t.bindActiveToArgument(r,0),n.apply(this,r)}),he(Promise.prototype,"finally",n=>function(...r){return t.bindActiveToArgument(r,0),n.apply(this,r)})}_unpatchPromise(){window.Promise&&(Y.unwrap(Promise.prototype,"then"),Y.unwrap(Promise.prototype,"catch"),Y.unwrap(Promise.prototype,"finally"))}_patchMutationObserver(){let t=this;he(window,"MutationObserver",n=>class extends n{constructor(...r){if(xe(r[0])){let o=r[0];r[0]=function(...i){return this[Qe]&&t._enabled?t.with(this[Qe],o,this,...i):o.apply(this,i)}}super(...r),Object.defineProperty(this,Qe,{value:null,writable:!0,enumerable:!1})}observe(...r){if(r[0]&&r[0]instanceof Text&&!r[0].parentNode&&r[1]&&r[1].characterData){let o=this,i=r[0],a=Object.getOwnPropertyDescriptor(CharacterData.prototype,"data");Object.defineProperty(i,"data",Object.assign(Object.assign({},a),{enumerable:!1,set:function(...s){let u=t.active();return u&&(o[Qe]=u),a.set.apply(this,s)}}))}return super.observe(...r)}})}_unpatchMutationObserver(){Y.unwrap(window,"MutationObserver")}_getListenersMap(t,n){this._contextResumingListeners.has(t)||this._contextResumingListeners.set(t,new Map);let r=this._contextResumingListeners.get(t);return r.has(n)||r.set(n,new WeakMap),r.get(n)}_patchEvents(){let t=this;he(XMLHttpRequest.prototype,"addEventListener",r=>function(...o){if(xe(o[1])){let i=t._getListenersMap(this,o[0]),a=i.get(o[1]);a||(a=t.bind(t.active(),o[1]),i.set(o[1],a)),o[1]=a}return r.apply(this,o)}),he(XMLHttpRequest.prototype,"removeEventListener",r=>function(...o){if(xe(o[1])){let i=t._getListenersMap(this,o[0]).get(o[1]);i&&(o[1]=i)}return r.apply(this,o)}),["onabort","onerror","onload","onloadend","onloadstart","onprogress","ontimeout"].forEach(r=>{let o=Object.getOwnPropertyDescriptor(XMLHttpRequestEventTarget.prototype,r);o&&(he(o,"get",i=>function(){let a=i.call(this);return xe(a)&&a._orig?a._orig:a}),he(o,"set",i=>function(a){if(xe(a)){let s=a,u=t.bind(t.active(),a);u._orig=s,a=u}return i.call(this,a)}),Object.defineProperty(XMLHttpRequestEventTarget.prototype,r,o))}),he(Window.prototype,"addEventListener",r=>function(...o){if(o[0]==="hashchange"&&xe(o[1])){let i=t._getListenersMap(this,o[0]),a=i.get(o[1]);a||(a=t._getWrappedEventListener(o[1],()=>t._hashChangeContext),i.set(o[1],a)),o[1]=a}return r.apply(this,o)});let n=Object.getOwnPropertyDescriptor(window,"onhashchange");he(n,"get",r=>function(){let o=r.call(this);return xe(o)&&o._orig?o._orig:o}),he(n,"set",r=>function(o){if(xe(o)){let i=t._getWrappedEventListener(o,()=>t._hashChangeContext);i._orig=o,o=i}return r.call(this,o)}),Object.defineProperty(window,"onhashchange",n)}_unpatchEvents(){Y.unwrap(XMLHttpRequest.prototype,"addEventListener"),Y.unwrap(XMLHttpRequest.prototype,"removeEventListener")}_patchMessageChannel(){let t=this;he(window,"MessageChannel",r=>class extends r{constructor(...o){super(...o),t._messagePorts.set(this.port1,this.port2),t._messagePorts.set(this.port2,this.port1),Object.defineProperty(this.port1,Qe,{value:null,writable:!0,enumerable:!1}),Object.defineProperty(this.port2,Qe,{value:null,writable:!0,enumerable:!1})}}),he(MessagePort.prototype,"postMessage",r=>function(...o){let i=t.active();if(!t._messagePorts.has(this)||!i)return r.apply(this,o);let a=t._messagePorts.get(this);a[Qe]=i;let s=r.apply(this,o);return za(setTimeout)(()=>{a[Qe]===i&&(a[Qe]=null)},100),s}),he(MessagePort.prototype,"addEventListener",r=>function(...o){if(o[0]==="message"&&xe(o[1])){let i=t._getListenersMap(this,o[0]),a=i.get(o[1]);a||(a=t._getWrappedEventListener(o[1],()=>this[Qe]),i.set(o[1],a)),o[1]=a}return r.apply(this,o)}),he(MessagePort.prototype,"removeEventListener",r=>function(...o){if(o[0]==="message"&&xe(o[1])){let i=t._getListenersMap(this,o[0]).get(o[1]);i&&(o[1]=i)}return r.apply(this,o)});let n=Object.getOwnPropertyDescriptor(MessagePort.prototype,"onmessage");he(n,"get",r=>function(){let o=r.call(this);return xe(o)&&o._orig?o._orig:o}),he(n,"set",r=>function(o){if(xe(o)){let i=t._getWrappedEventListener(o,()=>this[Qe]);i._orig=o,o=i}return r.call(this,o)}),Object.defineProperty(MessagePort.prototype,"onmessage",n)}_getWrappedEventListener(t,n){let r=this;return function(...o){let i=n();return i&&r._enabled?r.with(i,t,this,...o):t.apply(this,o)}}_unpatchMessageChannel(){Y.unwrap(window,"MessageChannel"),Y.unwrap(MessagePort.prototype,"postMessage"),Y.unwrap(MessagePort.prototype,"addEventListener"),Y.unwrap(MessagePort.prototype,"removeEventListener");let t=Object.getOwnPropertyDescriptor(MessagePort.prototype,"onmessage");Y.unwrap(t,"get"),Y.unwrap(t,"set"),Object.defineProperty(MessagePort.prototype,"onmessage",t)}with(t,n,r,...o){var i,a,s,u;try{(a=(i=this._config).onBeforeContextStart)===null||a===void 0||a.call(i)}catch{}let c=this._currentContext;this._currentContext=t||Fe;let l=location.hash;try{let p=n.call(r,...o);return(u=(s=this._config).onBeforeContextEnd)===null||u===void 0||u.call(s),p}finally{this._currentContext=c,l!==location.hash&&(this._hashChangeContext=t,za(setTimeout)(()=>{this._hashChangeContext===t&&(this._hashChangeContext=null)},33))}}}class Md{constructor(t){this._globalAttributes=t??{}}setGlobalAttributes(t){if(t)Object.assign(this._globalAttributes,t);else for(let n of Object.keys(this._globalAttributes))delete this._globalAttributes[n]}getGlobalAttributes(){return this._globalAttributes}forceFlush(){return Promise.resolve()}onStart(t){t.setAttribute("location.href",location.href),t.setAttributes(this._globalAttributes)}onEnd(){}shutdown(){return Promise.resolve()}}let bs="messaging.socket.io.namespace",Ts="messaging.socket.io.event_name",Ss=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];class kd extends lp{constructor(t,n){super(t,n)}onInit(t){t?.disableAutoFlushOnDocumentHide!==!0&&typeof document<"u"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(n=>We(n))},this._pageHideListener=()=>{this.forceFlush().catch(n=>We(n))},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}}var xd=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Dd=Mn(xd),Ud=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze,Bd=typeof self=="object"&&self&&self.Object===Object&&self,ri=(Ud||Bd||Function("return this")()).Symbol,Os=ri,Rs=Object.prototype,Vd=Rs.hasOwnProperty,Fd=Rs.toString,Jn=Os?Os.toStringTag:void 0,jd=function(e){var t=Vd.call(e,Jn),n=e[Jn];try{e[Jn]=void 0;var r=!0}catch{}var o=Fd.call(e);return r&&(t?e[Jn]=n:delete e[Jn]),o},Hd=Object.prototype.toString,Gd=function(e){return Hd.call(e)},Yd=jd,zd=Gd,ws=ri?ri.toStringTag:void 0,As=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":ws&&ws in Object(e)?Yd(e):zd(e)},Wd=function(e,t){return function(n){return e(t(n))}},Xd=Wd(Object.getPrototypeOf,Object),Ns=function(e){return e!=null&&typeof e=="object"},qd=As,Jd=Xd,Kd=Ns,Zd=Function.prototype,$d=Object.prototype,Cs=Zd.toString,Qd=$d.hasOwnProperty,ef=Cs.call(Object),tf=function(e){if(!Kd(e)||qd(e)!="[object Object]")return!1;var t=Jd(e);if(t===null)return!0;var n=Qd.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Cs.call(n)==ef},Ls=Mn(tf),nf=Array.isArray,rf=As,of=nf,af=Ns,sf=function(e){return typeof e=="string"||!of(e)&&af(e)&&rf(e)=="[object String]"},uf=Mn(sf);let Is="console";var Xr;(function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"})(Xr||(Xr={}));var yt,Ps="0.40.0",cf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lf=function(e){function t(n){var r=e.call(this,"@opentelemetry/instrumentation-fetch",Ps,n)||this;return r.component="fetch",r.version=Ps,r.moduleName=r.component,r._usedResources=new WeakSet,r._tasksCount=0,r}return cf(t,e),t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addChildSpan=function(n,r){var o=this.tracer.startSpan("CORS Preflight",{startTime:r[j.FETCH_START]},K.setSpan(V.active(),n));this._getConfig().ignoreNetworkEvents||Ht(o,r),o.end(r[j.RESPONSE_END])},t.prototype._addFinalSpanAttributes=function(n,r){var o=Et(r.url);n.setAttribute(z.HTTP_STATUS_CODE,r.status),r.statusText!=null&&n.setAttribute(Xr.HTTP_STATUS_TEXT,r.statusText),n.setAttribute(z.HTTP_HOST,o.host),n.setAttribute(z.HTTP_SCHEME,o.protocol.replace(":","")),n.setAttribute(z.HTTP_USER_AGENT,navigator.userAgent)},t.prototype._addHeaders=function(n,r){if(!Ia(r,this._getConfig().propagateTraceHeaderCorsUrls)){var o={};return He.inject(V.active(),o),void(Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}n instanceof Request?He.inject(V.active(),n.headers,{set:function(i,a,s){return i.set(a,typeof s=="string"?s:String(s))}}):n.headers instanceof Headers?He.inject(V.active(),n.headers,{set:function(i,a,s){return i.set(a,typeof s=="string"?s:String(s))}}):(o={},He.inject(V.active(),o),n.headers=Object.assign({},o,n.headers||{}))},t.prototype._clearResources=function(){this._tasksCount===0&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)},t.prototype._createSpan=function(n,r){var o;if(r===void 0&&(r={}),!jn(n,this._getConfig().ignoreUrls)){var i=(r.method||"GET").toUpperCase(),a="HTTP "+i;return this.tracer.startSpan(a,{kind:je.CLIENT,attributes:(o={},o[Xr.COMPONENT]=this.moduleName,o[z.HTTP_METHOD]=i,o[z.HTTP_URL]=n,o)})}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._findResourceAndAddNetworkEvents=function(n,r,o){var i=r.entries;if(!i.length){if(!performance.getEntriesByType)return;i=performance.getEntriesByType("resource")}var a=La(r.spanUrl,r.startTime,o,i,this._usedResources,"fetch");if(a.mainRequest){var s=a.mainRequest;this._markResourceAsUsed(s);var u=a.corsPreFlightRequest;u&&(this._addChildSpan(n,u),this._markResourceAsUsed(u)),this._getConfig().ignoreNetworkEvents||Ht(n,s)}},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._endSpan=function(n,r,o){var i=this,a=_t(Date.now()),s=Vt();this._addFinalSpanAttributes(n,o),setTimeout(function(){var u;(u=r.observer)===null||u===void 0||u.disconnect(),i._findResourceAndAddNetworkEvents(n,r,s),i._tasksCount--,i._clearResources(),n.end(a)},300)},t.prototype._patchConstructor=function(){var n=this;return function(r){var o=n;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=this,u=Et(i[0]instanceof Request?i[0].url:String(i[0])).href,c=i[0]instanceof Request?i[0]:i[1]||{},l=o._createSpan(u,c);if(!l)return r.apply(this,i);var p=o._prepareSpanData(u);function d(y,g){o._applyAttributesAfterFetch(y,c,g),o._endSpan(y,p,{status:g.status||0,statusText:g.message,url:u})}function f(y,g){o._applyAttributesAfterFetch(y,c,g),g.status>=200&&g.status<400?o._endSpan(y,p,g):o._endSpan(y,p,{status:g.status,statusText:g.statusText,url:u})}function v(y,g,w){try{var h=w.clone(),_=w.clone(),S=h.body;if(S){var O=S.getReader(),E=function(){O.read().then(function(m){m.done?f(y,_):E()},function(m){d(y,m)})};E()}else f(y,w)}finally{g(w)}}function T(y,g,w){try{d(y,w)}finally{g(w)}}return new Promise(function(y,g){return V.with(K.setSpan(V.active(),l),function(){return o._addHeaders(c,u),o._tasksCount++,r.apply(s,c instanceof Request?[c]:[u,c]).then(v.bind(s,l,y),T.bind(s,l,g))})})}}},t.prototype._applyAttributesAfterFetch=function(n,r,o){var i=this,a=this._getConfig().applyCustomAttributesOnSpan;a&&No(function(){return a(n,r,o)},function(s){s&&i._diag.error("applyCustomAttributesOnSpan",s)},!0)},t.prototype._prepareSpanData=function(n){var r=Vt(),o=[];if(typeof PerformanceObserver!="function")return{entries:o,startTime:r,spanUrl:n};var i=new PerformanceObserver(function(a){a.getEntries().forEach(function(s){s.initiatorType==="fetch"&&s.name===n&&o.push(s)})});return i.observe({entryTypes:["resource"]}),{entries:o,observer:i,startTime:r,spanUrl:n}},t.prototype.enable=function(){ge(fetch)&&(this._unwrap(Ut,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(Ut,"fetch",this._patchConstructor())},t.prototype.disable=function(){this._unwrap(Ut,"fetch"),this._usedResources=new WeakSet},t}(ze);(function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"})(yt||(yt={}));var oi,Ms="0.40.0";(function(e){e.HTTP_STATUS_TEXT="http.status_text"})(oi||(oi={}));var pf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),df=function(e){function t(n){var r=e.call(this,"@opentelemetry/instrumentation-xml-http-request",Ms,n)||this;return r.component="xml-http-request",r.version=Ms,r.moduleName=r.component,r._tasksCount=0,r._xhrMem=new WeakMap,r._usedResources=new WeakSet,r}return pf(t,e),t.prototype.init=function(){},t.prototype._getConfig=function(){return this._config},t.prototype._addHeaders=function(n,r){if(!Ia(Et(r).href,this._getConfig().propagateTraceHeaderCorsUrls)){var o={};return He.inject(V.active(),o),void(Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}var i={};He.inject(V.active(),i),Object.keys(i).forEach(function(a){n.setRequestHeader(a,String(i[a]))})},t.prototype._addChildSpan=function(n,r){var o=this;V.with(K.setSpan(V.active(),n),function(){var i=o.tracer.startSpan("CORS Preflight",{startTime:r[j.FETCH_START]});Ht(i,r),i.end(r[j.RESPONSE_END])})},t.prototype._addFinalSpanAttributes=function(n,r,o){if(typeof o=="string"){var i=Et(o);r.status!==void 0&&n.setAttribute(z.HTTP_STATUS_CODE,r.status),r.statusText!==void 0&&n.setAttribute(oi.HTTP_STATUS_TEXT,r.statusText),n.setAttribute(z.HTTP_HOST,i.host),n.setAttribute(z.HTTP_SCHEME,i.protocol.replace(":","")),n.setAttribute(z.HTTP_USER_AGENT,navigator.userAgent)}},t.prototype._applyAttributesAfterXHR=function(n,r){var o=this,i=this._getConfig().applyCustomAttributesOnSpan;typeof i=="function"&&No(function(){return i(n,r)},function(a){a&&o._diag.error("applyCustomAttributesOnSpan",a)},!0)},t.prototype._addResourceObserver=function(n,r){var o=this._xhrMem.get(n);o&&typeof PerformanceObserver=="function"&&typeof PerformanceResourceTiming=="function"&&(o.createdResources={observer:new PerformanceObserver(function(i){var a=i.getEntries(),s=Et(r);a.forEach(function(u){u.initiatorType==="xmlhttprequest"&&u.name===s.href&&o.createdResources&&o.createdResources.entries.push(u)})}),entries:[]},o.createdResources.observer.observe({entryTypes:["resource"]}))},t.prototype._clearResources=function(){this._tasksCount===0&&this._getConfig().clearTimingResources&&(Xe.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)},t.prototype._findResourceAndAddNetworkEvents=function(n,r,o,i,a){if(o&&i&&a&&n.createdResources){var s=n.createdResources.entries;s&&s.length||(s=Xe.getEntriesByType("resource"));var u=La(Et(o).href,i,a,s,this._usedResources);if(u.mainRequest){var c=u.mainRequest;this._markResourceAsUsed(c);var l=u.corsPreFlightRequest;l&&(this._addChildSpan(r,l),this._markResourceAsUsed(l)),Ht(r,c)}}},t.prototype._cleanPreviousSpanInformation=function(n){var r=this._xhrMem.get(n);if(r){var o=r.callbackToRemoveEvents;o&&o(),this._xhrMem.delete(n)}},t.prototype._createSpan=function(n,r,o){var i;if(!jn(r,this._getConfig().ignoreUrls)){var a=o.toUpperCase(),s=this.tracer.startSpan(a,{kind:je.CLIENT,attributes:(i={},i[z.HTTP_METHOD]=o,i[z.HTTP_URL]=Et(r).toString(),i)});return s.addEvent(yt.METHOD_OPEN),this._cleanPreviousSpanInformation(n),this._xhrMem.set(n,{span:s,spanUrl:r}),s}this._diag.debug("ignoring span as url matches ignored url")},t.prototype._markResourceAsUsed=function(n){this._usedResources.add(n)},t.prototype._patchOpen=function(){var n=this;return function(r){var o=n;return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var s=i[0],u=i[1];return o._createSpan(this,u,s),r.apply(this,i)}}},t.prototype._patchSend=function(){var n=this;function r(u,c){var l=n._xhrMem.get(c);if(l){l.status=c.status,l.statusText=c.statusText,n._xhrMem.delete(c),l.span&&n._applyAttributesAfterXHR(l.span,c);var p=Vt(),d=Date.now();setTimeout(function(){(function(f,v,T,y){var g=v.callbackToRemoveEvents;typeof g=="function"&&g();var w=v.span,h=v.spanUrl,_=v.sendStartTime;w&&(n._findResourceAndAddNetworkEvents(v,w,h,_,T),w.addEvent(f,y),n._addFinalSpanAttributes(w,v,h),w.end(y),n._tasksCount--),n._clearResources()})(u,l,p,d)},300)}}function o(){r(yt.EVENT_ERROR,this)}function i(){r(yt.EVENT_ABORT,this)}function a(){r(yt.EVENT_TIMEOUT,this)}function s(){this.status<299?r(yt.EVENT_LOAD,this):r(yt.EVENT_ERROR,this)}return function(u){return function(){for(var c=this,l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var d=n._xhrMem.get(this);if(!d)return u.apply(this,l);var f=d.span,v=d.spanUrl;return f&&v&&V.with(K.setSpan(V.active(),f),function(){n._tasksCount++,d.sendStartTime=Vt(),f.addEvent(yt.METHOD_SEND),c.addEventListener("abort",i),c.addEventListener("error",o),c.addEventListener("load",s),c.addEventListener("timeout",a),d.callbackToRemoveEvents=function(){(function(T){T.removeEventListener("abort",i),T.removeEventListener("error",o),T.removeEventListener("load",s),T.removeEventListener("timeout",a);var y=n._xhrMem.get(T);y&&(y.callbackToRemoveEvents=void 0)})(c),d.createdResources&&d.createdResources.observer.disconnect()},n._addHeaders(c,v),n._addResourceObserver(c,v)}),u.apply(this,l)}}},t.prototype.enable=function(){this._diag.debug("applying patch to",this.moduleName,this.version),ge(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),ge(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())},t.prototype.disable=function(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet},t}(ze);let qr={app:"unknown-browser-app",url:void 0,bufferTimeout:4e3,bufferSize:50,instrumentations:{},exporter:{factory:e=>new hd({url:e.url,headers:{authorization:e.authHeader}})},spanProcessor:{factory:(e,t)=>new kd(e,t)},apiKey:void 0};function ks(e,t,n){!(t in e)||n in e&&e[n]!==qr[n]||(e[n]=e[t])}let xs=[{Instrument:class extends Gp{constructor(e={}){super(e);let t=this,n=t._endSpan.bind(this);t._endSpan=(o,i,a)=>{var s;let u=o;if(o&&o.setAttribute("component",this.component),o&&u.name!=="documentLoad"){if(u.name==="documentFetch"&&!a.serverTiming&&performance.getEntriesByType){let c=performance.getEntriesByType("navigation");!((s=c[0])===null||s===void 0)&&s.serverTiming&&(a.serverTiming=c[0].serverTiming)}(function(c,l){if(c.serverTiming)for(let p of c.serverTiming)p.name==="traceparent"&&p.description&&Ma(p.description.match(zp),l)})(a,o),o.setAttribute(z.HTTP_METHOD,"GET")}return o&&u.name==="documentLoad"&&function(c){document.referrer&&document.referrer!==""&&c.setAttribute("document.referrer",document.referrer),window.screen&&c.setAttribute("screen.xy",window.screen.width+"x"+window.screen.height)}(o),n(o,i,a)};let r=t._initResourceSpan.bind(this);t._initResourceSpan=(o,i)=>{Wp.indexOf(o.initiatorType)!==-1||jn(o.name,e.ignoreUrls)||r(o,i)}}},confKey:"document",disable:!1},{Instrument:class extends df{constructor(e={}){super(e);let t=this._createSpan.bind(this);this._createSpan=(r,o,i)=>{var a;let s=t(r,o,i);return s&&(!((a=e.advancedNetworkCapture)===null||a===void 0)&&a.call(e)&&r.addEventListener("readystatechange",function(){if(r.readyState===r.OPENED)Y.wrap(r,"setRequestHeader",u=>function(c,l){return Vr("request",[c])(s,()=>l),u.apply(this,arguments)}),Y.wrap(r,"send",u=>function(c){return c&&s.setAttribute("http.request.body",c.toString()),u.apply(this,arguments)});else if(r.readyState===r.DONE){let u=r.getAllResponseHeaders().split(`\r
`).reduce((c,l)=>{let[p,d]=l.split(": ");return p&&d&&(c[p]=d),c},{});Vr("response",Object.keys(u))(s,c=>u[c]),s.setAttribute("http.response.body",r.responseText),Y.unwrap(r,"setRequestHeader"),Y.unwrap(r,"send")}}),r.addEventListener("readystatechange",function(){if(r.readyState===r.HEADERS_RECEIVED&&r.getAllResponseHeaders().toLowerCase().indexOf("server-timing")!==-1){let u=r.getResponseHeader("server-timing");u!==null&&ka(u,s)}}),s.setAttribute("component",this.moduleName),s.updateName(`HTTP ${i.toUpperCase()}`)),s};let n=this._addResourceObserver.bind(this);this._addResourceObserver=(r,o)=>{typeof PerformanceObserver=="function"&&typeof PerformanceResourceTiming=="function"&&n(r,o)}}},confKey:"xhr",disable:!1},{Instrument:class extends Kp{constructor(e={}){if(!e.eventNames){let r=Object.assign({},Go,e.events),o=Object.entries(r).filter(([i,a])=>a).map(([i])=>i);e.eventNames=o}super(e),this._routingTracer=K.getTracer(Da,"1");let t=this._createSpan.bind(this);this._createSpan=(r,o,i)=>{r===document&&(r=document.documentElement);let a=t(r,o,i);return a&&a.setAttribute("component",this.moduleName),a};let n=this._patchAddEventListener.bind(this);this._patchAddEventListener=()=>{let r=n();return o=>{let i=r(o);return function(a,s,u){return function(c){return c&&(typeof c=="function"||typeof c=="object"&&typeof c.handleEvent=="function")}(s)?(u===null&&(u=void 0),i.call(this,a,s,u)):o.call(this,a,s,u)}}}}setTracerProvider(e){super.setTracerProvider(e),this._routingTracer=e.getTracer(Da,"1")}getZoneWithPrototype(){}enable(){this.__hashChangeHandler=e=>{this._emitRouteChangeSpan(e.oldURL)},window.addEventListener("hashchange",this.__hashChangeHandler),super.enable()}disable(){super.disable(),window.removeEventListener("hashchange",this.__hashChangeHandler)}_patchHistoryMethod(){let e=this;return t=>function(...n){let r=location.href,o=t.apply(this,n);return r!==location.href&&e._emitRouteChangeSpan(r),o}}_emitRouteChangeSpan(e){let t=Date.now(),n=this._routingTracer.startSpan("routeChange",{startTime:t});n.setAttribute("component",this.moduleName),n.setAttribute("prev.href",e),n.end(t)}},confKey:"interactions",disable:!1},{Instrument:ys,confKey:"postload",disable:!1},{Instrument:class extends lf{constructor(e={}){let t=e.applyCustomAttributesOnSpan;e.applyCustomAttributesOnSpan=function(n,r,o){var i;if(n.updateName(`HTTP ${(r.method||"GET").toUpperCase()}`),n.setAttribute("component","fetch"),((i=e.advancedNetworkCapture)===null||i===void 0?void 0:i.call(e))&&n&&(r.headers&&Vr("request",Object.keys(r.headers))(n,a=>{var s;return(s=r.headers)===null||s===void 0?void 0:s[a]}),r.body&&(r.body instanceof ReadableStream?n.setAttribute("http.request.body","[ReadableStream]"):n.setAttribute("http.request.body",r.body.toString())),o instanceof Response)){if(o.headers){let a=[];o.headers.forEach((s,u)=>{a.push(u)}),Vr("response",a)(n,s=>{var u;return(u=o.headers.get(s))!==null&&u!==void 0?u:""})}o.clone().text().then(a=>{n.setAttribute("http.response.body",a)}).catch(()=>{})}if(n&&o instanceof Response&&o.headers){let a=o.headers.get("Server-Timing");a&&ka(a,n)}t&&t(n,r,o)},super(e)}enable(){window.fetch&&super.enable()}},confKey:"fetch",disable:!1},{Instrument:class extends ze{constructor(e){super("splunk-websocket",gt,e),this.listener2ws2patched=new WeakMap,this._config=e}init(){}enable(){let e=this;Y.wrap(window,"WebSocket",function(){class t extends WebSocket{constructor(r,o){if(jn(r,e._config.ignoreUrls))return void super(r,o);let i=e.tracer.startSpan("connect",{kind:je.CLIENT,attributes:{component:"websocket"}});r&&i.setAttribute("http.url",r),o&&(typeof o=="string"?i.setAttribute("protocols",o):i.setAttribute("protocols",JSON.stringify(o)));try{super(r,o)}catch(a){throw e.endSpanExceptionally(i,a),a}this.addEventListener("open",function(){i.end()}),this.addEventListener("error",function(a){i.isRecording()?e.endSpanExceptionally(i,new Error(a.error||a.message||"Could not connect.")):e.startSpan(this,"error",je.CLIENT).end()}),e.patchSend(this),e.patchEventListener(this)}}return t})}disable(){Y.unwrap(window,"WebSocket")}startSpan(e,t,n){let r=this.tracer.startSpan(t,{kind:n});return r.setAttribute("component","websocket"),r.setAttribute("protocol",e.protocol),r.setAttribute("http.url",e.url),r}patchSend(e){let t=this,n=e.send;e.send=function(...r){let o=t.startSpan(e,"send",je.PRODUCER),i=r.length>0?$a(r[0]):void 0,a;o.setAttribute("http.request_content_length",i);try{a=n.apply(e,r)}catch(s){throw t.endSpanExceptionally(o,s),s}return a===!1&&t.endSpanExceptionally(o,new Error("Failed to send frame.")),o.end(),a}}addPatchedListener(e,t,n){let r=this.listener2ws2patched.get(t);return r||(r=new Map,this.listener2ws2patched.set(t,r)),!r.has(e)&&(r.set(e,n),!0)}removePatchedListener(e,t){let n=this.listener2ws2patched.get(t);if(!n)return;let r=n.get(e);return r&&(n.delete(e),n.size===0&&this.listener2ws2patched.delete(e)),r}patchEventListener(e){let t=this,n=e.addEventListener.bind(e);e.addEventListener=function(o,i,a){if(o!=="message")return void n(o,i,a);let s=typeof a=="boolean"||a==null?void 0:a.once,u=function(...c){let l=this,p=c;s&&t.removePatchedListener(e,i);let d=t.startSpan(e,"onmessage",je.CONSUMER);p&&p[0]&&p[0].data&&d.setAttribute("http.response_content_length",$a(p[0].data)),V.with(K.setSpan(V.active(),d),()=>{let f;return f=typeof i=="function"?i.apply(l,p):i.handleEvent(c[0]),d.end(),f})};t.addPatchedListener(e,i,u)&&n.apply(e,[o,u,a])};let r=e.removeEventListener;e.removeEventListener=function(o,i,a){if(o!=="message")return r.call(e,o,i,a);let s=t.removePatchedListener(e,i);return s?r.call(e,o,s,a):r.call(e,o,i,a)}}endSpanExceptionally(e,t){e.setAttribute("error",!0),e.setAttribute("error.message",t.message),e.setAttribute("error.object",t.name?t.name:t.constructor&&t.constructor.name?t.constructor.name:"Error"),e.end()}},confKey:"websocket",disable:!0},{Instrument:class extends ze{constructor(e={}){super(Es,gt,Object.assign({},e))}init(){}enable(){this.isSupported()&&(this._longtaskObserver=new PerformanceObserver(e=>{e.getEntries().forEach(t=>this._createSpanFromEntry(t))}),this._longtaskObserver.observe({type:ni,buffered:!0}))}disable(){this.isSupported()&&this._longtaskObserver.disconnect()}_createSpanFromEntry(e){let t=this.tracer.startSpan(ni,{startTime:e.startTime});t.setAttribute("component",Es),t.setAttribute("longtask.name",e.name),t.setAttribute("longtask.entry_type",e.entryType),t.setAttribute("longtask.duration",e.duration);let n=e.attribution;Array.isArray(n)&&n.forEach((r,o)=>{let i=r>1?`longtask.attribution[${o}]`:"longtask.attribution";t.setAttribute(`${i}.name`,r.name),t.setAttribute(`${i}.entry_type`,r.entryType),t.setAttribute(`${i}.start_time`,r.startTime),t.setAttribute(`${i}.duration`,r.duration),t.setAttribute(`${i}.container_type`,r.containerType),t.setAttribute(`${i}.container_src`,r.containerSrc),t.setAttribute(`${i}.container_id`,r.containerId),t.setAttribute(`${i}.container_name`,r.containerName)}),t.end(e.startTime+e.duration)}isSupported(){return(window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes||[]).includes(ni)}},confKey:"longtask",disable:!1},{Instrument:qa,confKey:zo,disable:!1},{Instrument:class extends ze{constructor(e={}){super("page-visibility",gt,Object.assign({},e)),this.unloading=!1}init(){}enable(){document.hidden&&this._createSpan(document.hidden),this.unloadListener=()=>{this.unloading=!0},this.visibilityListener=()=>{this.unloading||this._createSpan(document.hidden)},window.addEventListener("beforeunload",this.unloadListener),window.addEventListener("visibilitychange",this.visibilityListener)}disable(){window.removeEventListener("beforeunload",this.unloadListener),window.removeEventListener("visibilitychange",this.visibilityListener)}_createSpan(e){let t=Date.now(),n=this.tracer.startSpan("visibility",{startTime:t});n.setAttribute("hidden",e),n.end(t)}},confKey:"visibility",disable:!0},{Instrument:class extends ze{constructor(e={}){super("splunk-connectivity",gt,Object.assign({},e)),this.offlineStart=navigator.onLine?null:Date.now()}init(){}enable(){this.offlineListener=()=>{this.offlineStart=Date.now()},this.onlineListener=()=>{this.offlineStart&&(this._createSpan(!1,this.offlineStart),this._createSpan(!0,Date.now()))},window.addEventListener("offline",this.offlineListener),window.addEventListener("online",this.onlineListener)}disable(){window.removeEventListener("offline",this.offlineListener),window.removeEventListener("online",this.onlineListener)}_createSpan(e,t){let n=this.tracer.startSpan("connectivity",{startTime:t});n.setAttribute("online",e),n.end(t)}},confKey:"connectivity",disable:!0},{Instrument:class extends ze{constructor(e={}){super("splunk-socket.io-client",gt,Object.assign({target:"io"},e)),this.listeners=new WeakMap}init(){}getConfig(){return this._config}patchSocketIo(e){if(!function(n){return typeof n=="function"&&typeof n.Socket=="function"}(e))return void this._diag.debug("Doesn't seem like socket.io-client",e);let t=this;this._wrap(e.Socket.prototype,"emit",n=>function(r,...o){let i=t.tracer.startSpan(`${r} send`,{kind:je.PRODUCER,attributes:{[z.MESSAGING_SYSTEM]:"socket.io",[z.MESSAGING_DESTINATION]:this.nsp,[z.MESSAGING_DESTINATION_KIND]:ua,[bs]:this.nsp,[Ts]:r}});try{return V.with(K.setSpan(V.active(),i),()=>n.apply(this,[r,...o]))}catch(a){let s;throw a instanceof Error&&(i.recordException(a),s=a.message),i.setStatus({code:yr.ERROR,message:s}),a}finally{i.end()}}),this._wrap(e.Socket.prototype,"on",n=>function(r,o){if(Ss.includes(r)||typeof o!="function")return n.call(this,r,o);let i;return t.listeners.has(o)?i=t.listeners.get(o):(i=function(...a){let s=t.tracer.startSpan(`${r} ${ca}`,{kind:je.CONSUMER,attributes:{[z.MESSAGING_SYSTEM]:"socket.io",[z.MESSAGING_DESTINATION]:this.nsp,[z.MESSAGING_DESTINATION_KIND]:ua,[z.MESSAGING_OPERATION]:ca,[bs]:this.nsp,[Ts]:r}});try{o.call(this,a)}catch(u){throw u instanceof Error&&s.recordException(u),u}finally{s.end()}},t.listeners.set(o,i)),n.call(this,r,i)}),e.Socket.prototype.addEventListener=e.Socket.prototype.on,this._wrap(e.Socket.prototype,"off",n=>function(r,o){return!r||Ss.includes(r)||typeof o!="function"?n.call(this,r,o):t.listeners.has(o)?n.call(this,r,t.listeners.get(o)):n.call(this,r,o)}),e.Socket.prototype.removeListener=e.Socket.prototype.off,e.Socket.prototype.removeEventListener=e.Socket.prototype.off,e.Socket.prototype.removeAllListeners=e.Socket.prototype.off,this._onDisable=()=>{this._unwrap(e.Socket.prototype,"emit"),this._unwrap(e.Socket.prototype,"on"),e.Socket.prototype.addEventListener=e.Socket.prototype.on,this._unwrap(e.Socket.prototype,"off"),e.Socket.prototype.removeListener=e.Socket.prototype.off,e.Socket.prototype.removeEventListener=e.Socket.prototype.off,e.Socket.prototype.removeAllListeners=e.Socket.prototype.off}}enable(){let e=this.getConfig();e.target&&(typeof e.target=="string"?this._onDisable=function(t,n){if(window[t])return n(window[t]),()=>{};let r=window[t],o=!1;return Object.defineProperty(window,t,{get:()=>r,set(i){delete window[t],o=!0,window[t]=i,n(i)},configurable:!0,enumerable:!1}),()=>{o||window[t]!==r||(delete window[t],r!==void 0&&(window[t]=r))}}(e.target,t=>this.patchSocketIo(t)):this.patchSocketIo(e.target))}disable(){this._onDisable&&(this._onDisable(),this._onDisable=void 0)}},confKey:"socketio",disable:!0},{Instrument:class extends ze{_createSpan(e,...t){let n=Date.now(),r=(s=>{let u=[],c;for(let l of s)if(Dd(l)){c==null&&Ls(l)&&(c=l);try{let p=JSON.stringify(l);p!=null&&u.push(p)}catch{}}else u.push(l);return c?Object.assign(Object.assign({},c),s.length>1&&{message:u.join(" ")}):u.join(" ")})(t),o=uf(r)?r:(s=>{let u="[HyperDX] Failed to stringify",c=!1;try{u=JSON.stringify(s)}catch{c=!0}if(c)try{u=vd(s)}catch{}return u})(r),i=this.tracer.startSpan(`console.${e}`,{kind:je.INTERNAL,startTime:n}),a=e;e==="log"&&(a="info"),i.setAttribute("component",Is),i.setAttribute("level",a),i.setAttribute("message",o),Ls(r)&&i.setAttributes(r),i.end(n)}constructor(e={}){super(Is,gt,Object.assign({},e)),this._consoleLogHandler=t=>(...n)=>(this._createSpan("log",...n),t.apply(this,n)),this._consoleInfoHandler=t=>(...n)=>(this._createSpan("info",...n),t.apply(this,n)),this._consoleWarnHandler=t=>(...n)=>(this._createSpan("warn",...n),t.apply(this,n)),this._consoleDebugHandler=t=>(...n)=>(this._createSpan("debug",...n),t.apply(this,n))}init(){}enable(){Y.wrap(console,"debug",this._consoleDebugHandler),Y.wrap(console,"info",this._consoleInfoHandler),Y.wrap(console,"log",this._consoleLogHandler),Y.wrap(console,"warn",this._consoleWarnHandler)}disable(){Y.unwrap(console,"debug"),Y.unwrap(console,"info"),Y.unwrap(console,"log"),Y.unwrap(console,"warn")}},confKey:"console",disable:!0}];xs.map(e=>e.confKey).reduce((e,t)=>(e[t]=!1,e),{webvitals:!1});let Jr,Kr,ii,Kn,bt,Gt=!1,Yt={DEFAULT_AUTO_INSTRUMENTED_EVENTS:Go,DEFAULT_AUTO_INSTRUMENTED_EVENT_NAMES:Zp,AlwaysOnSampler:Pr,AlwaysOffSampler:Vo,ParentBasedSampler:sp,SessionBasedSampler:class{constructor({ratio:e=1,sampled:t=new Jl,notSampled:n=new ql}={}){this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio),this._sampled=t,this._notSampled=n}shouldSample(e,t,n,r,o,i){let a=Xo();return this._currentSession!==a&&(this._currentSessionSampled=this._accumulate(a)<this._upperBound,this._currentSession=a),(this._currentSessionSampled?this._sampled:this._notSampled).shouldSample(e,t,n,r,o,i)}toString(){return`SessionBased{ratio=${this._ratio}, sampled=${this._sampled.toString()}, notSampled=${this._notSampled.toString()}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}},get inited(){return Gt},_internalInit:function(e){Yt.init(Object.assign(Object.assign({},qr),e))},init:function(e){"OTEL_TRACES_EXPORTER"in Ut||(Ut.OTEL_TRACES_EXPORTER="none");let t=(h,_)=>typeof h=="function"&&h.__wrapped!==!0&&h.name===_,n=t(console?.log,"log")?console.log:()=>{},r=t(console?.warn,"warn")?console.warn:n,o=t(console?.error,"error")?console.error:n,i=t(console?.debug,"debug")?console.debug:n,a=t(console?.trace,"trace")?console.trace:n;if(D.setLogger({error:(...h)=>{t(o,"error")&&o(...h)},warn:(...h)=>{t(r,"warn")&&r(...h)},info:(...h)=>{t(n,"log")&&n(...h)},debug:(...h)=>{t(i,"debug")&&i(...h)},verbose:(...h)=>{t(a,"trace")&&a(...h)}},{suppressOverrideMessage:!0,logLevel:e?.debug?ae.DEBUG:ae.NONE}),typeof window!="object")return void D.error("Rum: Non-browser environment detected, aborting");if(typeof Symbol!="function")return void D.error("Rum: browser not supported, disabling instrumentation.");bt=new Id;let s=Object.assign({},qr,(ks(u=e,"app","applicationName"),ks(u,"environment","deploymentEnvironment"),u),{exporter:Object.assign({},qr.exporter,e.exporter)});var u;if(Gt)return void D.warn("Rum already init()ed.");if(!s.debug){if(!s.url)throw new Error("Rum.init( {url: 'https://something'} ) is required.");if(!s.url.startsWith("https")&&!s.allowInsecureUrl)throw new Error("Not using https is unsafe, if you want to force it use allowInsecureUrl option.")}let c=Ga(64);Kr=function(h,_,S){S&&(Wo=S),zn=h,Wn=!0,Fr=_,Za();let O=setInterval(()=>Za(),6e4);return["click","scroll","mousedown","keydown","touchend","visibilitychange"].forEach(E=>document.addEventListener(E,Ed,{capture:!0,passive:!0})),{deinit:()=>{clearInterval(O),zn=void 0,Fr=void 0}}}(c,bt,s.cookieDomain).deinit;let{ignoreUrls:l,applicationName:p,deploymentEnvironment:d,version:f}=s,v={ignoreUrls:l,enabled:!1},T=Object.assign(Object.assign({},Bt),{[en]:"@hyperdx/otel-web",[tn]:gt,[Mo]:p,"rum.version":gt,"rum.scriptInstance":c}),y=window.syntheticsRunId;y&&(T["Synthetics-RunId"]=y);let g=new Ld(Object.assign(Object.assign({},s.tracer),{resource:new hp(T)}));Object.defineProperty(g.resource.attributes,"rum.sessionId",{get:()=>Xo(),configurable:!0,enumerable:!0});let w=xs.map(({Instrument:h,confKey:_,disable:S})=>{let O=Ya(s.instrumentations[_],v,S);if(O){let E=new h(O);return _===zo&&E instanceof qa&&(ii=E),_==="postload"&&E instanceof ys&&(Kn=E),E}return null}).filter(h=>!!h);if(this.attributesProcessor=new Md(Object.assign(Object.assign(Object.assign({},d?{environment:d,"deployment.environment":d}:{}),f?{"app.version":f}:{}),s.globalAttributes||{})),g.addSpanProcessor(this.attributesProcessor),s.url){let h=function(S){return S.exporter.factory({url:S.url,onAttributesSerializing:S.exporter.onAttributesSerializing,authHeader:S.apiKey})}(s),_=s.spanProcessor.factory(h,{scheduledDelayMillis:s.bufferTimeout,maxExportBatchSize:s.bufferSize});g.addSpanProcessor(_),this._processor=_}s.debug&&g.addSpanProcessor(new gp(new mp)),window.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this._processor.forceFlush()}),g.register({contextManager:new Pd(Object.assign(Object.assign({},s.context),{onBeforeContextStart:()=>Kn?.onBeforeContextChange(),onBeforeContextEnd:()=>Kn?.onBeforeContextChange()}))}),Jr=_l({tracerProvider:g,instrumentations:w}),this.provider=g,Ya(s.instrumentations.webvitals)!==!1&&Ad(g),Gt=!0,D.info("Rum.init() complete")},deinit(){Gt&&(Jr?.(),Jr=void 0,Kr?.(),Kr=void 0,this.provider.shutdown(),delete this.provider,bt=void 0,D.disable(),Gt=!1)},setGlobalAttributes(e){var t,n;(t=this.attributesProcessor)===null||t===void 0||t.setGlobalAttributes(e),bt?.emit("global-attributes-changed",{attributes:((n=this.attributesProcessor)===null||n===void 0?void 0:n.getGlobalAttributes())||{}})},getGlobalAttributes(){var e;return((e=this.attributesProcessor)===null||e===void 0?void 0:e.getGlobalAttributes())||{}},addAction(e,t){if(!Gt)return void D.debug("Rum not inited");let n=Date.now(),r=this.provider.getTracer("custom-action").startSpan(e,{startTime:n});r.setAttributes(t),r.end(n)},_experimental_getGlobalAttributes(){return this.getGlobalAttributes()},error(...e){Gt?ii?ii.report("Rum.error",e):D.error("Error was reported, but error instrumentation is disabled."):D.debug("Rum not inited")},addEventListener(e,t){bt?.addEventListener(e,t)},removeEventListener(e,t){bt?.removeEventListener(e,t)},_experimental_addEventListener(e,t){return this.addEventListener(e,t)},_experimental_removeEventListener(e,t){return this.removeEventListener(e,t)},getSessionId:()=>Xo(),_experimental_getSessionId(){return this.getSessionId()}};var be,de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},de.apply(this,arguments)};function It(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function X(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Zn(e){var t,n=(t=e)===null||t===void 0?void 0:t.host;return!!(n&&n.shadowRoot&&n.shadowRoot===e)}function ai(e){var t=e.maskInputOptions,n=e.tagName,r=e.type,o=e.value,i=e.maskInputFn,a=o||"";return(t[n.toLowerCase()]||t[r])&&(a=i?i(a):"*".repeat(a.length)),a}(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(be||(be={}));var Ds="__rrweb_original__",pn,Us,ff=1,hf=new RegExp("[^a-z0-9-_:]"),$n=-2;function si(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(vf).join(""):null}catch{return null}}function vf(e){var t=e.cssText;if(function(n){return"styleSheet"in n}(e))try{t=si(e.styleSheet)||t}catch{}return t}var mf=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,_f=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Ef=/^(data:)([^,]*),(.*)/i;function Zr(e,t){return(e||"").replace(mf,function(n,r,o,i,a,s){var u,c=o||a||s,l=r||i||"";if(!c)return n;if(!_f.test(c)||Ef.test(c))return"url("+l+c+l+")";if(c[0]==="/")return"url("+l+(((u=t).indexOf("//")>-1?u.split("/").slice(0,3).join("/"):u.split("/")[0]).split("?")[0]+c)+l+")";var p=t.split("/"),d=c.split("/");p.pop();for(var f=0,v=d;f<v.length;f++){var T=v[f];T!=="."&&(T===".."?p.pop():p.push(T))}return"url("+l+p.join("/")+l+")"})}var se,Re,$r,dn,Bs,Vs,gf=/^[^ \t\n\r\u000c]+/,yf=/^[, \t\n\r\u000c]+/;function Qn(e,t){if(!t||t.trim()==="")return t;var n=e.createElement("a");return n.href=t,n.href}function ui(){var e=document.createElement("a");return e.href="",e.href}function Fs(e,t,n,r){return n==="src"||n==="href"&&r||n==="xlink:href"&&r&&r[0]!=="#"?Qn(e,r):n!=="background"||!r||t!=="table"&&t!=="td"&&t!=="th"?n==="srcset"&&r?function(o,i){if(i.trim()==="")return i;var a=0;function s(f){var v,T=f.exec(i.substring(a));return T?(v=T[0],a+=v.length,v):""}for(var u=[];s(yf),!(a>=i.length);){var c=s(gf);if(c.slice(-1)===",")c=Qn(o,c.substring(0,c.length-1)),u.push(c);else{var l="";c=Qn(o,c);for(var p=!1;;){var d=i.charAt(a);if(d===""){u.push((c+l).trim());break}if(p)d===")"&&(p=!1);else{if(d===","){a+=1,u.push((c+l).trim());break}d==="("&&(p=!0)}l+=d,a+=1}}}return u.join(", ")}(e,r):n==="style"&&r?Zr(r,ui()):t==="object"&&n==="data"&&r?Qn(e,r):r:Qn(e,r)}function Qr(e,t,n){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(var r=0;r<e.classList.length;r++){var o=e.classList[r];if(t.test(o))return!0}return!(!n||!e.matches(n))||Qr(e.parentNode,t,n)}return e.nodeType,e.TEXT_NODE,Qr(e.parentNode,t,n)}function bf(e,t){var n,r,o,i,a=t.doc,s=t.blockClass,u=t.blockSelector,c=t.maskTextClass,l=t.maskTextSelector,p=t.inlineStylesheet,d=t.maskInputOptions,f=d===void 0?{}:d,v=t.maskTextFn,T=t.maskInputFn,y=t.dataURLOptions,g=y===void 0?{}:y,w=t.inlineImages,h=t.recordCanvas,_=t.keepIframeSrcFn;if(a.__sn){var S=a.__sn.id;r=S===1?void 0:S}switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:be.Document,childNodes:[],compatMode:e.compatMode,rootId:r}:{type:be.Document,childNodes:[],rootId:r};case e.DOCUMENT_TYPE_NODE:return{type:be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:r};case e.ELEMENT_NODE:for(var O=function(Z,le,Ae){if(typeof le=="string"){if(Z.classList.contains(le))return!0}else for(var Oe=0;Oe<Z.classList.length;Oe++){var ue=Z.classList[Oe];if(le.test(ue))return!0}return!!Ae&&Z.matches(Ae)}(e,s,u),E=function(Z){if(Z instanceof HTMLFormElement)return"form";var le=Z.tagName.toLowerCase().trim();return hf.test(le)?"div":le}(e),m={},U=0,k=Array.from(e.attributes);U<k.length;U++){var I=k[U],L=I.name,C=I.value;m[L]=Fs(a,E,L,C)}if(E==="link"&&p){var B=Array.from(a.styleSheets).find(function(Z){return Z.href===e.href}),P=null;B&&(P=si(B)),P&&(delete m.rel,delete m.href,m._cssText=Zr(P,B.href))}if(E==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length&&(P=si(e.sheet))&&(m._cssText=Zr(P,ui())),(E==="input"||E==="textarea"||E==="select")&&(C=e.value,m.type!=="radio"&&m.type!=="checkbox"&&m.type!=="submit"&&m.type!=="button"&&C?m.value=ai({type:m.type,tagName:E,value:C,maskInputOptions:f,maskInputFn:T}):e.checked&&(m.checked=e.checked)),E==="option"&&(e.selected&&!f.select?m.selected=!0:delete m.selected),E==="canvas"&&h){if(e.__context==="2d")(function(Z){var le=Z.getContext("2d");if(!le)return!0;for(var Ae=0;Ae<Z.width;Ae+=50)for(var Oe=0;Oe<Z.height;Oe+=50){var ue=le.getImageData,ot=Ds in ue?ue[Ds]:ue;if(new Uint32Array(ot.call(le,Ae,Oe,Math.min(50,Z.width-Ae),Math.min(50,Z.height-Oe)).data.buffer).some(function(vt){return vt!==0}))return!1}return!0})(e)||(m.rr_dataURL=e.toDataURL(g.type,g.quality));else if(!("__context"in e)){var N=e.toDataURL(g.type,g.quality),b=document.createElement("canvas");b.width=e.width,b.height=e.height,N!==b.toDataURL(g.type,g.quality)&&(m.rr_dataURL=N)}}if(E==="img"&&w){pn||(pn=a.createElement("canvas"),Us=pn.getContext("2d"));var x=e,F=x.crossOrigin;x.crossOrigin="anonymous";var Te=function(){try{pn.width=x.naturalWidth,pn.height=x.naturalHeight,Us.drawImage(x,0,0),m.rr_dataURL=pn.toDataURL(g.type,g.quality)}catch(Z){console.warn("Cannot inline img src="+x.currentSrc+"! Error: "+Z)}F?m.crossOrigin=F:delete m.crossOrigin};x.complete&&x.naturalWidth!==0?Te():x.onload=Te}if(E!=="audio"&&E!=="video"||(m.rr_mediaState=e.paused?"paused":"played",m.rr_mediaCurrentTime=e.currentTime),e.scrollLeft&&(m.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(m.rr_scrollTop=e.scrollTop),O){var J=e.getBoundingClientRect(),Se=J.width,ve=J.height;m={class:m.class,rr_width:Se+"px",rr_height:ve+"px"}}return E!=="iframe"||_(m.src)||(e.contentDocument||(m.rr_src=m.src),delete m.src),{type:be.Element,tagName:E,attributes:m,childNodes:[],isSVG:(i=e,!!(i.tagName==="svg"||i.ownerSVGElement)||void 0),needBlock:O,rootId:r};case e.TEXT_NODE:var oe=e.parentNode&&e.parentNode.tagName,A=e.textContent,ne=oe==="STYLE"||void 0,ht=oe==="SCRIPT"||void 0;if(ne&&A){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(A=(o=e.parentNode.sheet).cssRules?Array.from(o.cssRules).map(function(Z){return Z.cssText||""}).join(""):"")}catch(Z){console.warn("Cannot get CSS styles from text's parentNode. Error: "+Z,e)}A=Zr(A,ui())}return ht&&(A="SCRIPT_PLACEHOLDER"),!ne&&!ht&&Qr(e,c,l)&&A&&(A=v?v(A):A.replace(/[\S]/g,"*")),{type:be.Text,textContent:A||"",isStyle:ne,rootId:r};case e.CDATA_SECTION_NODE:return{type:be.CDATA,textContent:"",rootId:r};case e.COMMENT_NODE:return{type:be.Comment,textContent:e.textContent||"",rootId:r};default:return!1}}function re(e){return e===void 0?"":e.toLowerCase()}function er(e,t){var n,r=t.doc,o=t.map,i=t.blockClass,a=t.blockSelector,s=t.maskTextClass,u=t.maskTextSelector,c=t.skipChild,l=c!==void 0&&c,p=t.inlineStylesheet,d=p===void 0||p,f=t.maskInputOptions,v=f===void 0?{}:f,T=t.maskTextFn,y=t.maskInputFn,g=t.slimDOMOptions,w=t.dataURLOptions,h=w===void 0?{}:w,_=t.inlineImages,S=_!==void 0&&_,O=t.recordCanvas,E=O!==void 0&&O,m=t.onSerialize,U=t.onIframeLoad,k=t.iframeLoadTimeout,I=k===void 0?5e3:k,L=t.keepIframeSrcFn,C=L===void 0?function(){return!1}:L,B=t.preserveWhiteSpace,P=B===void 0||B,N=bf(e,{doc:r,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:u,inlineStylesheet:d,maskInputOptions:v,maskTextFn:T,maskInputFn:y,dataURLOptions:h,inlineImages:S,recordCanvas:E,keepIframeSrcFn:C});if(!N)return console.warn(e,"not serialized"),null;n="__sn"in e?e.__sn.id:!function(A,ne){return!!(ne.comment&&A.type===be.Comment||A.type===be.Element&&(ne.script&&(A.tagName==="script"||A.tagName==="link"&&A.attributes.rel==="preload"&&A.attributes.as==="script"||A.tagName==="link"&&A.attributes.rel==="prefetch"&&typeof A.attributes.href=="string"&&A.attributes.href.endsWith(".js"))||ne.headFavicon&&(A.tagName==="link"&&A.attributes.rel==="shortcut icon"||A.tagName==="meta"&&(re(A.attributes.name).match(/^msapplication-tile(image|color)$/)||re(A.attributes.name)==="application-name"||re(A.attributes.rel)==="icon"||re(A.attributes.rel)==="apple-touch-icon"||re(A.attributes.rel)==="shortcut icon"))||A.tagName==="meta"&&(ne.headMetaDescKeywords&&re(A.attributes.name).match(/^description|keywords$/)||ne.headMetaSocial&&(re(A.attributes.property).match(/^(og|twitter|fb):/)||re(A.attributes.name).match(/^(og|twitter):/)||re(A.attributes.name)==="pinterest")||ne.headMetaRobots&&(re(A.attributes.name)==="robots"||re(A.attributes.name)==="googlebot"||re(A.attributes.name)==="bingbot")||ne.headMetaHttpEquiv&&A.attributes["http-equiv"]!==void 0||ne.headMetaAuthorship&&(re(A.attributes.name)==="author"||re(A.attributes.name)==="generator"||re(A.attributes.name)==="framework"||re(A.attributes.name)==="publisher"||re(A.attributes.name)==="progid"||re(A.attributes.property).match(/^article:/)||re(A.attributes.property).match(/^product:/))||ne.headMetaVerification&&(re(A.attributes.name)==="google-site-verification"||re(A.attributes.name)==="yandex-verification"||re(A.attributes.name)==="csrf-token"||re(A.attributes.name)==="p:domain_verify"||re(A.attributes.name)==="verify-v1"||re(A.attributes.name)==="verification"||re(A.attributes.name)==="shopify-checkout-api-token"))))}(N,g)&&(P||N.type!==be.Text||N.isStyle||N.textContent.replace(/^\s+|\s+$/gm,"").length)?ff++:$n;var b=Object.assign(N,{id:n});if(e.__sn=b,n===$n)return null;o[n]=e,m&&m(e);var x=!l;if(b.type===be.Element&&(x=x&&!b.needBlock,delete b.needBlock,e.shadowRoot&&(b.isShadowHost=!0)),(b.type===be.Document||b.type===be.Element)&&x){g.headWhitespace&&N.type===be.Element&&N.tagName==="head"&&(P=!1);for(var F={doc:r,map:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:u,skipChild:l,inlineStylesheet:d,maskInputOptions:v,maskTextFn:T,maskInputFn:y,slimDOMOptions:g,dataURLOptions:h,inlineImages:S,recordCanvas:E,preserveWhiteSpace:P,onSerialize:m,onIframeLoad:U,iframeLoadTimeout:I,keepIframeSrcFn:C},Te=0,J=Array.from(e.childNodes);Te<J.length;Te++)(oe=er(J[Te],F))&&b.childNodes.push(oe);if(function(A){return A.nodeType===A.ELEMENT_NODE}(e)&&e.shadowRoot)for(var Se=0,ve=Array.from(e.shadowRoot.childNodes);Se<ve.length;Se++){var oe;(oe=er(ve[Se],F))&&(oe.isShadow=!0,b.childNodes.push(oe))}}return e.parentNode&&Zn(e.parentNode)&&(b.isShadow=!0),b.type===be.Element&&b.tagName==="iframe"&&function(A,ne,ht){var Z=A.contentWindow;if(Z){var le,Ae=!1;try{le=Z.document.readyState}catch{return}if(le==="complete"){var Oe="about:blank";Z.location.href===Oe&&A.src!==Oe&&A.src!==""?A.addEventListener("load",ne):setTimeout(ne,0)}else{var ue=setTimeout(function(){Ae||(ne(),Ae=!0)},ht);A.addEventListener("load",function(){clearTimeout(ue),Ae=!0,ne()})}}}(e,function(){var A=e.contentDocument;if(A&&U){var ne=er(A,{doc:A,map:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:v,maskTextFn:T,maskInputFn:y,slimDOMOptions:g,dataURLOptions:h,inlineImages:S,recordCanvas:E,preserveWhiteSpace:P,onSerialize:m,onIframeLoad:U,iframeLoadTimeout:I,keepIframeSrcFn:C});ne&&U(e,ne)}},I),b}function Ge(e,t,n){n===void 0&&(n=document);var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}(function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin"})(se||(se={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration"}(Re||(Re={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel"}($r||($r={})),function(e){e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2"}(dn||(dn={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange"}(Bs||(Bs={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(Vs||(Vs={}));var fn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,js={map:{},getId:function(){return console.error(fn),-1},getNode:function(){return console.error(fn),null},removeNodeFromMap:function(){console.error(fn)},has:function(){return console.error(fn),!1},reset:function(){console.error(fn)}};function tr(e,t,n){n===void 0&&(n={});var r=null,o=0;return function(i){var a=Date.now();o||n.leading!==!1||(o=a);var s=t-(a-o),u=this,c=arguments;s<=0||s>t?(r&&(clearTimeout(r),r=null),o=a,e.apply(u,c)):r||n.trailing===!1||(r=setTimeout(function(){o=n.leading===!1?0:Date.now(),r=null,e.apply(u,c)},s))}}function eo(e,t,n,r,o){o===void 0&&(o=window);var i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set:function(a){var s=this;setTimeout(function(){n.set.call(s,a)},0),i&&i.set&&i.set.call(this,a)}}),function(){return eo(e,t,i||{},!0)}}function hn(e,t,n){try{if(!(t in e))return function(){};var r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,function(){e[t]=r}}catch{return function(){}}}function Hs(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gs(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function De(e,t){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){var n=!1;if(typeof t=="string"){if(e.closest!==void 0)return e.closest("."+t)!==null;n=e.classList.contains(t)}else e.classList.forEach(function(r){t.test(r)&&(n=!0)});return n||De(e.parentNode,t)}return e.nodeType,e.TEXT_NODE,De(e.parentNode,t)}function ci(e){return"__sn"in e&&e.__sn.id===$n}function Ys(e,t){if(Zn(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Ys(e.parentNode,t))}function zs(e){return!!e.changedTouches}function Ws(e){return"__sn"in e&&e.__sn.type===be.Element&&e.__sn.tagName==="iframe"}function Xs(e){return!!e?.shadowRoot}function qs(e){return"__ln"in e}typeof window<"u"&&window.Proxy&&window.Reflect&&(js=new Proxy(js,{get:function(e,t,n){return t==="map"&&console.error(fn),Reflect.get(e,t,n)}}));var Tf=function(){function e(){this.length=0,this.head=null}return e.prototype.get=function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var n=this.head,r=0;r<t;r++)n=n?.next||null;return n},e.prototype.addNode=function(t){var n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&qs(t.previousSibling)){var r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else t.nextSibling&&qs(t.nextSibling)&&t.nextSibling.__ln.previous?(r=t.nextSibling.__ln.previous,n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)):(this.head&&(this.head.previous=n),n.next=this.head,this.head=n);this.length++},e.prototype.removeNode=function(t){var n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next&&(n.next.previous=n.previous)):(this.head=n.next,this.head&&(this.head.previous=null)),t.__ln&&delete t.__ln,this.length--)},e}(),Js=function(e,t){return"".concat(e,"@").concat(t)};function Ks(e){return"__sn"in e}var Sf=function(){function e(){var t=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(n){n.forEach(t.processMutation),t.emit()},this.emit=function(){var n,r,o,i;if(!t.frozen&&!t.locked){for(var a=[],s=new Tf,u=function(O){for(var E=O,m=$n;m===$n;)m=(E=E&&E.nextSibling)&&t.mirror.getId(E);return m},c=function(O){for(var E,m,U,k,I,L=O.getRootNode?(E=O.getRootNode())===null||E===void 0?void 0:E.host:null,C=L;!((U=(m=C?.getRootNode)===null||m===void 0?void 0:m.call(C))===null||U===void 0)&&U.host;)C=((I=(k=C?.getRootNode)===null||k===void 0?void 0:k.call(C))===null||I===void 0?void 0:I.host)||null;var B=!(t.doc.contains(O)||C!==null&&t.doc.contains(C));if(O.parentNode&&!B){var P=Zn(O.parentNode)?t.mirror.getId(L):t.mirror.getId(O.parentNode),N=u(O);if(P===-1||N===-1)return s.addNode(O);var b=er(O,{doc:t.doc,map:t.mirror.map,blockClass:t.blockClass,blockSelector:t.blockSelector,maskTextClass:t.maskTextClass,maskTextSelector:t.maskTextSelector,skipChild:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(x){Ws(x)&&t.iframeManager.addIframe(x),Xs(O)&&t.shadowDomManager.addShadowRoot(O.shadowRoot,document)},onIframeLoad:function(x,F){t.iframeManager.attachIframe(x,F),t.shadowDomManager.observeAttachShadow(x)}});b&&a.push({parentId:P,nextId:N,node:b})}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());try{for(var l=It(t.movedSet),p=l.next();!p.done;p=l.next()){var d=p.value;pi(t.removes,d,t.mirror)&&!t.movedSet.has(d.parentNode)||c(d)}}catch(O){n={error:O}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var f=It(t.addedSet),v=f.next();!v.done;v=f.next())d=v.value,di(t.droppedSet,d)||pi(t.removes,d,t.mirror)?di(t.movedSet,d)?c(d):t.droppedSet.add(d):c(d)}catch(O){o={error:O}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(o)throw o.error}}for(var T=null;s.length;){var y=null;if(T){var g=t.mirror.getId(T.value.parentNode),w=u(T.value);g!==-1&&w!==-1&&(y=T)}if(!y)for(var h=s.length-1;h>=0;h--){var _=s.get(h);if(_&&(g=t.mirror.getId(_.value.parentNode),w=u(_.value),g!==-1&&w!==-1)){y=_;break}}if(!y){for(;s.head;)s.removeNode(s.head.value);break}T=y.previous,s.removeNode(y.value),c(y.value)}var S={texts:t.texts.map(function(O){return{id:t.mirror.getId(O.node),value:O.value}}).filter(function(O){return t.mirror.has(O.id)}),attributes:t.attributes.map(function(O){return{id:t.mirror.getId(O.node),attributes:O.attributes}}).filter(function(O){return t.mirror.has(O.id)}),removes:t.removes,adds:a};(S.texts.length||S.attributes.length||S.removes.length||S.adds.length)&&(t.texts=[],t.attributes=[],t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(S))}},this.processMutation=function(n){var r,o,i,a;if(!ci(n.target))switch(n.type){case"characterData":var s=n.target.textContent;De(n.target,t.blockClass)||s===n.oldValue||t.texts.push({value:Qr(n.target,t.maskTextClass,t.maskTextSelector)&&s?t.maskTextFn?t.maskTextFn(s):s.replace(/[\S]/g,"*"):s,node:n.target});break;case"attributes":var u=n.target;if(s=n.target.getAttribute(n.attributeName),n.attributeName==="value"&&(s=ai({maskInputOptions:t.maskInputOptions,tagName:n.target.tagName,type:n.target.getAttribute("type"),value:s,maskInputFn:t.maskInputFn})),De(n.target,t.blockClass)||s===n.oldValue)return;var c=t.attributes.find(function(h){return h.node===n.target});if(c||(c={node:n.target,attributes:{}},t.attributes.push(c)),n.attributeName==="style"){var l=t.doc.createElement("span");n.oldValue&&l.setAttribute("style",n.oldValue),c.attributes.style!==void 0&&c.attributes.style!==null||(c.attributes.style={});var p=c.attributes.style;try{for(var d=It(Array.from(u.style)),f=d.next();!f.done;f=d.next()){var v=f.value,T=u.style.getPropertyValue(v),y=u.style.getPropertyPriority(v);T===l.style.getPropertyValue(v)&&y===l.style.getPropertyPriority(v)||(p[v]=y===""?T:[T,y])}}catch(h){r={error:h}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}try{for(var g=It(Array.from(l.style)),w=g.next();!w.done;w=g.next())v=w.value,u.style.getPropertyValue(v)===""&&(p[v]=!1)}catch(h){i={error:h}}finally{try{w&&!w.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}else c.attributes[n.attributeName]=Fs(t.doc,n.target.tagName,n.attributeName,s);break;case"childList":n.addedNodes.forEach(function(h){return t.genAdds(h,n.target)}),n.removedNodes.forEach(function(h){var _=t.mirror.getId(h),S=Zn(n.target)?t.mirror.getId(n.target.host):t.mirror.getId(n.target);De(n.target,t.blockClass)||ci(h)||(t.addedSet.has(h)?(li(t.addedSet,h),t.droppedSet.add(h)):t.addedSet.has(n.target)&&_===-1||Ys(n.target,t.mirror)||(t.movedSet.has(h)&&t.movedMap[Js(_,S)]?li(t.movedSet,h):t.removes.push({parentId:S,id:_,isShadow:!!Zn(n.target)||void 0})),t.mapRemoves.push(h))})}},this.genAdds=function(n,r){if(!r||!De(r,t.blockClass)){if(Ks(n)){if(ci(n))return;t.movedSet.add(n);var o=null;r&&Ks(r)&&(o=r.__sn.id),o&&(t.movedMap[Js(n.__sn.id,o)]=!0)}else t.addedSet.add(n),t.droppedSet.delete(n);De(n,t.blockClass)||n.childNodes.forEach(function(i){return t.genAdds(i)})}}}return e.prototype.init=function(t){var n=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach(function(r){n[r]=t[r]})},e.prototype.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},e.prototype.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},e.prototype.isFrozen=function(){return this.frozen},e.prototype.lock=function(){this.locked=!0,this.canvasManager.lock()},e.prototype.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},e.prototype.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},e}();function li(e,t){e.delete(t),t.childNodes.forEach(function(n){return li(e,n)})}function pi(e,t,n){var r=t.parentNode;if(!r)return!1;var o=n.getId(r);return!!e.some(function(i){return i.id===o})||pi(e,r,n)}function di(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||di(e,n))}var Of=Sf,zt=[],Zs=typeof CSSGroupingRule<"u",$s=typeof CSSMediaRule<"u",Qs=typeof CSSSupportsRule<"u",eu=typeof CSSConditionRule<"u";function nr(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0];return e.target}catch{return e.target}}function tu(e,t){var n,r,o=new Of;zt.push(o),o.init(e);var i=window.MutationObserver||window.__rrMutationObserver,a=(r=(n=window?.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");a&&window[a]&&(i=window[a]);var s=new i(o.processMutations.bind(o));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Rf(e){var t=e.mouseInteractionCb,n=e.doc,r=e.mirror,o=e.blockClass,i=e.sampling;if(i.mouseInteraction===!1)return function(){};var a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,s=[];return Object.keys($r).filter(function(u){return Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&a[u]!==!1}).forEach(function(u){var c=u.toLowerCase(),l=function(p){return function(d){var f=nr(d);if(!De(f,o)){var v=zs(d)?d.changedTouches[0]:d;if(v){var T=r.getId(f),y=v.clientX,g=v.clientY;t({type:$r[p],id:T,x:y,y:g})}}}}(u);s.push(Ge(c,l,n))}),function(){s.forEach(function(u){return u()})}}function nu(e){var t=e.scrollCb,n=e.doc,r=e.mirror,o=e.blockClass;return Ge("scroll",tr(function(i){var a=nr(i);if(a&&!De(a,o)){var s=r.getId(a);if(a===n){var u=n.scrollingElement||n.documentElement;t({id:s,x:u.scrollLeft,y:u.scrollTop})}else t({id:s,x:a.scrollLeft,y:a.scrollTop})}},e.sampling.scroll||100),n)}function ru(e,t){var n=de({},e);return t||delete n.userTriggered,n}var wf=["INPUT","TEXTAREA","SELECT"],ou=new WeakMap;function to(e){return function(t,n){if(Zs&&t.parentRule instanceof CSSGroupingRule||$s&&t.parentRule instanceof CSSMediaRule||Qs&&t.parentRule instanceof CSSSupportsRule||eu&&t.parentRule instanceof CSSConditionRule){var r=Array.from(t.parentRule.cssRules).indexOf(t);n.unshift(r)}else r=Array.from(t.parentStyleSheet.cssRules).indexOf(t),n.unshift(r);return n}(e,[])}function Af(e,t){var n,r;t===void 0&&(t={});var o=e.doc.defaultView;if(!o)return function(){};(function(h,_){var S=h.mutationCb,O=h.mousemoveCb,E=h.mouseInteractionCb,m=h.scrollCb,U=h.viewportResizeCb,k=h.inputCb,I=h.mediaInteractionCb,L=h.styleSheetRuleCb,C=h.styleDeclarationCb,B=h.canvasMutationCb,P=h.fontCb;h.mutationCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.mutation&&_.mutation.apply(_,X([],W(N),!1)),S.apply(void 0,X([],W(N),!1))},h.mousemoveCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.mousemove&&_.mousemove.apply(_,X([],W(N),!1)),O.apply(void 0,X([],W(N),!1))},h.mouseInteractionCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.mouseInteraction&&_.mouseInteraction.apply(_,X([],W(N),!1)),E.apply(void 0,X([],W(N),!1))},h.scrollCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.scroll&&_.scroll.apply(_,X([],W(N),!1)),m.apply(void 0,X([],W(N),!1))},h.viewportResizeCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.viewportResize&&_.viewportResize.apply(_,X([],W(N),!1)),U.apply(void 0,X([],W(N),!1))},h.inputCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.input&&_.input.apply(_,X([],W(N),!1)),k.apply(void 0,X([],W(N),!1))},h.mediaInteractionCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.mediaInteaction&&_.mediaInteaction.apply(_,X([],W(N),!1)),I.apply(void 0,X([],W(N),!1))},h.styleSheetRuleCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.styleSheetRule&&_.styleSheetRule.apply(_,X([],W(N),!1)),L.apply(void 0,X([],W(N),!1))},h.styleDeclarationCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.styleDeclaration&&_.styleDeclaration.apply(_,X([],W(N),!1)),C.apply(void 0,X([],W(N),!1))},h.canvasMutationCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.canvasMutation&&_.canvasMutation.apply(_,X([],W(N),!1)),B.apply(void 0,X([],W(N),!1))},h.fontCb=function(){for(var N=[],b=0;b<arguments.length;b++)N[b]=arguments[b];_.font&&_.font.apply(_,X([],W(N),!1)),P.apply(void 0,X([],W(N),!1))}})(e,t);var i=tu(e,e.doc),a=function(h){var _=h.mousemoveCb,S=h.sampling,O=h.doc,E=h.mirror;if(S.mousemove===!1)return function(){};var m,U=typeof S.mousemove=="number"?S.mousemove:50,k=typeof S.mousemoveCallback=="number"?S.mousemoveCallback:500,I=[],L=tr(function(P){var N=Date.now()-m;_(I.map(function(b){return b.timeOffset-=N,b}),P),I=[],m=null},k),C=tr(function(P){var N=nr(P),b=zs(P)?P.changedTouches[0]:P,x=b.clientX,F=b.clientY;m||(m=Date.now()),I.push({x,y:F,id:E.getId(N),timeOffset:Date.now()-m}),L(typeof DragEvent<"u"&&P instanceof DragEvent?Re.Drag:P instanceof MouseEvent?Re.MouseMove:Re.TouchMove)},U,{trailing:!1}),B=[Ge("mousemove",C,O),Ge("touchmove",C,O),Ge("drag",C,O)];return function(){B.forEach(function(P){return P()})}}(e),s=Rf(e),u=nu(e),c=function(h){var _=h.viewportResizeCb,S=-1,O=-1;return Ge("resize",tr(function(){var E=Hs(),m=Gs();S===E&&O===m||(_({width:Number(m),height:Number(E)}),S=E,O=m)},200),window)}(e),l=function(h){var _=h.inputCb,S=h.doc,O=h.mirror,E=h.blockClass,m=h.ignoreClass,U=h.maskInputOptions,k=h.maskInputFn,I=h.sampling,L=h.userTriggeredOnInput;function C(x){var F=nr(x),Te=x.isTrusted;if(F&&F.tagName==="OPTION"&&(F=F.parentElement),F&&F.tagName&&!(wf.indexOf(F.tagName)<0)&&!De(F,E)){var J=F.type;if(!F.classList.contains(m)){var Se=F.value,ve=!1;J==="radio"||J==="checkbox"?ve=F.checked:(U[F.tagName.toLowerCase()]||U[J])&&(Se=ai({maskInputOptions:U,tagName:F.tagName,type:J,value:Se,maskInputFn:k})),B(F,ru({text:Se,isChecked:ve,userTriggered:Te},L));var oe=F.name;J==="radio"&&oe&&ve&&S.querySelectorAll('input[type="radio"][name="'.concat(oe,'"]')).forEach(function(A){A!==F&&B(A,ru({text:A.value,isChecked:!ve,userTriggered:!1},L))})}}}function B(x,F){var Te=ou.get(x);if(!Te||Te.text!==F.text||Te.isChecked!==F.isChecked){ou.set(x,F);var J=O.getId(x);_(de(de({},F),{id:J}))}}var P=(I.input==="last"?["change"]:["input","change"]).map(function(x){return Ge(x,C,S)}),N=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),b=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return N&&N.set&&P.push.apply(P,X([],W(b.map(function(x){return eo(x[0],x[1],{set:function(){C({target:this})}})})),!1)),function(){P.forEach(function(x){return x()})}}(e),p=function(h){var _=h.mediaInteractionCb,S=h.blockClass,O=h.mirror,E=h.sampling,m=function(k){return tr(function(I){var L=nr(I);if(L&&!De(L,S)){var C=L,B=C.currentTime,P=C.volume,N=C.muted;_({type:k,id:O.getId(L),currentTime:B,volume:P,muted:N})}},E.media||500)},U=[Ge("play",m(0)),Ge("pause",m(1)),Ge("seeked",m(2)),Ge("volumechange",m(3))];return function(){U.forEach(function(k){return k()})}}(e),d=function(h,_){var S=h.styleSheetRuleCb,O=h.mirror,E=_.win,m=E.CSSStyleSheet.prototype.insertRule;E.CSSStyleSheet.prototype.insertRule=function(L,C){var B=O.getId(this.ownerNode);return B!==-1&&S({id:B,adds:[{rule:L,index:C}]}),m.apply(this,arguments)};var U=E.CSSStyleSheet.prototype.deleteRule;E.CSSStyleSheet.prototype.deleteRule=function(L){var C=O.getId(this.ownerNode);return C!==-1&&S({id:C,removes:[{index:L}]}),U.apply(this,arguments)};var k={};Zs?k.CSSGroupingRule=E.CSSGroupingRule:($s&&(k.CSSMediaRule=E.CSSMediaRule),eu&&(k.CSSConditionRule=E.CSSConditionRule),Qs&&(k.CSSSupportsRule=E.CSSSupportsRule));var I={};return Object.entries(k).forEach(function(L){var C=W(L,2),B=C[0],P=C[1];I[B]={insertRule:P.prototype.insertRule,deleteRule:P.prototype.deleteRule},P.prototype.insertRule=function(N,b){var x=O.getId(this.parentStyleSheet.ownerNode);return x!==-1&&S({id:x,adds:[{rule:N,index:X(X([],W(to(this)),!1),[b||0],!1)}]}),I[B].insertRule.apply(this,arguments)},P.prototype.deleteRule=function(N){var b=O.getId(this.parentStyleSheet.ownerNode);return b!==-1&&S({id:b,removes:[{index:X(X([],W(to(this)),!1),[N],!1)}]}),I[B].deleteRule.apply(this,arguments)}}),function(){E.CSSStyleSheet.prototype.insertRule=m,E.CSSStyleSheet.prototype.deleteRule=U,Object.entries(k).forEach(function(L){var C=W(L,2),B=C[0],P=C[1];P.prototype.insertRule=I[B].insertRule,P.prototype.deleteRule=I[B].deleteRule})}}(e,{win:o}),f=function(h,_){var S=h.styleDeclarationCb,O=h.mirror,E=_.win,m=E.CSSStyleDeclaration.prototype.setProperty;E.CSSStyleDeclaration.prototype.setProperty=function(k,I,L){var C,B,P=O.getId((B=(C=this.parentRule)===null||C===void 0?void 0:C.parentStyleSheet)===null||B===void 0?void 0:B.ownerNode);return P!==-1&&S({id:P,set:{property:k,value:I,priority:L},index:to(this.parentRule)}),m.apply(this,arguments)};var U=E.CSSStyleDeclaration.prototype.removeProperty;return E.CSSStyleDeclaration.prototype.removeProperty=function(k){var I,L,C=O.getId((L=(I=this.parentRule)===null||I===void 0?void 0:I.parentStyleSheet)===null||L===void 0?void 0:L.ownerNode);return C!==-1&&S({id:C,remove:{property:k},index:to(this.parentRule)}),U.apply(this,arguments)},function(){E.CSSStyleDeclaration.prototype.setProperty=m,E.CSSStyleDeclaration.prototype.removeProperty=U}}(e,{win:o}),v=e.collectFonts?function(h){var _=h.fontCb,S=h.doc,O=S.defaultView;if(!O)return function(){};var E=[],m=new WeakMap,U=O.FontFace;O.FontFace=function(I,L,C){var B=new U(I,L,C);return m.set(B,{family:I,buffer:typeof L!="string",descriptors:C,fontSource:typeof L=="string"?L:JSON.stringify(Array.from(new Uint8Array(L)))}),B};var k=hn(S.fonts,"add",function(I){return function(L){return setTimeout(function(){var C=m.get(L);C&&(_(C),m.delete(L))},0),I.apply(this,[L])}});return E.push(function(){O.FontFace=U}),E.push(k),function(){E.forEach(function(I){return I()})}}(e):function(){},T=[];try{for(var y=It(e.plugins),g=y.next();!g.done;g=y.next()){var w=g.value;T.push(w.observer(w.callback,o,w.options))}}catch(h){n={error:h}}finally{try{g&&!g.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}return function(){zt.forEach(function(h){return h.reset()}),i.disconnect(),a(),s(),u(),c(),l(),p(),d(),f(),v(),T.forEach(function(h){return h()})}}for(var Nf=function(){function e(t){this.iframes=new WeakMap,this.mutationCb=t.mutationCb}return e.prototype.addIframe=function(t){this.iframes.set(t,!0)},e.prototype.addLoadListener=function(t){this.loadListener=t},e.prototype.attachIframe=function(t,n){var r;this.mutationCb({adds:[{parentId:t.__sn.id,nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t)},e}(),Cf=function(){function e(t){this.restorePatches=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror;var n=this;this.restorePatches.push(hn(HTMLElement.prototype,"attachShadow",function(r){return function(){var o=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),o}}))}return e.prototype.addShadowRoot=function(t,n){tu(de(de({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t),nu(de(de({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))},e.prototype.observeAttachShadow=function(t){if(t.contentWindow){var n=this;this.restorePatches.push(hn(t.contentWindow.HTMLElement.prototype,"attachShadow",function(r){return function(){var o=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,t.contentDocument),o}}))}},e.prototype.reset=function(){this.restorePatches.forEach(function(t){return t()})},e}(),rr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lf=typeof Uint8Array>"u"?[]:new Uint8Array(256),no=0;no<64;no++)Lf[rr.charCodeAt(no)]=no;var iu=new Map,au=function(e,t,n){if(e&&(su(e,t)||typeof e=="object")){var r=function(i,a){var s=iu.get(i);return s||(s=new Map,iu.set(i,s)),s.has(a)||s.set(a,[]),s.get(a)}(n,e.constructor.name),o=r.indexOf(e);return o===-1&&(o=r.length,r.push(e)),o}};function ro(e,t,n){if(e instanceof Array)return e.map(function(i){return ro(i,t,n)});if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){var r=e.constructor.name,o=function(i){var a,s=new Uint8Array(i),u=s.length,c="";for(a=0;a<u;a+=3)c+=rr[s[a]>>2],c+=rr[(3&s[a])<<4|s[a+1]>>4],c+=rr[(15&s[a+1])<<2|s[a+2]>>6],c+=rr[63&s[a+2]];return u%3==2?c=c.substring(0,c.length-1)+"=":u%3==1&&(c=c.substring(0,c.length-2)+"=="),c}(e);return{rr_type:r,base64:o}}return e instanceof DataView?{rr_type:e.constructor.name,args:[ro(e.buffer,t,n),e.byteOffset,e.byteLength]}:e instanceof HTMLImageElement?{rr_type:e.constructor.name,src:e.src}:e instanceof ImageData?{rr_type:e.constructor.name,args:[ro(e.data,t,n),e.width,e.height]}:su(e,t)||typeof e=="object"?{rr_type:e.constructor.name,index:au(e,t,n)}:e}var If=function(e,t,n){return X([],W(e),!1).map(function(r){return ro(r,t,n)})},su=function(e,t){var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(function(r){return typeof t[r]=="function"});return!!n.find(function(r){return e instanceof t[r]})};function uu(e,t,n,r,o,i){var a,s,u=[],c=Object.getOwnPropertyNames(e),l=function(f){try{if(typeof e[f]!="function")return"continue";var v=hn(e,f,function(y){return function(){for(var g=[],w=0;w<arguments.length;w++)g[w]=arguments[w];var h=y.apply(this,g);if(au(h,i,e),!De(this.canvas,r)){o.getId(this.canvas);var _=If(X([],W(g),!1),i,e),S={type:t,property:f,args:_};n(this.canvas,S)}return h}});u.push(v)}catch{var T=eo(e,f,{set:function(g){n(this.canvas,{type:t,property:f,args:[g],setter:!0})}});u.push(T)}};try{for(var p=It(c),d=p.next();!d.done;d=p.next())l(d.value)}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}return u}var _e,or,Pf=function(){function e(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(n,r){!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(n)||this.pendingCanvasMutations.set(n,[]),this.pendingCanvasMutations.get(n).push(r)},this.mutationCb=t.mutationCb,this.mirror=t.mirror,t.recordCanvas===!0&&this.initCanvasMutationObserver(t.win,t.blockClass)}return e.prototype.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},e.prototype.freeze=function(){this.frozen=!0},e.prototype.unfreeze=function(){this.frozen=!1},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1},e.prototype.initCanvasMutationObserver=function(t,n){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var r=function(a,s){var u=[];try{var c=hn(a.HTMLCanvasElement.prototype,"getContext",function(l){return function(p){for(var d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];return De(this,s)||"__context"in this||(this.__context=p),l.apply(this,X([p],W(d),!1))}});u.push(c)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){u.forEach(function(l){return l()})}}(t,n),o=function(a,s,u,c){var l,p,d=[],f=Object.getOwnPropertyNames(s.CanvasRenderingContext2D.prototype),v=function(g){try{if(typeof s.CanvasRenderingContext2D.prototype[g]!="function")return"continue";var w=hn(s.CanvasRenderingContext2D.prototype,g,function(_){return function(){for(var S=this,O=[],E=0;E<arguments.length;E++)O[E]=arguments[E];return De(this.canvas,u)||setTimeout(function(){var m=X([],W(O),!1);if(g==="drawImage"&&m[0]&&m[0]instanceof HTMLCanvasElement){var U=m[0],k=U.getContext("2d"),I=k?.getImageData(0,0,U.width,U.height),L=I?.data;m[0]=JSON.stringify(L)}a(S.canvas,{type:dn["2D"],property:g,args:m})},0),_.apply(this,O)}});d.push(w)}catch{var h=eo(s.CanvasRenderingContext2D.prototype,g,{set:function(S){a(this.canvas,{type:dn["2D"],property:g,args:[S],setter:!0})}});d.push(h)}};try{for(var T=It(f),y=T.next();!y.done;y=T.next())v(y.value)}catch(g){l={error:g}}finally{try{y&&!y.done&&(p=T.return)&&p.call(T)}finally{if(l)throw l.error}}return function(){d.forEach(function(g){return g()})}}(this.processMutation.bind(this),t,n,this.mirror),i=function(a,s,u,c){var l=[];return l.push.apply(l,X([],W(uu(s.WebGLRenderingContext.prototype,dn.WebGL,a,u,c,s)),!1)),s.WebGL2RenderingContext!==void 0&&l.push.apply(l,X([],W(uu(s.WebGL2RenderingContext.prototype,dn.WebGL2,a,u,c,s)),!1)),function(){l.forEach(function(p){return p()})}}(this.processMutation.bind(this),t,n,this.mirror);this.resetObservers=function(){r(),o(),i()}},e.prototype.startPendingCanvasMutationFlusher=function(){var t=this;requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},e.prototype.startRAFTimestamping=function(){var t=this,n=function(r){t.rafStamps.latestId=r,requestAnimationFrame(n)};requestAnimationFrame(n)},e.prototype.flushPendingCanvasMutations=function(){var t=this;this.pendingCanvasMutations.forEach(function(n,r){var o=t.mirror.getId(r);t.flushPendingCanvasMutationFor(r,o)}),requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},e.prototype.flushPendingCanvasMutationFor=function(t,n){if(!this.frozen&&!this.locked){var r=this.pendingCanvasMutations.get(t);if(r&&n!==-1){var o=r.map(function(a){a.type;var s=function(u,c){var l={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&c.indexOf(p)<0&&(l[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function"){var d=0;for(p=Object.getOwnPropertySymbols(u);d<p.length;d++)c.indexOf(p[d])<0&&Object.prototype.propertyIsEnumerable.call(u,p[d])&&(l[p[d]]=u[p[d]])}return l}(a,["type"]);return s}),i=r[0].type;this.mutationCb({id:n,type:i,commands:o}),this.pendingCanvasMutations.delete(t)}}},e}();function we(e){return de(de({},e),{timestamp:Date.now()})}var ir={map:{},getId:function(e){return e&&e.__sn?e.__sn.id:-1},getNode:function(e){return this.map[e]||null},removeNodeFromMap:function(e){var t=this,n=e.__sn&&e.__sn.id;delete this.map[n],e.childNodes&&e.childNodes.forEach(function(r){return t.removeNodeFromMap(r)})},has:function(e){return this.map.hasOwnProperty(e)},reset:function(){this.map={}}};function Tt(e){e===void 0&&(e={});var t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,o=e.blockClass,i=o===void 0?"rr-block":o,a=e.blockSelector,s=a===void 0?null:a,u=e.ignoreClass,c=u===void 0?"rr-ignore":u,l=e.maskTextClass,p=l===void 0?"rr-mask":l,d=e.maskTextSelector,f=d===void 0?null:d,v=e.inlineStylesheet,T=v===void 0||v,y=e.maskAllInputs,g=e.maskInputOptions,w=e.slimDOMOptions,h=e.maskInputFn,_=e.maskTextFn,S=e.hooks,O=e.packFn,E=e.sampling,m=E===void 0?{}:E,U=e.mousemoveWait,k=e.recordCanvas,I=k!==void 0&&k,L=e.userTriggeredOnInput,C=L!==void 0&&L,B=e.collectFonts,P=B!==void 0&&B,N=e.inlineImages,b=N!==void 0&&N,x=e.plugins,F=e.keepIframeSrcFn,Te=F===void 0?function(){return!1}:F;if(!t)throw new Error("emit function is required");U!==void 0&&m.mousemove===void 0&&(m.mousemove=U);var J,Se,ve=y===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:g!==void 0?g:{password:!0},oe=w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:w==="all",headMetaDescKeywords:w==="all"}:w||{};J===void 0&&(J=window),"NodeList"in J&&!J.NodeList.prototype.forEach&&(J.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in J&&!J.DOMTokenList.prototype.forEach&&(J.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(G){if(!(0 in arguments))throw new TypeError("1 argument is required");do if(this===G)return!0;while(G=G&&G.parentNode);return!1});var A=0;_e=function(G,Rt){var te;if(!(!((te=zt[0])===null||te===void 0)&&te.isFrozen())||G.type===se.FullSnapshot||G.type===se.IncrementalSnapshot&&G.data.source===Re.Mutation||zt.forEach(function(mt){return mt.unfreeze()}),t(function(mt){var Rn,lo;try{for(var Ee=It(x||[]),At=Ee.next();!At.done;At=Ee.next()){var me=At.value;me.eventProcessor&&(mt=me.eventProcessor(mt))}}catch(po){Rn={error:po}}finally{try{At&&!At.done&&(lo=Ee.return)&&lo.call(Ee)}finally{if(Rn)throw Rn.error}}return O&&(mt=O(mt)),mt}(G),Rt),G.type===se.FullSnapshot)Se=G,A=0;else if(G.type===se.IncrementalSnapshot){if(G.data.source===Re.Mutation&&G.data.isAttachIframe)return;A++;var wt=r&&A>=r,vr=n&&G.timestamp-Se.timestamp>n;(wt||vr)&&or(!0)}};var ne=function(G){_e(we({type:se.IncrementalSnapshot,data:de({source:Re.Mutation},G)}))},ht=function(G){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.Scroll},G)}))},Z=function(G){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.CanvasMutation},G)}))},le=new Nf({mutationCb:ne}),Ae=new Pf({recordCanvas:I,mutationCb:Z,win:window,blockClass:i,mirror:ir}),Oe=new Cf({mutationCb:ne,scrollCb:ht,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:f,inlineStylesheet:T,maskInputOptions:ve,maskTextFn:_,maskInputFn:h,recordCanvas:I,inlineImages:b,sampling:m,slimDOMOptions:oe,iframeManager:le,canvasManager:Ae},mirror:ir});or=function(G){var Rt,te,wt,vr;G===void 0&&(G=!1),_e(we({type:se.Meta,data:{href:window.location.href,width:Gs(),height:Hs()}}),G),zt.forEach(function(Ee){return Ee.lock()});var mt=W(function(Ee,At){var me=At||{},po=me.blockClass,hh=po===void 0?"rr-block":po,sc=me.blockSelector,vh=sc===void 0?null:sc,uc=me.maskTextClass,mh=uc===void 0?"rr-mask":uc,cc=me.maskTextSelector,_h=cc===void 0?null:cc,lc=me.inlineStylesheet,Eh=lc===void 0||lc,pc=me.inlineImages,gh=pc!==void 0&&pc,dc=me.recordCanvas,yh=dc!==void 0&&dc,fc=me.maskAllInputs,Bi=fc!==void 0&&fc,bh=me.maskTextFn,Th=me.maskInputFn,hc=me.slimDOM,mr=hc!==void 0&&hc,Sh=me.dataURLOptions,Oh=me.preserveWhiteSpace,Rh=me.onSerialize,wh=me.onIframeLoad,Ah=me.iframeLoadTimeout,vc=me.keepIframeSrcFn,mc={};return[er(Ee,{doc:Ee,map:mc,blockClass:hh,blockSelector:vh,maskTextClass:mh,maskTextSelector:_h,skipChild:!1,inlineStylesheet:Eh,maskInputOptions:Bi===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:Bi===!1?{password:!0}:Bi,maskTextFn:bh,maskInputFn:Th,slimDOMOptions:mr===!0||mr==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:mr==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:mr===!1?{}:mr,dataURLOptions:Sh,inlineImages:gh,recordCanvas:yh,preserveWhiteSpace:Oh,onSerialize:Rh,onIframeLoad:wh,iframeLoadTimeout:Ah,keepIframeSrcFn:vc===void 0?function(){return!1}:vc}),mc]}(document,{blockClass:i,blockSelector:s,maskTextClass:p,maskTextSelector:f,inlineStylesheet:T,maskAllInputs:ve,maskTextFn:_,slimDOM:oe,recordCanvas:I,inlineImages:b,onSerialize:function(Ee){Ws(Ee)&&le.addIframe(Ee),Xs(Ee)&&Oe.addShadowRoot(Ee.shadowRoot,document)},onIframeLoad:function(Ee,At){le.attachIframe(Ee,At),Oe.observeAttachShadow(Ee)},keepIframeSrcFn:Te}),2),Rn=mt[0],lo=mt[1];if(!Rn)return console.warn("Failed to snapshot the document");ir.map=lo,_e(we({type:se.FullSnapshot,data:{node:Rn,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:document?.documentElement.scrollLeft||((te=(Rt=document?.body)===null||Rt===void 0?void 0:Rt.parentElement)===null||te===void 0?void 0:te.scrollLeft)||document?.body.scrollLeft||0,top:window.pageYOffset!==void 0?window.pageYOffset:document?.documentElement.scrollTop||((vr=(wt=document?.body)===null||wt===void 0?void 0:wt.parentElement)===null||vr===void 0?void 0:vr.scrollTop)||document?.body.scrollTop||0}}})),zt.forEach(function(Ee){return Ee.unlock()})};try{var ue=[];ue.push(Ge("DOMContentLoaded",function(){_e(we({type:se.DomContentLoaded,data:{}}))}));var ot=function(G){var Rt;return Af({mutationCb:ne,mousemoveCb:function(te,wt){return _e(we({type:se.IncrementalSnapshot,data:{source:wt,positions:te}}))},mouseInteractionCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.MouseInteraction},te)}))},scrollCb:ht,viewportResizeCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.ViewportResize},te)}))},inputCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.Input},te)}))},mediaInteractionCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.MediaInteraction},te)}))},styleSheetRuleCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.StyleSheetRule},te)}))},styleDeclarationCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.StyleDeclaration},te)}))},canvasMutationCb:Z,fontCb:function(te){return _e(we({type:se.IncrementalSnapshot,data:de({source:Re.Font},te)}))},blockClass:i,ignoreClass:c,maskTextClass:p,maskTextSelector:f,maskInputOptions:ve,inlineStylesheet:T,sampling:m,recordCanvas:I,inlineImages:b,userTriggeredOnInput:C,collectFonts:P,doc:G,maskInputFn:h,maskTextFn:_,blockSelector:s,slimDOMOptions:oe,mirror:ir,iframeManager:le,shadowDomManager:Oe,canvasManager:Ae,plugins:((Rt=x?.filter(function(te){return te.observer}))===null||Rt===void 0?void 0:Rt.map(function(te){return{observer:te.observer,options:te.options,callback:function(wt){return _e(we({type:se.Plugin,data:{plugin:te.name,payload:wt}}))}}}))||[]},S)};le.addLoadListener(function(G){ue.push(ot(G.contentDocument))});var vt=function(){or(),ue.push(ot(document))};return document.readyState==="interactive"||document.readyState==="complete"?vt():ue.push(Ge("load",function(){_e(we({type:se.Load,data:{}})),vt()},window)),function(){ue.forEach(function(G){return G()})}}catch(G){console.warn(G)}}Tt.addCustomEvent=function(e,t){if(!_e)throw new Error("please add custom event after start recording");_e(we({type:se.Custom,data:{tag:e,payload:t}}))},Tt.freezePage=function(){zt.forEach(function(e){return e.freeze()})},Tt.takeFullSnapshot=function(e){if(!or)throw new Error("please take full snapshot after start recording");or(e)},Tt.mirror=ir;var pt=Uint8Array,Ue=Uint16Array,oo=Uint32Array,fi=new pt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hi=new pt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cu=new pt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lu=function(e,t){for(var n=new Ue(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new oo(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},pu=lu(fi,2),Mf=pu[0],vi=pu[1];Mf[28]=258,vi[258]=28;for(var du=lu(hi,0)[1],mi=new Ue(32768),ie=0;ie<32768;++ie){var Wt=(43690&ie)>>>1|(21845&ie)<<1;Wt=(61680&(Wt=(52428&Wt)>>>2|(13107&Wt)<<2))>>>4|(3855&Wt)<<4,mi[ie]=((65280&Wt)>>>8|(255&Wt)<<8)>>>1}var ar=function(e,t,n){for(var r=e.length,o=0,i=new Ue(t);o<r;++o)e[o]&&++i[e[o]-1];var a,s=new Ue(t);for(o=0;o<t;++o)s[o]=s[o-1]+i[o-1]<<1;if(n){a=new Ue(1<<t);var u=15-t;for(o=0;o<r;++o)if(e[o])for(var c=o<<4|e[o],l=t-e[o],p=s[e[o]-1]++<<l,d=p|(1<<l)-1;p<=d;++p)a[mi[p]>>>u]=c}else for(a=new Ue(r),o=0;o<r;++o)e[o]&&(a[o]=mi[s[e[o]-1]++]>>>15-e[o]);return a},Xt=new pt(288);for(ie=0;ie<144;++ie)Xt[ie]=8;for(ie=144;ie<256;++ie)Xt[ie]=9;for(ie=256;ie<280;++ie)Xt[ie]=7;for(ie=280;ie<288;++ie)Xt[ie]=8;var io=new pt(32);for(ie=0;ie<32;++ie)io[ie]=5;var kf=ar(Xt,9,0),xf=ar(io,5,0),fu=function(e){return(e+7)/8|0},St=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},sr=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},_i=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,i=n.slice();if(!o)return[yi,0];if(o==1){var a=new pt(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(S,O){return S.f-O.f}),n.push({s:-1,f:25001});var s=n[0],u=n[1],c=0,l=1,p=2;for(n[0]={s:-1,f:s.f+u.f,l:s,r:u};l!=o-1;)s=n[n[c].f<n[p].f?c++:p++],u=n[c!=l&&n[c].f<n[p].f?c++:p++],n[l++]={s:-1,f:s.f+u.f,l:s,r:u};var d=i[0].s;for(r=1;r<o;++r)i[r].s>d&&(d=i[r].s);var f=new Ue(d+1),v=Ei(n[l-1],f,0);if(v>t){r=0;var T=0,y=v-t,g=1<<y;for(i.sort(function(S,O){return f[O.s]-f[S.s]||S.f-O.f});r<o;++r){var w=i[r].s;if(!(f[w]>t))break;T+=g-(1<<v-f[w]),f[w]=t}for(T>>>=y;T>0;){var h=i[r].s;f[h]<t?T-=1<<t-f[h]++-1:++r}for(;r>=0&&T;--r){var _=i[r].s;f[_]==t&&(--f[_],++T)}v=t}return[new pt(f),v]},Ei=function(e,t,n){return e.s==-1?Math.max(Ei(e.l,t,n+1),Ei(e.r,t,n+1)):t[e.s]=n},hu=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ue(++t),r=0,o=e[0],i=1,a=function(u){n[r++]=u},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return[n.subarray(0,r),t]},ur=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},gi=function(e,t,n){var r=n.length,o=fu(t+2);e[o]=255&r,e[o+1]=r>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<r;++i)e[o+i+4]=n[i];return 8*(o+4+r)},vu=function(e,t,n,r,o,i,a,s,u,c,l){St(t,l++,n),++o[256];for(var p=_i(o,15),d=p[0],f=p[1],v=_i(i,15),T=v[0],y=v[1],g=hu(d),w=g[0],h=g[1],_=hu(T),S=_[0],O=_[1],E=new Ue(19),m=0;m<w.length;++m)E[31&w[m]]++;for(m=0;m<S.length;++m)E[31&S[m]]++;for(var U=_i(E,7),k=U[0],I=U[1],L=19;L>4&&!k[cu[L-1]];--L);var C,B,P,N,b=c+5<<3,x=ur(o,Xt)+ur(i,io)+a,F=ur(o,d)+ur(i,T)+a+14+3*L+ur(E,k)+(2*E[16]+3*E[17]+7*E[18]);if(b<=x&&b<=F)return gi(t,l,e.subarray(u,u+c));if(St(t,l,1+(F<x)),l+=2,F<x){C=ar(d,f,0),B=d,P=ar(T,y,0),N=T;var Te=ar(k,I,0);for(St(t,l,h-257),St(t,l+5,O-1),St(t,l+10,L-4),l+=14,m=0;m<L;++m)St(t,l+3*m,k[cu[m]]);l+=3*L;for(var J=[w,S],Se=0;Se<2;++Se){var ve=J[Se];for(m=0;m<ve.length;++m){var oe=31&ve[m];St(t,l,Te[oe]),l+=k[oe],oe>15&&(St(t,l,ve[m]>>>5&127),l+=ve[m]>>>12)}}}else C=kf,B=Xt,P=xf,N=io;for(m=0;m<s;++m)if(r[m]>255){oe=r[m]>>>18&31,sr(t,l,C[oe+257]),l+=B[oe+257],oe>7&&(St(t,l,r[m]>>>23&31),l+=fi[oe]);var A=31&r[m];sr(t,l,P[A]),l+=N[A],A>3&&(sr(t,l,r[m]>>>5&8191),l+=hi[A])}else sr(t,l,C[r[m]]),l+=B[r[m]];return sr(t,l,C[256]),l+B[256]},Df=new oo([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yi=new pt(0),Uf=function(e,t,n,r,o,i){var a=e.length,s=new pt(r+a+5*(1+Math.ceil(a/7e3))+o),u=s.subarray(r,s.length-o),c=0;if(!t||a<8)for(var l=0;l<=a;l+=65535){var p=l+65535;p>=a&&(u[c>>3]=i),c=gi(u,c+1,e.subarray(l,p))}else{for(var d=Df[t-1],f=d>>>13,v=8191&d,T=(1<<n)-1,y=new Ue(32768),g=new Ue(T+1),w=Math.ceil(n/3),h=2*w,_=function(ue){return(e[ue]^e[ue+1]<<w^e[ue+2]<<h)&T},S=new oo(25e3),O=new Ue(288),E=new Ue(32),m=0,U=0,k=(l=0,0),I=0,L=0;l<a;++l){var C=_(l),B=32767&l,P=g[C];if(y[B]=P,g[C]=B,I<=l){var N=a-l;if((m>7e3||k>24576)&&N>423){c=vu(e,u,0,S,O,E,U,k,L,l-L,c),k=m=U=0,L=l;for(var b=0;b<286;++b)O[b]=0;for(b=0;b<30;++b)E[b]=0}var x=2,F=0,Te=v,J=B-P&32767;if(N>2&&C==_(l-J))for(var Se=Math.min(f,N)-1,ve=Math.min(32767,l),oe=Math.min(258,N);J<=ve&&--Te&&B!=P;){if(e[l+x]==e[l+x-J]){for(var A=0;A<oe&&e[l+A]==e[l+A-J];++A);if(A>x){if(x=A,F=J,A>Se)break;var ne=Math.min(J,A-2),ht=0;for(b=0;b<ne;++b){var Z=l-J+b+32768&32767,le=Z-y[Z]+32768&32767;le>ht&&(ht=le,P=Z)}}}J+=(B=P)-(P=y[B])+32768&32767}if(F){S[k++]=268435456|vi[x]<<18|du[F];var Ae=31&vi[x],Oe=31&du[F];U+=fi[Ae]+hi[Oe],++O[257+Ae],++E[Oe],I=l+x,++m}else S[k++]=e[l],++O[e[l]]}}c=vu(e,u,i,S,O,E,U,k,L,l-L,c),!i&&7&c&&(c=gi(u,c+1,yi))}return function(ue,ot,vt){(ot==null||ot<0)&&(ot=0),(vt==null||vt>ue.length)&&(vt=ue.length);var G=new(ue.BYTES_PER_ELEMENT==2?Ue:ue.BYTES_PER_ELEMENT==4?oo:pt)(vt-ot);return G.set(ue.subarray(ot,vt)),G}(s,0,r+fu(c)+o)},Bf=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),bi=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function Vf(e,t){t||(t={});var n=function(){var p=-1;return{p:function(d){for(var f=p,v=0;v<d.length;++v)f=Bf[255&f^d[v]]^f>>>8;p=f},d:function(){return~p}}}(),r=e.length;n.p(e);var o,i,a,s,u,c=(o=e,i=t,a=function(p){return 10+(p.filename&&p.filename.length+1||0)}(t),s=8,Uf(o,i.level==null?6:i.level,i.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(o.length)))):12+i.mem,a,s,!u)),l=c.length;return function(p,d){var f=d.filename;if(p[0]=31,p[1]=139,p[2]=8,p[8]=d.level<2?4:d.level==9?2:0,p[9]=3,d.mtime!=0&&bi(p,4,Math.floor(new Date(d.mtime||Date.now())/1e3)),f){p[3]=8;for(var v=0;v<=f.length;++v)p[v+10]=f.charCodeAt(v)}}(c,t),bi(c,l-8,n.d()),bi(c,l-4,r),c}var Ff=typeof TextDecoder<"u"&&new TextDecoder;try{Ff.decode(yi,{stream:!0})}catch{}var qe=null;try{qe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function ee(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Ne(e){return(e&&e.__isLong__)===!0}function mu(e){var t=Math.clz32(e&-e);return e?31-t:t}ee.prototype.__isLong__,Object.defineProperty(ee.prototype,"__isLong__",{value:!0}),ee.isLong=Ne;var _u={},Eu={};function qt(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=Eu[e])?r:(n=Q(e,0,!0),o&&(Eu[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=_u[e])?r:(n=Q(e,e<0?-1:0,!1),o&&(_u[e]=n),n)}function Je(e,t){if(isNaN(e))return t?Ot:tt;if(t){if(e<0)return Ot;if(e>=gu)return Ou}else{if(e<=-yu)return Be;if(e+1>=yu)return Su}return e<0?Je(-e,t).neg():Q(e%vn|0,e/vn|0,t)}function Q(e,t,n){return new ee(e,t,n)}ee.fromInt=qt,ee.fromNumber=Je,ee.fromBits=Q;var ao=Math.pow;function Ti(e,t,n){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(n=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?Ot:tt;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return Ti(e.substring(1),t,n).neg();for(var o=Je(ao(n,8)),i=tt,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);if(s<8){var c=Je(ao(n,s));i=i.mul(c).add(Je(u))}else i=(i=i.mul(o)).add(Je(u))}return i.unsigned=t,i}function et(e,t){return typeof e=="number"?Je(e,t):typeof e=="string"?Ti(e,t):Q(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}ee.fromString=Ti,ee.fromValue=et;var vn=4294967296,gu=vn*vn,yu=gu/2,bu=qt(1<<24),tt=qt(0);ee.ZERO=tt;var Ot=qt(0,!0);ee.UZERO=Ot;var mn=qt(1);ee.ONE=mn;var Tu=qt(1,!0);ee.UONE=Tu;var Si=qt(-1);ee.NEG_ONE=Si;var Su=Q(-1,2147483647,!1);ee.MAX_VALUE=Su;var Ou=Q(-1,-1,!0);ee.MAX_UNSIGNED_VALUE=Ou;var Be=Q(0,-2147483648,!1);ee.MIN_VALUE=Be;var R=ee.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*vn+(this.low>>>0):this.high*vn+(this.low>>>0)},R.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Be)){var t=Je(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=Je(ao(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),u=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Be)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return this.high!=0?t+33:t+1},R.isZero=function(){return this.high===0&&this.low===0},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return(1&this.low)==1},R.isEven=function(){return(1&this.low)==0},R.equals=function(e){return Ne(e)||(e=et(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},R.eq=R.equals,R.notEquals=function(e){return!this.eq(e)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(e){return this.comp(e)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(e){return this.comp(e)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(e){return this.comp(e)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(e){return this.comp(e)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(e){if(Ne(e)||(e=et(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(Be)?Be:this.not().add(mn)},R.neg=R.negate,R.add=function(e){Ne(e)||(e=et(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,u=0,c=0,l=0,p=0;return l+=(p+=o+(65535&e.low))>>>16,c+=(l+=r+s)>>>16,u+=(c+=n+a)>>>16,u+=t+i,Q((l&=65535)<<16|(p&=65535),(u&=65535)<<16|(c&=65535),this.unsigned)},R.subtract=function(e){return Ne(e)||(e=et(e)),this.add(e.neg())},R.sub=R.subtract,R.multiply=function(e){if(this.isZero())return this;if(Ne(e)||(e=et(e)),qe)return Q(qe.mul(this.low,this.high,e.low,e.high),qe.get_high(),this.unsigned);if(e.isZero())return this.unsigned?Ot:tt;if(this.eq(Be))return e.isOdd()?Be:tt;if(e.eq(Be))return this.isOdd()?Be:tt;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(bu)&&e.lt(bu))return Je(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,s=e.low>>>16,u=65535&e.low,c=0,l=0,p=0,d=0;return p+=(d+=o*u)>>>16,l+=(p+=r*u)>>>16,p&=65535,l+=(p+=o*s)>>>16,c+=(l+=n*u)>>>16,l&=65535,c+=(l+=r*s)>>>16,l&=65535,c+=(l+=o*a)>>>16,c+=t*u+n*s+r*a+o*i,Q((p&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(e){if(Ne(e)||(e=et(e)),e.isZero())throw Error("division by zero");var t,n,r;if(qe)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?Q((this.unsigned?qe.div_u:qe.div_s)(this.low,this.high,e.low,e.high),qe.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ot:tt;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ot;if(e.gt(this.shru(1)))return Tu;r=Ot}else{if(this.eq(Be))return e.eq(mn)||e.eq(Si)?Be:e.eq(Be)?mn:(t=this.shr(1).div(e).shl(1)).eq(tt)?e.isNegative()?mn:Si:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Be))return this.unsigned?Ot:tt;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=tt}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),i=o<=48?1:ao(2,o-48),a=Je(t),s=a.mul(e);s.isNegative()||s.gt(n);)s=(a=Je(t-=i,this.unsigned)).mul(e);a.isZero()&&(a=mn),r=r.add(a),n=n.sub(s)}return r},R.div=R.divide,R.modulo=function(e){return Ne(e)||(e=et(e)),qe?Q((this.unsigned?qe.rem_u:qe.rem_s)(this.low,this.high,e.low,e.high),qe.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return Q(~this.low,~this.high,this.unsigned)},R.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},R.clz=R.countLeadingZeros,R.countTrailingZeros=function(){return this.low?mu(this.low):mu(this.high)+32},R.ctz=R.countTrailingZeros,R.and=function(e){return Ne(e)||(e=et(e)),Q(this.low&e.low,this.high&e.high,this.unsigned)},R.or=function(e){return Ne(e)||(e=et(e)),Q(this.low|e.low,this.high|e.high,this.unsigned)},R.xor=function(e){return Ne(e)||(e=et(e)),Q(this.low^e.low,this.high^e.high,this.unsigned)},R.shiftLeft=function(e){return Ne(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Q(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Q(0,this.low<<e-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(e){return Ne(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Q(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Q(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(e){return Ne(e)&&(e=e.toInt()),(e&=63)==0?this:e<32?Q(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):Q(e===32?this.high:this.high>>>e-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.rotateLeft=function(e){var t;return Ne(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?Q(this.high,this.low,this.unsigned):e<32?(t=32-e,Q(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),Q(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},R.rotl=R.rotateLeft,R.rotateRight=function(e){var t;return Ne(e)&&(e=e.toInt()),(e&=63)==0?this:e===32?Q(this.high,this.low,this.unsigned):e<32?(t=32-e,Q(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),Q(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},R.rotr=R.rotateRight,R.toSigned=function(){return this.unsigned?Q(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:Q(this.low,this.high,!0)},R.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},R.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},ee.fromBytes=function(e,t,n){return n?ee.fromBytesLE(e,t):ee.fromBytesBE(e,t)},ee.fromBytesLE=function(e,t){return new ee(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},ee.fromBytesBE=function(e,t){return new ee(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var Ru={},wu={},jf=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(a,s){n[r]=function(u){if(i)if(i=!1,u)s(u);else{for(var c=new Array(arguments.length-1),l=0;l<c.length;)c[l++]=arguments[l];a.apply(null,c)}};try{e.apply(t||null,n)}catch(u){i&&(i=!1,s(u))}})},Au={};(function(e){var t=e;t.length=function(a){var s=a.length;if(!s)return 0;for(var u=0;--s%4>1&&a.charAt(s)==="=";)++u;return Math.ceil(3*a.length)/4-u};for(var n=new Array(64),r=new Array(123),o=0;o<64;)r[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;t.encode=function(a,s,u){for(var c,l=null,p=[],d=0,f=0;s<u;){var v=a[s++];switch(f){case 0:p[d++]=n[v>>2],c=(3&v)<<4,f=1;break;case 1:p[d++]=n[c|v>>4],c=(15&v)<<2,f=2;break;case 2:p[d++]=n[c|v>>6],p[d++]=n[63&v],f=0}d>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,p)),d=0)}return f&&(p[d++]=n[c],p[d++]=61,f===1&&(p[d++]=61)),l?(d&&l.push(String.fromCharCode.apply(String,p.slice(0,d))),l.join("")):String.fromCharCode.apply(String,p.slice(0,d))};var i="invalid encoding";t.decode=function(a,s,u){for(var c,l=u,p=0,d=0;d<a.length;){var f=a.charCodeAt(d++);if(f===61&&p>1)break;if((f=r[f])===void 0)throw Error(i);switch(p){case 0:c=f,p=1;break;case 1:s[u++]=c<<2|(48&f)>>4,c=f,p=2;break;case 2:s[u++]=(15&c)<<4|(60&f)>>2,c=f,p=3;break;case 3:s[u++]=(3&c)<<6|f,p=0}}if(p===1)throw Error(i);return u-l},t.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}})(Au);var Hf=so;function so(){this._listeners={}}so.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},so.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},so.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var Gf=Nu(Nu);function Nu(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=n[3]===128;function o(u,c,l){t[0]=u,c[l]=n[0],c[l+1]=n[1],c[l+2]=n[2],c[l+3]=n[3]}function i(u,c,l){t[0]=u,c[l]=n[3],c[l+1]=n[2],c[l+2]=n[1],c[l+3]=n[0]}function a(u,c){return n[0]=u[c],n[1]=u[c+1],n[2]=u[c+2],n[3]=u[c+3],t[0]}function s(u,c){return n[3]=u[c],n[2]=u[c+1],n[1]=u[c+2],n[0]=u[c+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(r,o,i,a){var s=o<0?1:0;if(s&&(o=-o),o===0)r(1/o>0?0:2147483648,i,a);else if(isNaN(o))r(2143289344,i,a);else if(o>34028234663852886e22)r((s<<31|2139095040)>>>0,i,a);else if(o<11754943508222875e-54)r((s<<31|Math.round(o/1401298464324817e-60))>>>0,i,a);else{var u=Math.floor(Math.log(o)/Math.LN2);r((s<<31|u+127<<23|8388607&Math.round(o*Math.pow(2,-u)*8388608))>>>0,i,a)}}function n(r,o,i){var a=r(o,i),s=2*(a>>31)+1,u=a>>>23&255,c=8388607&a;return u===255?c?NaN:s*(1/0):u===0?1401298464324817e-60*s*c:s*Math.pow(2,u-150)*(c+8388608)}e.writeFloatLE=t.bind(null,Cu),e.writeFloatBE=t.bind(null,Lu),e.readFloatLE=n.bind(null,Iu),e.readFloatBE=n.bind(null,Pu)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=n[7]===128;function o(u,c,l){t[0]=u,c[l]=n[0],c[l+1]=n[1],c[l+2]=n[2],c[l+3]=n[3],c[l+4]=n[4],c[l+5]=n[5],c[l+6]=n[6],c[l+7]=n[7]}function i(u,c,l){t[0]=u,c[l]=n[7],c[l+1]=n[6],c[l+2]=n[5],c[l+3]=n[4],c[l+4]=n[3],c[l+5]=n[2],c[l+6]=n[1],c[l+7]=n[0]}function a(u,c){return n[0]=u[c],n[1]=u[c+1],n[2]=u[c+2],n[3]=u[c+3],n[4]=u[c+4],n[5]=u[c+5],n[6]=u[c+6],n[7]=u[c+7],t[0]}function s(u,c){return n[7]=u[c],n[6]=u[c+1],n[5]=u[c+2],n[4]=u[c+3],n[3]=u[c+4],n[2]=u[c+5],n[1]=u[c+6],n[0]=u[c+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(r,o,i,a,s,u){var c=a<0?1:0;if(c&&(a=-a),a===0)r(0,s,u+o),r(1/a>0?0:2147483648,s,u+i);else if(isNaN(a))r(0,s,u+o),r(2146959360,s,u+i);else if(a>17976931348623157e292)r(0,s,u+o),r((c<<31|2146435072)>>>0,s,u+i);else{var l;if(a<22250738585072014e-324)r((l=a/5e-324)>>>0,s,u+o),r((c<<31|l/4294967296)>>>0,s,u+i);else{var p=Math.floor(Math.log(a)/Math.LN2);p===1024&&(p=1023),r(4503599627370496*(l=a*Math.pow(2,-p))>>>0,s,u+o),r((c<<31|p+1023<<20|1048576*l&1048575)>>>0,s,u+i)}}}function n(r,o,i,a,s){var u=r(a,s+o),c=r(a,s+i),l=2*(c>>31)+1,p=c>>>20&2047,d=4294967296*(1048575&c)+u;return p===2047?d?NaN:l*(1/0):p===0?5e-324*l*d:l*Math.pow(2,p-1075)*(d+4503599627370496)}e.writeDoubleLE=t.bind(null,Cu,0,4),e.writeDoubleBE=t.bind(null,Lu,4,0),e.readDoubleLE=n.bind(null,Iu,0,4),e.readDoubleBE=n.bind(null,Pu,4,0)}(),e}function Cu(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function Lu(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function Iu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Pu(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var Yf=function(e){try{var t=void 0}catch{}return null},Mu={};(function(e){var t=e;t.length=function(n){for(var r=0,o=0,i=0;i<n.length;++i)(o=n.charCodeAt(i))<128?r+=1:o<2048?r+=2:(64512&o)==55296&&(64512&n.charCodeAt(i+1))==56320?(++i,r+=4):r+=3;return r},t.read=function(n,r,o){if(o-r<1)return"";for(var i,a=null,s=[],u=0;r<o;)(i=n[r++])<128?s[u++]=i:i>191&&i<224?s[u++]=(31&i)<<6|63&n[r++]:i>239&&i<365?(i=((7&i)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++])-65536,s[u++]=55296+(i>>10),s[u++]=56320+(1023&i)):s[u++]=(15&i)<<12|(63&n[r++])<<6|63&n[r++],u>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),u=0);return a?(u&&a.push(String.fromCharCode.apply(String,s.slice(0,u))),a.join("")):String.fromCharCode.apply(String,s.slice(0,u))},t.write=function(n,r,o){for(var i,a,s=o,u=0;u<n.length;++u)(i=n.charCodeAt(u))<128?r[o++]=i:i<2048?(r[o++]=i>>6|192,r[o++]=63&i|128):(64512&i)==55296&&(64512&(a=n.charCodeAt(u+1)))==56320?(i=65536+((1023&i)<<10)+(1023&a),++u,r[o++]=i>>18|240,r[o++]=i>>12&63|128,r[o++]=i>>6&63|128,r[o++]=63&i|128):(r[o++]=i>>12|224,r[o++]=i>>6&63|128,r[o++]=63&i|128);return o-s}})(Mu);var Oi,ku,xu,zf=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(s){if(s<1||s>o)return e(s);a+s>r&&(i=e(r),a=0);var u=t.call(i,a,a+=s);return 7&a&&(a=1+(7|a)),u}};function Jt(){return xu||(xu=1,function(e){var t=e;function n(o,i,a){for(var s=Object.keys(i),u=0;u<s.length;++u)o[s[u]]!==void 0&&a||(o[s[u]]=i[s[u]]);return o}function r(o){function i(a,s){if(!(this instanceof i))return new i(a,s);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&n(this,s)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return o}}),i.prototype.toString=function(){return this.name+": "+this.message},i}t.asPromise=jf,t.base64=Au,t.EventEmitter=Hf,t.float=Gf,t.inquire=Yf,t.utf8=Mu,t.pool=zf,t.LongBits=function(){if(ku)return Oi;ku=1,Oi=i;var o=Jt();function i(c,l){this.lo=c>>>0,this.hi=l>>>0}var a=i.zero=new i(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(c){if(c===0)return a;var l=c<0;l&&(c=-c);var p=c>>>0,d=(c-p)/4294967296>>>0;return l&&(d=~d>>>0,p=~p>>>0,++p>4294967295&&(p=0,++d>4294967295&&(d=0))),new i(p,d)},i.from=function(c){if(typeof c=="number")return i.fromNumber(c);if(o.isString(c)){if(!o.Long)return i.fromNumber(parseInt(c,10));c=o.Long.fromString(c)}return c.low||c.high?new i(c.low>>>0,c.high>>>0):a},i.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var l=1+~this.lo>>>0,p=~this.hi>>>0;return l||(p=p+1>>>0),-(l+4294967296*p)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(c){return o.Long?new o.Long(0|this.lo,0|this.hi,!!c):{low:0|this.lo,high:0|this.hi,unsigned:!!c}};var u=String.prototype.charCodeAt;return i.fromHash=function(c){return c===s?a:new i((u.call(c,0)|u.call(c,1)<<8|u.call(c,2)<<16|u.call(c,3)<<24)>>>0,(u.call(c,4)|u.call(c,5)<<8|u.call(c,6)<<16|u.call(c,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this},i.prototype.zzDecode=function(){var c=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this},i.prototype.length=function(){var c=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,p=this.hi>>>24;return p===0?l===0?c<16384?c<128?1:2:c<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:p<128?9:10},Oi}(),t.isNode=!!(Ze!==void 0&&Ze&&Ze.process&&Ze.process.versions&&Ze.process.versions.node),t.global=t.isNode&&Ze||typeof window<"u"&&window||typeof self<"u"&&self||Ze,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,i){var a=o[i];return!(a==null||!o.hasOwnProperty(i))&&(typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0)},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,i){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,i):a.toNumber(!!i)},t.merge=n,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(o){for(var i={},a=0;a<o.length;++a)i[o[a]]=1;return function(){for(var s=Object.keys(this),u=s.length-1;u>-1;--u)if(i[s[u]]===1&&this[s[u]]!==void 0&&this[s[u]]!==null)return s[u]}},t.oneOfSetter=function(o){return function(i){for(var a=0;a<o.length;++a)o[a]!==i&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;o?(t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(i,a){return new o(i,a)},t._Buffer_allocUnsafe=o.allocUnsafe||function(i){return new o(i)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}(wu)),wu}var Ri,Du=q,Ke=Jt(),uo=Ke.LongBits,Uu=Ke.base64,Bu=Ke.utf8;function cr(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function wi(){}function Wf(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function q(){this.len=0,this.head=new cr(wi,0,0),this.tail=this.head,this.states=null}var Vu=function(){return Ke.Buffer?function(){return(q.create=function(){return new Ri})()}:function(){return new q}};function Ai(e,t,n){t[n]=255&e}function Ni(e,t){this.len=e,this.next=void 0,this.val=t}function Ci(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function Li(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}q.create=Vu(),q.alloc=function(e){return new Ke.Array(e)},Ke.Array!==Array&&(q.alloc=Ke.pool(q.alloc,Ke.Array.prototype.subarray)),q.prototype._push=function(e,t,n){return this.tail=this.tail.next=new cr(e,t,n),this.len+=t,this},Ni.prototype=Object.create(cr.prototype),Ni.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},q.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Ni((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},q.prototype.int32=function(e){return e<0?this._push(Ci,10,uo.fromNumber(e)):this.uint32(e)},q.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},q.prototype.uint64=function(e){var t=uo.from(e);return this._push(Ci,t.length(),t)},q.prototype.int64=q.prototype.uint64,q.prototype.sint64=function(e){var t=uo.from(e).zzEncode();return this._push(Ci,t.length(),t)},q.prototype.bool=function(e){return this._push(Ai,1,e?1:0)},q.prototype.fixed32=function(e){return this._push(Li,4,e>>>0)},q.prototype.sfixed32=q.prototype.fixed32,q.prototype.fixed64=function(e){var t=uo.from(e);return this._push(Li,4,t.lo)._push(Li,4,t.hi)},q.prototype.sfixed64=q.prototype.fixed64,q.prototype.float=function(e){return this._push(Ke.float.writeFloatLE,4,e)},q.prototype.double=function(e){return this._push(Ke.float.writeDoubleLE,8,e)};var Xf=Ke.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};q.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Ai,1,0);if(Ke.isString(e)){var n=q.alloc(t=Uu.length(e));Uu.decode(e,n,0),e=n}return this.uint32(t)._push(Xf,t,e)},q.prototype.string=function(e){var t=Bu.length(e);return t?this.uint32(t)._push(Bu.write,t,e):this._push(Ai,1,0)},q.prototype.fork=function(){return this.states=new Wf(this),this.head=this.tail=new cr(wi,0,0),this.len=0,this},q.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new cr(wi,0,0),this.len=0),this},q.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},q.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},q._configure=function(e){Ri=e,q.create=Vu(),Ri._configure()};var qf=dt,Fu=Du;(dt.prototype=Object.create(Fu.prototype)).constructor=dt;var Pt=Jt();function dt(){Fu.call(this)}function Jf(e,t,n){e.length<40?Pt.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}dt._configure=function(){dt.alloc=Pt._Buffer_allocUnsafe,dt.writeBytesBuffer=Pt.Buffer&&Pt.Buffer.prototype instanceof Uint8Array&&Pt.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},dt.prototype.bytes=function(e){Pt.isString(e)&&(e=Pt._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(dt.writeBytesBuffer,t,e),this},dt.prototype.string=function(e){var t=Pt.Buffer.byteLength(e);return this.uint32(t),t&&this._push(Jf,t,e),this},dt._configure();var Ii,ju=fe,ft=Jt(),Hu=ft.LongBits,Kf=ft.utf8;function nt(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function fe(e){this.buf=e,this.pos=0,this.len=e.length}var Ce,Gu=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new fe(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new fe(e);throw Error("illegal buffer")},Yu=function(){return ft.Buffer?function(e){return(fe.create=function(t){return ft.Buffer.isBuffer(t)?new Ii(t):Gu(t)})(e)}:Gu};function Pi(){var e=new Hu(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw nt(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw nt(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function co(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function zu(){if(this.pos+8>this.len)throw nt(this,8);return new Hu(co(this.buf,this.pos+=4),co(this.buf,this.pos+=4))}fe.create=Yu(),fe.prototype._slice=ft.Array.prototype.subarray||ft.Array.prototype.slice,fe.prototype.uint32=(Ce=4294967295,function(){if(Ce=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(Ce=(Ce|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(Ce=(Ce|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(Ce=(Ce|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(Ce=(Ce|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return Ce;if((this.pos+=5)>this.len)throw this.pos=this.len,nt(this,10);return Ce}),fe.prototype.int32=function(){return 0|this.uint32()},fe.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},fe.prototype.bool=function(){return this.uint32()!==0},fe.prototype.fixed32=function(){if(this.pos+4>this.len)throw nt(this,4);return co(this.buf,this.pos+=4)},fe.prototype.sfixed32=function(){if(this.pos+4>this.len)throw nt(this,4);return 0|co(this.buf,this.pos+=4)},fe.prototype.float=function(){if(this.pos+4>this.len)throw nt(this,4);var e=ft.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},fe.prototype.double=function(){if(this.pos+8>this.len)throw nt(this,4);var e=ft.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},fe.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw nt(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},fe.prototype.string=function(){var e=this.bytes();return Kf.read(e,0,e.length)},fe.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw nt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw nt(this);while(128&this.buf[this.pos++]);return this},fe.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=7&this.uint32())!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},fe._configure=function(e){Ii=e,fe.create=Yu(),Ii._configure();var t=ft.Long?"toLong":"toNumber";ft.merge(fe.prototype,{int64:function(){return Pi.call(this)[t](!1)},uint64:function(){return Pi.call(this)[t](!0)},sint64:function(){return Pi.call(this).zzDecode()[t](!1)},fixed64:function(){return zu.call(this)[t](!0)},sfixed64:function(){return zu.call(this)[t](!1)}})};var Zf=Kt,Wu=ju;(Kt.prototype=Object.create(Wu.prototype)).constructor=Kt;var Xu=Jt();function Kt(e){Wu.call(this,e)}Kt._configure=function(){Xu.Buffer&&(Kt.prototype._slice=Xu.Buffer.prototype.slice)},Kt.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},Kt._configure();var qu={},$f=lr,Mi=Jt();function lr(e,t,n){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Mi.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}(lr.prototype=Object.create(Mi.EventEmitter.prototype)).constructor=lr,lr.prototype.rpcCall=function e(t,n,r,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return Mi.asPromise(e,a,t,n,r,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(s,u){if(s)return a.emit("error",s,t),i(s);if(u!==null){if(!(u instanceof r))try{u=r[a.responseDelimited?"decodeDelimited":"decode"](u)}catch(c){return a.emit("error",c,t),i(c)}return a.emit("data",u,t),i(null,u)}a.end(!0)})}catch(s){return a.emit("error",s,t),void setTimeout(function(){i(s)},0)}else setTimeout(function(){i(Error("already ended"))},0)},lr.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},function(e){e.Service=$f}(qu);var Qf={};(function(e){var t=e;function n(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=Du,t.BufferWriter=qf,t.Reader=ju,t.BufferReader=Zf,t.util=Jt(),t.rpc=qu,t.roots=Qf,t.configure=n,n()})(Ru);var H=Mn(Ru);let Le={encode:(e,t=H.Writer.create())=>(e.stringValue!==void 0&&t.uint32(10).string(e.stringValue),e.boolValue!==void 0&&t.uint32(16).bool(e.boolValue),e.intValue!==void 0&&t.uint32(24).int64(e.intValue),e.doubleValue!==void 0&&t.uint32(33).double(e.doubleValue),e.arrayValue!==void 0&&_n.encode(e.arrayValue,t.uint32(42).fork()).ldelim(),e.kvlistValue!==void 0&&En.encode(e.kvlistValue,t.uint32(50).fork()).ldelim(),e.bytesValue!==void 0&&t.uint32(58).bytes(e.bytesValue),t),decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={stringValue:void 0,boolValue:void 0,intValue:void 0,doubleValue:void 0,arrayValue:void 0,kvlistValue:void 0,bytesValue:void 0};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.stringValue=n.string();continue;case 2:if(i!==16)break;o.boolValue=n.bool();continue;case 3:if(i!==24)break;o.intValue=th(n.int64());continue;case 4:if(i!==33)break;o.doubleValue=n.double();continue;case 5:if(i!==42)break;o.arrayValue=_n.decode(n,n.uint32());continue;case 6:if(i!==50)break;o.kvlistValue=En.decode(n,n.uint32());continue;case 7:if(i!==58)break;o.bytesValue=n.bytes();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({stringValue:Ye(e.stringValue)?globalThis.String(e.stringValue):void 0,boolValue:Ye(e.boolValue)?globalThis.Boolean(e.boolValue):void 0,intValue:Ye(e.intValue)?globalThis.Number(e.intValue):void 0,doubleValue:Ye(e.doubleValue)?globalThis.Number(e.doubleValue):void 0,arrayValue:Ye(e.arrayValue)?_n.fromJSON(e.arrayValue):void 0,kvlistValue:Ye(e.kvlistValue)?En.fromJSON(e.kvlistValue):void 0,bytesValue:Ye(e.bytesValue)?eh(e.bytesValue):void 0}),toJSON(e){let t={};return e.stringValue!==void 0&&(t.stringValue=e.stringValue),e.boolValue!==void 0&&(t.boolValue=e.boolValue),e.intValue!==void 0&&(t.intValue=Math.round(e.intValue)),e.doubleValue!==void 0&&(t.doubleValue=e.doubleValue),e.arrayValue!==void 0&&(t.arrayValue=_n.toJSON(e.arrayValue)),e.kvlistValue!==void 0&&(t.kvlistValue=En.toJSON(e.kvlistValue)),e.bytesValue!==void 0&&(t.bytesValue=function(n){if(globalThis.Buffer)return globalThis.Buffer.from(n).toString("base64");{let r=[];return n.forEach(o=>{r.push(globalThis.String.fromCharCode(o))}),globalThis.btoa(r.join(""))}}(e.bytesValue)),t},create:e=>Le.fromPartial(e??{}),fromPartial(e){var t,n,r,o,i;let a={stringValue:void 0,boolValue:void 0,intValue:void 0,doubleValue:void 0,arrayValue:void 0,kvlistValue:void 0,bytesValue:void 0};return a.stringValue=(t=e.stringValue)!==null&&t!==void 0?t:void 0,a.boolValue=(n=e.boolValue)!==null&&n!==void 0?n:void 0,a.intValue=(r=e.intValue)!==null&&r!==void 0?r:void 0,a.doubleValue=(o=e.doubleValue)!==null&&o!==void 0?o:void 0,a.arrayValue=e.arrayValue!==void 0&&e.arrayValue!==null?_n.fromPartial(e.arrayValue):void 0,a.kvlistValue=e.kvlistValue!==void 0&&e.kvlistValue!==null?En.fromPartial(e.kvlistValue):void 0,a.bytesValue=(i=e.bytesValue)!==null&&i!==void 0?i:void 0,a}},_n={encode(e,t=H.Writer.create()){if(e.values!==void 0&&e.values.length!==0)for(let n of e.values)Le.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={values:[]};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.values.push(Le.decode(n,n.uint32()));continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({values:globalThis.Array.isArray(e?.values)?e.values.map(t=>Le.fromJSON(t)):[]}),toJSON(e){var t;let n={};return!((t=e.values)===null||t===void 0)&&t.length&&(n.values=e.values.map(r=>Le.toJSON(r))),n},create:e=>_n.fromPartial(e??{}),fromPartial(e){var t;let n={values:[]};return n.values=((t=e.values)===null||t===void 0?void 0:t.map(r=>Le.fromPartial(r)))||[],n}},En={encode(e,t=H.Writer.create()){if(e.values!==void 0&&e.values.length!==0)for(let n of e.values)Ie.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={values:[]};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.values.push(Ie.decode(n,n.uint32()));continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({values:globalThis.Array.isArray(e?.values)?e.values.map(t=>Ie.fromJSON(t)):[]}),toJSON(e){var t;let n={};return!((t=e.values)===null||t===void 0)&&t.length&&(n.values=e.values.map(r=>Ie.toJSON(r))),n},create:e=>En.fromPartial(e??{}),fromPartial(e){var t;let n={values:[]};return n.values=((t=e.values)===null||t===void 0?void 0:t.map(r=>Ie.fromPartial(r)))||[],n}},Ie={encode:(e,t=H.Writer.create())=>(e.key!==void 0&&e.key!==""&&t.uint32(10).string(e.key),e.value!==void 0&&Le.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={key:"",value:void 0};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.key=n.string();continue;case 2:if(i!==18)break;o.value=Le.decode(n,n.uint32());continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({key:Ye(e.key)?globalThis.String(e.key):"",value:Ye(e.value)?Le.fromJSON(e.value):void 0}),toJSON(e){let t={};return e.key!==void 0&&e.key!==""&&(t.key=e.key),e.value!==void 0&&(t.value=Le.toJSON(e.value)),t},create:e=>Ie.fromPartial(e??{}),fromPartial(e){var t;let n={key:"",value:void 0};return n.key=(t=e.key)!==null&&t!==void 0?t:"",n.value=e.value!==void 0&&e.value!==null?Le.fromPartial(e.value):void 0,n}},gn={encode:(e,t=H.Writer.create())=>(e.name!==void 0&&e.name!==""&&t.uint32(10).string(e.name),e.version!==void 0&&e.version!==""&&t.uint32(18).string(e.version),t),decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={name:"",version:""};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.name=n.string();continue;case 2:if(i!==18)break;o.version=n.string();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({name:Ye(e.name)?globalThis.String(e.name):"",version:Ye(e.version)?globalThis.String(e.version):""}),toJSON(e){let t={};return e.name!==void 0&&e.name!==""&&(t.name=e.name),e.version!==void 0&&e.version!==""&&(t.version=e.version),t},create:e=>gn.fromPartial(e??{}),fromPartial(e){var t,n;let r={name:"",version:""};return r.name=(t=e.name)!==null&&t!==void 0?t:"",r.version=(n=e.version)!==null&&n!==void 0?n:"",r}},yn={encode:(e,t=H.Writer.create())=>(e.name!==void 0&&e.name!==""&&t.uint32(10).string(e.name),e.version!==void 0&&e.version!==""&&t.uint32(18).string(e.version),t),decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={name:"",version:""};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.name=n.string();continue;case 2:if(i!==18)break;o.version=n.string();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({name:Ye(e.name)?globalThis.String(e.name):"",version:Ye(e.version)?globalThis.String(e.version):""}),toJSON(e){let t={};return e.name!==void 0&&e.name!==""&&(t.name=e.name),e.version!==void 0&&e.version!==""&&(t.version=e.version),t},create:e=>yn.fromPartial(e??{}),fromPartial(e){var t,n;let r={name:"",version:""};return r.name=(t=e.name)!==null&&t!==void 0?t:"",r.version=(n=e.version)!==null&&n!==void 0?n:"",r}};function eh(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}}function th(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Ye(e){return e!=null}H.util.Long!==ee&&(H.util.Long=ee,H.configure());let bn={encode(e,t=H.Writer.create()){if(e.attributes!==void 0&&e.attributes.length!==0)for(let n of e.attributes)Ie.encode(n,t.uint32(10).fork()).ldelim();return e.droppedAttributesCount!==void 0&&e.droppedAttributesCount!==0&&t.uint32(16).uint32(e.droppedAttributesCount),t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={attributes:[],droppedAttributesCount:0};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.attributes.push(Ie.decode(n,n.uint32()));continue;case 2:if(i!==16)break;o.droppedAttributesCount=n.uint32();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({attributes:globalThis.Array.isArray(e?.attributes)?e.attributes.map(t=>Ie.fromJSON(t)):[],droppedAttributesCount:nh(e.droppedAttributesCount)?globalThis.Number(e.droppedAttributesCount):0}),toJSON(e){var t;let n={};return!((t=e.attributes)===null||t===void 0)&&t.length&&(n.attributes=e.attributes.map(r=>Ie.toJSON(r))),e.droppedAttributesCount!==void 0&&e.droppedAttributesCount!==0&&(n.droppedAttributesCount=Math.round(e.droppedAttributesCount)),n},create:e=>bn.fromPartial(e??{}),fromPartial(e){var t,n;let r={attributes:[],droppedAttributesCount:0};return r.attributes=((t=e.attributes)===null||t===void 0?void 0:t.map(o=>Ie.fromPartial(o)))||[],r.droppedAttributesCount=(n=e.droppedAttributesCount)!==null&&n!==void 0?n:0,r}};function nh(e){return e!=null}var M,Ju;function rh(e){switch(e){case 0:case"SEVERITY_NUMBER_UNSPECIFIED":return M.SEVERITY_NUMBER_UNSPECIFIED;case 1:case"SEVERITY_NUMBER_TRACE":return M.SEVERITY_NUMBER_TRACE;case 2:case"SEVERITY_NUMBER_TRACE2":return M.SEVERITY_NUMBER_TRACE2;case 3:case"SEVERITY_NUMBER_TRACE3":return M.SEVERITY_NUMBER_TRACE3;case 4:case"SEVERITY_NUMBER_TRACE4":return M.SEVERITY_NUMBER_TRACE4;case 5:case"SEVERITY_NUMBER_DEBUG":return M.SEVERITY_NUMBER_DEBUG;case 6:case"SEVERITY_NUMBER_DEBUG2":return M.SEVERITY_NUMBER_DEBUG2;case 7:case"SEVERITY_NUMBER_DEBUG3":return M.SEVERITY_NUMBER_DEBUG3;case 8:case"SEVERITY_NUMBER_DEBUG4":return M.SEVERITY_NUMBER_DEBUG4;case 9:case"SEVERITY_NUMBER_INFO":return M.SEVERITY_NUMBER_INFO;case 10:case"SEVERITY_NUMBER_INFO2":return M.SEVERITY_NUMBER_INFO2;case 11:case"SEVERITY_NUMBER_INFO3":return M.SEVERITY_NUMBER_INFO3;case 12:case"SEVERITY_NUMBER_INFO4":return M.SEVERITY_NUMBER_INFO4;case 13:case"SEVERITY_NUMBER_WARN":return M.SEVERITY_NUMBER_WARN;case 14:case"SEVERITY_NUMBER_WARN2":return M.SEVERITY_NUMBER_WARN2;case 15:case"SEVERITY_NUMBER_WARN3":return M.SEVERITY_NUMBER_WARN3;case 16:case"SEVERITY_NUMBER_WARN4":return M.SEVERITY_NUMBER_WARN4;case 17:case"SEVERITY_NUMBER_ERROR":return M.SEVERITY_NUMBER_ERROR;case 18:case"SEVERITY_NUMBER_ERROR2":return M.SEVERITY_NUMBER_ERROR2;case 19:case"SEVERITY_NUMBER_ERROR3":return M.SEVERITY_NUMBER_ERROR3;case 20:case"SEVERITY_NUMBER_ERROR4":return M.SEVERITY_NUMBER_ERROR4;case 21:case"SEVERITY_NUMBER_FATAL":return M.SEVERITY_NUMBER_FATAL;case 22:case"SEVERITY_NUMBER_FATAL2":return M.SEVERITY_NUMBER_FATAL2;case 23:case"SEVERITY_NUMBER_FATAL3":return M.SEVERITY_NUMBER_FATAL3;case 24:case"SEVERITY_NUMBER_FATAL4":return M.SEVERITY_NUMBER_FATAL4;default:return M.UNRECOGNIZED}}(function(e){e[e.SEVERITY_NUMBER_UNSPECIFIED=0]="SEVERITY_NUMBER_UNSPECIFIED",e[e.SEVERITY_NUMBER_TRACE=1]="SEVERITY_NUMBER_TRACE",e[e.SEVERITY_NUMBER_TRACE2=2]="SEVERITY_NUMBER_TRACE2",e[e.SEVERITY_NUMBER_TRACE3=3]="SEVERITY_NUMBER_TRACE3",e[e.SEVERITY_NUMBER_TRACE4=4]="SEVERITY_NUMBER_TRACE4",e[e.SEVERITY_NUMBER_DEBUG=5]="SEVERITY_NUMBER_DEBUG",e[e.SEVERITY_NUMBER_DEBUG2=6]="SEVERITY_NUMBER_DEBUG2",e[e.SEVERITY_NUMBER_DEBUG3=7]="SEVERITY_NUMBER_DEBUG3",e[e.SEVERITY_NUMBER_DEBUG4=8]="SEVERITY_NUMBER_DEBUG4",e[e.SEVERITY_NUMBER_INFO=9]="SEVERITY_NUMBER_INFO",e[e.SEVERITY_NUMBER_INFO2=10]="SEVERITY_NUMBER_INFO2",e[e.SEVERITY_NUMBER_INFO3=11]="SEVERITY_NUMBER_INFO3",e[e.SEVERITY_NUMBER_INFO4=12]="SEVERITY_NUMBER_INFO4",e[e.SEVERITY_NUMBER_WARN=13]="SEVERITY_NUMBER_WARN",e[e.SEVERITY_NUMBER_WARN2=14]="SEVERITY_NUMBER_WARN2",e[e.SEVERITY_NUMBER_WARN3=15]="SEVERITY_NUMBER_WARN3",e[e.SEVERITY_NUMBER_WARN4=16]="SEVERITY_NUMBER_WARN4",e[e.SEVERITY_NUMBER_ERROR=17]="SEVERITY_NUMBER_ERROR",e[e.SEVERITY_NUMBER_ERROR2=18]="SEVERITY_NUMBER_ERROR2",e[e.SEVERITY_NUMBER_ERROR3=19]="SEVERITY_NUMBER_ERROR3",e[e.SEVERITY_NUMBER_ERROR4=20]="SEVERITY_NUMBER_ERROR4",e[e.SEVERITY_NUMBER_FATAL=21]="SEVERITY_NUMBER_FATAL",e[e.SEVERITY_NUMBER_FATAL2=22]="SEVERITY_NUMBER_FATAL2",e[e.SEVERITY_NUMBER_FATAL3=23]="SEVERITY_NUMBER_FATAL3",e[e.SEVERITY_NUMBER_FATAL4=24]="SEVERITY_NUMBER_FATAL4",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(M||(M={})),function(e){e[e.LOG_RECORD_FLAG_UNSPECIFIED=0]="LOG_RECORD_FLAG_UNSPECIFIED",e[e.LOG_RECORD_FLAG_TRACE_FLAGS_MASK=255]="LOG_RECORD_FLAG_TRACE_FLAGS_MASK",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(Ju||(Ju={}));let Ku={encode(e,t=H.Writer.create()){if(e.resourceLogs!==void 0&&e.resourceLogs.length!==0)for(let n of e.resourceLogs)Tn.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={resourceLogs:[]};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.resourceLogs.push(Tn.decode(n,n.uint32()));continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({resourceLogs:globalThis.Array.isArray(e?.resourceLogs)?e.resourceLogs.map(t=>Tn.fromJSON(t)):[]}),toJSON(e){var t;let n={};return!((t=e.resourceLogs)===null||t===void 0)&&t.length&&(n.resourceLogs=e.resourceLogs.map(r=>Tn.toJSON(r))),n},create:e=>Ku.fromPartial(e??{}),fromPartial(e){var t;let n={resourceLogs:[]};return n.resourceLogs=((t=e.resourceLogs)===null||t===void 0?void 0:t.map(r=>Tn.fromPartial(r)))||[],n}},Tn={encode(e,t=H.Writer.create()){if(e.resource!==void 0&&bn.encode(e.resource,t.uint32(10).fork()).ldelim(),e.scopeLogs!==void 0&&e.scopeLogs.length!==0)for(let n of e.scopeLogs)Sn.encode(n,t.uint32(18).fork()).ldelim();if(e.instrumentationLibraryLogs!==void 0&&e.instrumentationLibraryLogs.length!==0)for(let n of e.instrumentationLibraryLogs)On.encode(n,t.uint32(8002).fork()).ldelim();return e.schemaUrl!==void 0&&e.schemaUrl!==""&&t.uint32(26).string(e.schemaUrl),t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={resource:void 0,scopeLogs:[],instrumentationLibraryLogs:[],schemaUrl:""};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.resource=bn.decode(n,n.uint32());continue;case 2:if(i!==18)break;o.scopeLogs.push(Sn.decode(n,n.uint32()));continue;case 1e3:if(i!==8002)break;o.instrumentationLibraryLogs.push(On.decode(n,n.uint32()));continue;case 3:if(i!==26)break;o.schemaUrl=n.string();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({resource:Me(e.resource)?bn.fromJSON(e.resource):void 0,scopeLogs:globalThis.Array.isArray(e?.scopeLogs)?e.scopeLogs.map(t=>Sn.fromJSON(t)):[],instrumentationLibraryLogs:globalThis.Array.isArray(e?.instrumentationLibraryLogs)?e.instrumentationLibraryLogs.map(t=>On.fromJSON(t)):[],schemaUrl:Me(e.schemaUrl)?globalThis.String(e.schemaUrl):""}),toJSON(e){var t,n;let r={};return e.resource!==void 0&&(r.resource=bn.toJSON(e.resource)),!((t=e.scopeLogs)===null||t===void 0)&&t.length&&(r.scopeLogs=e.scopeLogs.map(o=>Sn.toJSON(o))),!((n=e.instrumentationLibraryLogs)===null||n===void 0)&&n.length&&(r.instrumentationLibraryLogs=e.instrumentationLibraryLogs.map(o=>On.toJSON(o))),e.schemaUrl!==void 0&&e.schemaUrl!==""&&(r.schemaUrl=e.schemaUrl),r},create:e=>Tn.fromPartial(e??{}),fromPartial(e){var t,n,r;let o={resource:void 0,scopeLogs:[],instrumentationLibraryLogs:[],schemaUrl:""};return o.resource=e.resource!==void 0&&e.resource!==null?bn.fromPartial(e.resource):void 0,o.scopeLogs=((t=e.scopeLogs)===null||t===void 0?void 0:t.map(i=>Sn.fromPartial(i)))||[],o.instrumentationLibraryLogs=((n=e.instrumentationLibraryLogs)===null||n===void 0?void 0:n.map(i=>On.fromPartial(i)))||[],o.schemaUrl=(r=e.schemaUrl)!==null&&r!==void 0?r:"",o}},Sn={encode(e,t=H.Writer.create()){if(e.scope!==void 0&&yn.encode(e.scope,t.uint32(10).fork()).ldelim(),e.logRecords!==void 0&&e.logRecords.length!==0)for(let n of e.logRecords)rt.encode(n,t.uint32(18).fork()).ldelim();return e.schemaUrl!==void 0&&e.schemaUrl!==""&&t.uint32(26).string(e.schemaUrl),t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={scope:void 0,logRecords:[],schemaUrl:""};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.scope=yn.decode(n,n.uint32());continue;case 2:if(i!==18)break;o.logRecords.push(rt.decode(n,n.uint32()));continue;case 3:if(i!==26)break;o.schemaUrl=n.string();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({scope:Me(e.scope)?yn.fromJSON(e.scope):void 0,logRecords:globalThis.Array.isArray(e?.logRecords)?e.logRecords.map(t=>rt.fromJSON(t)):[],schemaUrl:Me(e.schemaUrl)?globalThis.String(e.schemaUrl):""}),toJSON(e){var t;let n={};return e.scope!==void 0&&(n.scope=yn.toJSON(e.scope)),!((t=e.logRecords)===null||t===void 0)&&t.length&&(n.logRecords=e.logRecords.map(r=>rt.toJSON(r))),e.schemaUrl!==void 0&&e.schemaUrl!==""&&(n.schemaUrl=e.schemaUrl),n},create:e=>Sn.fromPartial(e??{}),fromPartial(e){var t,n;let r={scope:void 0,logRecords:[],schemaUrl:""};return r.scope=e.scope!==void 0&&e.scope!==null?yn.fromPartial(e.scope):void 0,r.logRecords=((t=e.logRecords)===null||t===void 0?void 0:t.map(o=>rt.fromPartial(o)))||[],r.schemaUrl=(n=e.schemaUrl)!==null&&n!==void 0?n:"",r}},On={encode(e,t=H.Writer.create()){if(e.instrumentationLibrary!==void 0&&gn.encode(e.instrumentationLibrary,t.uint32(10).fork()).ldelim(),e.logRecords!==void 0&&e.logRecords.length!==0)for(let n of e.logRecords)rt.encode(n,t.uint32(18).fork()).ldelim();return e.schemaUrl!==void 0&&e.schemaUrl!==""&&t.uint32(26).string(e.schemaUrl),t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o={instrumentationLibrary:void 0,logRecords:[],schemaUrl:""};for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;o.instrumentationLibrary=gn.decode(n,n.uint32());continue;case 2:if(i!==18)break;o.logRecords.push(rt.decode(n,n.uint32()));continue;case 3:if(i!==26)break;o.schemaUrl=n.string();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({instrumentationLibrary:Me(e.instrumentationLibrary)?gn.fromJSON(e.instrumentationLibrary):void 0,logRecords:globalThis.Array.isArray(e?.logRecords)?e.logRecords.map(t=>rt.fromJSON(t)):[],schemaUrl:Me(e.schemaUrl)?globalThis.String(e.schemaUrl):""}),toJSON(e){var t;let n={};return e.instrumentationLibrary!==void 0&&(n.instrumentationLibrary=gn.toJSON(e.instrumentationLibrary)),!((t=e.logRecords)===null||t===void 0)&&t.length&&(n.logRecords=e.logRecords.map(r=>rt.toJSON(r))),e.schemaUrl!==void 0&&e.schemaUrl!==""&&(n.schemaUrl=e.schemaUrl),n},create:e=>On.fromPartial(e??{}),fromPartial(e){var t,n;let r={instrumentationLibrary:void 0,logRecords:[],schemaUrl:""};return r.instrumentationLibrary=e.instrumentationLibrary!==void 0&&e.instrumentationLibrary!==null?gn.fromPartial(e.instrumentationLibrary):void 0,r.logRecords=((t=e.logRecords)===null||t===void 0?void 0:t.map(o=>rt.fromPartial(o)))||[],r.schemaUrl=(n=e.schemaUrl)!==null&&n!==void 0?n:"",r}};function Zu(){return{timeUnixNano:0,observedTimeUnixNano:0,severityNumber:0,severityText:"",body:void 0,attributes:[],droppedAttributesCount:0,flags:0,traceId:new Uint8Array(0),spanId:new Uint8Array(0)}}let rt={encode(e,t=H.Writer.create()){if(e.timeUnixNano!==void 0&&e.timeUnixNano!==0&&t.uint32(9).fixed64(e.timeUnixNano),e.observedTimeUnixNano!==void 0&&e.observedTimeUnixNano!==0&&t.uint32(89).fixed64(e.observedTimeUnixNano),e.severityNumber!==void 0&&e.severityNumber!==0&&t.uint32(16).int32(e.severityNumber),e.severityText!==void 0&&e.severityText!==""&&t.uint32(26).string(e.severityText),e.body!==void 0&&Le.encode(e.body,t.uint32(42).fork()).ldelim(),e.attributes!==void 0&&e.attributes.length!==0)for(let n of e.attributes)Ie.encode(n,t.uint32(50).fork()).ldelim();return e.droppedAttributesCount!==void 0&&e.droppedAttributesCount!==0&&t.uint32(56).uint32(e.droppedAttributesCount),e.flags!==void 0&&e.flags!==0&&t.uint32(69).fixed32(e.flags),e.traceId!==void 0&&e.traceId.length!==0&&t.uint32(74).bytes(e.traceId),e.spanId!==void 0&&e.spanId.length!==0&&t.uint32(82).bytes(e.spanId),t},decode(e,t){let n=e instanceof H.Reader?e:H.Reader.create(e),r=t===void 0?n.len:n.pos+t,o=Zu();for(;n.pos<r;){let i=n.uint32();switch(i>>>3){case 1:if(i!==9)break;o.timeUnixNano=ec(n.fixed64());continue;case 11:if(i!==89)break;o.observedTimeUnixNano=ec(n.fixed64());continue;case 2:if(i!==16)break;o.severityNumber=n.int32();continue;case 3:if(i!==26)break;o.severityText=n.string();continue;case 5:if(i!==42)break;o.body=Le.decode(n,n.uint32());continue;case 6:if(i!==50)break;o.attributes.push(Ie.decode(n,n.uint32()));continue;case 7:if(i!==56)break;o.droppedAttributesCount=n.uint32();continue;case 8:if(i!==69)break;o.flags=n.fixed32();continue;case 9:if(i!==74)break;o.traceId=n.bytes();continue;case 10:if(i!==82)break;o.spanId=n.bytes();continue}if((7&i)==4||i===0)break;n.skipType(7&i)}return o},fromJSON:e=>({timeUnixNano:Me(e.timeUnixNano)?globalThis.Number(e.timeUnixNano):0,observedTimeUnixNano:Me(e.observedTimeUnixNano)?globalThis.Number(e.observedTimeUnixNano):0,severityNumber:Me(e.severityNumber)?rh(e.severityNumber):0,severityText:Me(e.severityText)?globalThis.String(e.severityText):"",body:Me(e.body)?Le.fromJSON(e.body):void 0,attributes:globalThis.Array.isArray(e?.attributes)?e.attributes.map(t=>Ie.fromJSON(t)):[],droppedAttributesCount:Me(e.droppedAttributesCount)?globalThis.Number(e.droppedAttributesCount):0,flags:Me(e.flags)?globalThis.Number(e.flags):0,traceId:Me(e.traceId)?$u(e.traceId):new Uint8Array(0),spanId:Me(e.spanId)?$u(e.spanId):new Uint8Array(0)}),toJSON(e){var t;let n={};return e.timeUnixNano!==void 0&&e.timeUnixNano!==0&&(n.timeUnixNano=Math.round(e.timeUnixNano)),e.observedTimeUnixNano!==void 0&&e.observedTimeUnixNano!==0&&(n.observedTimeUnixNano=Math.round(e.observedTimeUnixNano)),e.severityNumber!==void 0&&e.severityNumber!==0&&(n.severityNumber=function(r){switch(r){case M.SEVERITY_NUMBER_UNSPECIFIED:return"SEVERITY_NUMBER_UNSPECIFIED";case M.SEVERITY_NUMBER_TRACE:return"SEVERITY_NUMBER_TRACE";case M.SEVERITY_NUMBER_TRACE2:return"SEVERITY_NUMBER_TRACE2";case M.SEVERITY_NUMBER_TRACE3:return"SEVERITY_NUMBER_TRACE3";case M.SEVERITY_NUMBER_TRACE4:return"SEVERITY_NUMBER_TRACE4";case M.SEVERITY_NUMBER_DEBUG:return"SEVERITY_NUMBER_DEBUG";case M.SEVERITY_NUMBER_DEBUG2:return"SEVERITY_NUMBER_DEBUG2";case M.SEVERITY_NUMBER_DEBUG3:return"SEVERITY_NUMBER_DEBUG3";case M.SEVERITY_NUMBER_DEBUG4:return"SEVERITY_NUMBER_DEBUG4";case M.SEVERITY_NUMBER_INFO:return"SEVERITY_NUMBER_INFO";case M.SEVERITY_NUMBER_INFO2:return"SEVERITY_NUMBER_INFO2";case M.SEVERITY_NUMBER_INFO3:return"SEVERITY_NUMBER_INFO3";case M.SEVERITY_NUMBER_INFO4:return"SEVERITY_NUMBER_INFO4";case M.SEVERITY_NUMBER_WARN:return"SEVERITY_NUMBER_WARN";case M.SEVERITY_NUMBER_WARN2:return"SEVERITY_NUMBER_WARN2";case M.SEVERITY_NUMBER_WARN3:return"SEVERITY_NUMBER_WARN3";case M.SEVERITY_NUMBER_WARN4:return"SEVERITY_NUMBER_WARN4";case M.SEVERITY_NUMBER_ERROR:return"SEVERITY_NUMBER_ERROR";case M.SEVERITY_NUMBER_ERROR2:return"SEVERITY_NUMBER_ERROR2";case M.SEVERITY_NUMBER_ERROR3:return"SEVERITY_NUMBER_ERROR3";case M.SEVERITY_NUMBER_ERROR4:return"SEVERITY_NUMBER_ERROR4";case M.SEVERITY_NUMBER_FATAL:return"SEVERITY_NUMBER_FATAL";case M.SEVERITY_NUMBER_FATAL2:return"SEVERITY_NUMBER_FATAL2";case M.SEVERITY_NUMBER_FATAL3:return"SEVERITY_NUMBER_FATAL3";case M.SEVERITY_NUMBER_FATAL4:return"SEVERITY_NUMBER_FATAL4";case M.UNRECOGNIZED:default:return"UNRECOGNIZED"}}(e.severityNumber)),e.severityText!==void 0&&e.severityText!==""&&(n.severityText=e.severityText),e.body!==void 0&&(n.body=Le.toJSON(e.body)),!((t=e.attributes)===null||t===void 0)&&t.length&&(n.attributes=e.attributes.map(r=>Ie.toJSON(r))),e.droppedAttributesCount!==void 0&&e.droppedAttributesCount!==0&&(n.droppedAttributesCount=Math.round(e.droppedAttributesCount)),e.flags!==void 0&&e.flags!==0&&(n.flags=Math.round(e.flags)),e.traceId!==void 0&&e.traceId.length!==0&&(n.traceId=Qu(e.traceId)),e.spanId!==void 0&&e.spanId.length!==0&&(n.spanId=Qu(e.spanId)),n},create:e=>rt.fromPartial(e??{}),fromPartial(e){var t,n,r,o,i,a,s,u,c;let l=Zu();return l.timeUnixNano=(t=e.timeUnixNano)!==null&&t!==void 0?t:0,l.observedTimeUnixNano=(n=e.observedTimeUnixNano)!==null&&n!==void 0?n:0,l.severityNumber=(r=e.severityNumber)!==null&&r!==void 0?r:0,l.severityText=(o=e.severityText)!==null&&o!==void 0?o:"",l.body=e.body!==void 0&&e.body!==null?Le.fromPartial(e.body):void 0,l.attributes=((i=e.attributes)===null||i===void 0?void 0:i.map(p=>Ie.fromPartial(p)))||[],l.droppedAttributesCount=(a=e.droppedAttributesCount)!==null&&a!==void 0?a:0,l.flags=(s=e.flags)!==null&&s!==void 0?s:0,l.traceId=(u=e.traceId)!==null&&u!==void 0?u:new Uint8Array(0),l.spanId=(c=e.spanId)!==null&&c!==void 0?c:new Uint8Array(0),l}};function $u(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}}function Qu(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(n=>{t.push(globalThis.String.fromCharCode(n))}),globalThis.btoa(t.join(""))}}function ec(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Me(e){return e!=null}H.util.Long!==ee&&(H.util.Long=ee,H.configure());let tc="0.16.2-17",nc={"Content-Type":"application/x-protobuf","Content-Encoding":"gzip"},oh=Ku;function rc(e){return Array.isArray(e)}function pr(e){return function(t){return!!t&&typeof t=="object"&&!rc(t)}(e)?{kvlistValue:{values:Object.entries(e).map(([t,n])=>({key:t,value:pr(n)}))}}:rc(e)?{arrayValue:{values:e.map(t=>pr(t))}}:typeof e=="string"?{stringValue:e}:typeof e=="number"?{doubleValue:e}:typeof e=="boolean"?{boolValue:e}:{}}class ih{constructor(t){this.config=t}constructLogData(t){var n,r,o;return{resourceLogs:[{resource:{attributes:(o=(r=pr(((n=this.config.resource)===null||n===void 0?void 0:n.attributes)||{}))===null||r===void 0?void 0:r.kvlistValue)===null||o===void 0?void 0:o.values},scopeLogs:[{scope:{name:"rum.rr-web",version:tc},logRecords:t.map(i=>{var a;return{body:pr(i.body),timeUnixNano:1e6*i.timeUnixNano,attributes:(a=pr(i.attributes||{}).kvlistValue)===null||a===void 0?void 0:a.values}})}]}]}}export(t){if(t.length===0)return;let n=this.constructLogData(t);this.config.debug&&console.log("otlp request",n);let r=Vf(oh.encode(n).finish()),o=this.config.headers?Object.assign({},nc,this.config.headers):nc;fetch(this.config.beaconUrl,{method:"POST",body:r,headers:o}).catch(()=>{})}}class ah{constructor(t,n){this.logs=[],this.scheduledDelayMillis=n?.scheduledDelayMillis||5e3,this.exporter=t,window.addEventListener("unload",()=>{this._flushAll()})}onLog(t){this.logs.push(t),this.timeout===void 0&&(this.timeout=setTimeout(()=>{this.timeout=void 0,this._flushAll()},this.scheduledDelayMillis))}_flushAll(){this.lastBatchSent=Date.now(),V.with(br(V.active()),()=>{let t=this.logs.splice(0,this.logs.length);this.exporter.export(t)})}}function sh(e,t,n){return{body:e,timeUnixNano:t,attributes:n}}class uh{constructor(t,n={}){var r,o;this.rrweb=t,this.options=n,this.bucketSize=100,this.refillRate=10,this.mutationBuckets={},this.loggedTracker={},this.refillBuckets=()=>{Object.keys(this.mutationBuckets).forEach(i=>{this.mutationBuckets[i]=this.mutationBuckets[i]+this.refillRate,this.mutationBuckets[i]>=this.bucketSize&&delete this.mutationBuckets[i]})},this.getNodeOrRelevantParent=i=>{let a=this.rrweb.mirror.getNode(i);if(a?.nodeName!=="svg"&&a instanceof Element){let s=a.closest("svg");if(s)return[this.rrweb.mirror.getId(s),s]}return[i,a]},this.numberOfChanges=i=>{var a,s,u,c,l,p,d,f;return((s=(a=i.removes)===null||a===void 0?void 0:a.length)!==null&&s!==void 0?s:0)+((c=(u=i.attributes)===null||u===void 0?void 0:u.length)!==null&&c!==void 0?c:0)+((p=(l=i.texts)===null||l===void 0?void 0:l.length)!==null&&p!==void 0?p:0)+((f=(d=i.adds)===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0)},this.throttleMutations=i=>{if(i.type!==3||i.data.source!==0)return i;let a=i.data,s=this.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(c=>{var l,p,d;let[f,v]=this.getNodeOrRelevantParent(c.id);return this.mutationBuckets[f]!==0&&(this.mutationBuckets[f]=(l=this.mutationBuckets[f])!==null&&l!==void 0?l:this.bucketSize,this.mutationBuckets[f]=Math.max(this.mutationBuckets[f]-1,0),this.mutationBuckets[f]===0&&(this.loggedTracker[f]||(this.loggedTracker[f]=!0,(d=(p=this.options).onBlockedNode)===null||d===void 0||d.call(p,f,v))),c)}));let u=this.numberOfChanges(a);return u!==0||s===u?i:void 0},this.refillRate=(r=this.options.refillRate)!==null&&r!==void 0?r:this.refillRate,this.bucketSize=(o=this.options.bucketSize)!==null&&o!==void 0?o:this.bucketSize,setInterval(()=>{this.refillBuckets()},1e3)}}var ch=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};let ki=972800,lh=new TextEncoder,ph=new TextDecoder,dr,xi,fr,oc,Mt=!1,Di=0,hr=!1,ic=1,ac=1,dh={get inited(){return!!Mt},init(e){if(Mt)return;if(typeof window>"u")return void console.error("Session recorder can't be ran in non-browser environments");let t=K.getTracerProvider();if(t&&"getDelegate"in t&&(t=t.getDelegate()),!t?.resource)return void console.error("RUM OTEL Web must be inited before recorder.");let n=t.resource,{apiKey:r,url:o,debug:i}=e,a=ch(e,["apiKey","url","debug"]);dr=K.getTracer("rum.rr-web",tc);let s=dr.startSpan("record init");if(!s.isRecording())return;s.end();let u=o??"https://in-otel.hyperdx.io/v1/logs",c={};r&&(c.authorization=`${r}`);let l=new ih({beaconUrl:u,debug:i,headers:c,resource:n}),p=new ah(l,{});xi=n.attributes["rum.sessionId"],Di=Date.now(),fr=fr??new uh(Tt,{onBlockedNode:(d,f)=>{let v=`OpenTelemetry Session Recorder: Rate limiting recording mutations on node ${d}. This can be due to excessive animations.`,T=Date.now(),y=dr.startSpan("console.warn",{kind:je.INTERNAL,startTime:T});y.setAttribute("component","console"),y.setAttribute("level","warn"),y.setAttribute("message",v),y.end(T),i&&console.warn(v,f),clearTimeout(oc),oc=setTimeout(()=>{Tt.takeFullSnapshot()},1e3)}}),Mt=Tt(Object.assign(Object.assign({maskAllInputs:!0,maskTextSelector:"*"},a),{emit(d){if(hr)return;if(n.attributes["rum.sessionId"]!==xi){if(document.hidden)return;xi=n.attributes["rum.sessionId"],Di=Date.now(),ic=1,ac=1,Tt.takeFullSnapshot()}if(d.timestamp>Di+1446e4)return;let f=fr?fr.throttleMutations(d):d;if(!f)return;let v=f.timestamp,T=ic++,y=lh.encode(function(w){if(w.length>5e6){let h=/data:([\w/\-.]+);(\w+),([^)"]*)/gim,_=w.matchAll(h);for(let S of _)w=S[1].toLocaleLowerCase().slice(0,6)==="image/"?w.replace(S[0],"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg=="):w.replace(S[0],"")}return w}(JSON.stringify(f))),g=Math.ceil(y.byteLength/ki);for(let w=0;w<g;w++){let h=w*ki,_=(w+1)*ki,S=sh(ph.decode(y.slice(h,_)),v,{"rr-web.offset":ac++,"rr-web.event":T,"rr-web.chunk":w+1,"rr-web.total-chunks":g});i&&console.log(S),p.onLog(S)}}}))},resume(){if(!Mt)return;let e=hr;hr=!1,e||(Tt.takeFullSnapshot(),dr.startSpan("record resume").end())},stop(){Mt&&(hr&&dr.startSpan("record stop").end(),hr=!0)},deinit(){Mt&&(Mt(),Mt=!1)}};function Ui(){return typeof window<"u"}var fh=new class{constructor(){this._advancedNetworkCapture=!1}init({advancedNetworkCapture:e=!1,apiKey:t,blockClass:n,captureConsole:r,consoleCapture:o,debug:i=!1,disableIntercom:a=!1,disableReplay:s=!1,ignoreClass:u,instrumentations:c={},maskAllInputs:l=!0,maskAllText:p=!1,maskClass:d,service:f,tracePropagationTargets:v,url:T}){var y;if(!Ui())return;t==null?console.warn("HyperDX: Missing apiKey, telemetry will not be saved."):t===""?console.warn("HyperDX: apiKey is empty string, telemetry will not be saved."):typeof t!="string"&&console.warn("HyperDX: apiKey must be a string, telemetry will not be saved.");let g=T??"https://in-otel.hyperdx.io";this._advancedNetworkCapture=e,Yt.init({debug:i,url:`${g}/v1/traces`,allowInsecureUrl:!0,apiKey:t,app:f,instrumentations:{visibility:!0,console:(y=r??o)!==null&&y!==void 0&&y,fetch:{...v!=null?{propagateTraceHeaderCorsUrls:v}:{},advancedNetworkCapture:()=>this._advancedNetworkCapture},xhr:{...v!=null?{propagateTraceHeaderCorsUrls:v}:{},advancedNetworkCapture:()=>this._advancedNetworkCapture},...c}}),s!==!0&&dh.init({debug:i,url:`${g}/v1/logs`,apiKey:t,maskTextSelector:p?"*":void 0,maskAllInputs:l,blockClass:n,ignoreClass:u,maskTextClass:d});let w=ml.trace.getTracer("@hyperdx/browser");var h;a!==!0&&(h="Intercom",new Promise((_,S)=>{let O=0,E=setInterval(()=>{O>20&&(clearInterval(E),S(new Error(`Global ${h} not found`))),window[h]&&(clearInterval(E),_(window[h])),O++},100)})).then(()=>{window.Intercom("onShow",()=>{let _=this.getSessionUrl();if(_!=null){let S={hyperdxSessionUrl:_};window.Intercom("update",S),window.Intercom("trackEvent","HyperDX",S);let O=Date.now(),E=w.startSpan("intercom.onShow",{startTime:O});E.setAttribute("component","intercom"),E.end(O)}})}).catch(()=>{})}addAction(e,t){Ui()&&Yt.addAction(e,t)}enableAdvancedNetworkCapture(){this._advancedNetworkCapture=!0}disableAdvancedNetworkCapture(){this._advancedNetworkCapture=!1}setGlobalAttributes(e){Ui()&&Yt.setGlobalAttributes(e)}getSessionUrl(){let e=Date.now(),t=144e5,n=e-t,r=e+t;return Yt.inited?`https://www.hyperdx.io/sessions?q=process.tag.rum.sessionId%3A"${Yt.getSessionId()}"&sid=${Yt.getSessionId()}&sfrom=${n}&sto=${r}&ts=${e}`:void 0}};return fh})});var kt={};kh(kt,{AlwaysOff:()=>xh,AlwaysOn:()=>Dh,COMPONENT:()=>Ev,CONNECT_END:()=>jh,CONNECT_START:()=>Hh,CustomEvent:()=>Vv,DECODED_BODY_SIZE:()=>Gh,DOCUMENT_FETCH:()=>lv,DOCUMENT_LOAD:()=>cv,DOMAIN_LOOKUP_END:()=>qh,DOMAIN_LOOKUP_START:()=>Jh,DOM_COMPLETE:()=>Yh,DOM_CONTENT_LOADED_EVENT_END:()=>zh,DOM_CONTENT_LOADED_EVENT_START:()=>Wh,DOM_INTERACTIVE:()=>Xh,ENCODED_BODY_SIZE:()=>Kh,EVENT_ABORT:()=>Sv,EVENT_ERROR:()=>Ov,EVENT_LOAD:()=>Rv,EVENT_TIMEOUT:()=>wv,EVENT_TYPE:()=>hv,EventCast:()=>Bv,FETCH_START:()=>Zh,FIRST_CONTENTFUL_PAINT:()=>fv,FIRST_PAINT:()=>dv,Finish:()=>Iv,Flush:()=>Fv,FullsnapshotRebuilded:()=>Pv,HTTP_ERROR_NAME:()=>gv,HTTP_STATUS_TEXT:()=>yv,HTTP_URL:()=>_v,LOAD_EVENT_END:()=>$h,LOAD_EVENT_START:()=>Qh,LoadStylesheetEnd:()=>kv,LoadStylesheetStart:()=>Mv,METHOD_OPEN:()=>bv,METHOD_SEND:()=>Tv,MouseInteraction:()=>Uv,NAVIGATION_START:()=>ev,ParentBasedAlwaysOff:()=>Uh,ParentBasedAlwaysOn:()=>Bh,ParentBasedTraceIdRatio:()=>Vh,Pause:()=>Nv,PlayBack:()=>Hv,REDIRECT_END:()=>tv,REDIRECT_START:()=>nv,REQUEST_START:()=>rv,RESOURCE_FETCH:()=>pv,RESPONSE_END:()=>ov,RESPONSE_START:()=>iv,Resize:()=>Lv,Resume:()=>Cv,SECURE_CONNECTION_START:()=>av,Service:()=>Gv,SkipEnd:()=>Dv,SkipStart:()=>xv,Start:()=>Av,StateChange:()=>jv,TARGET_ELEMENT:()=>vv,TARGET_XPATH:()=>mv,TraceIdRatio:()=>Fh,UNLOAD_EVENT_END:()=>sv,UNLOAD_EVENT_START:()=>uv,default:()=>zv});var gc=_c(Gi());Zt(kt,_c(Gi()));var{AlwaysOff:xh,AlwaysOn:Dh,ParentBasedAlwaysOff:Uh,ParentBasedAlwaysOn:Bh,ParentBasedTraceIdRatio:Vh,TraceIdRatio:Fh,CONNECT_END:jh,CONNECT_START:Hh,DECODED_BODY_SIZE:Gh,DOM_COMPLETE:Yh,DOM_CONTENT_LOADED_EVENT_END:zh,DOM_CONTENT_LOADED_EVENT_START:Wh,DOM_INTERACTIVE:Xh,DOMAIN_LOOKUP_END:qh,DOMAIN_LOOKUP_START:Jh,ENCODED_BODY_SIZE:Kh,FETCH_START:Zh,LOAD_EVENT_END:$h,LOAD_EVENT_START:Qh,NAVIGATION_START:ev,REDIRECT_END:tv,REDIRECT_START:nv,REQUEST_START:rv,RESPONSE_END:ov,RESPONSE_START:iv,SECURE_CONNECTION_START:av,UNLOAD_EVENT_END:sv,UNLOAD_EVENT_START:uv,DOCUMENT_LOAD:cv,DOCUMENT_FETCH:lv,RESOURCE_FETCH:pv,FIRST_PAINT:dv,FIRST_CONTENTFUL_PAINT:fv,EVENT_TYPE:hv,TARGET_ELEMENT:vv,TARGET_XPATH:mv,HTTP_URL:_v,COMPONENT:Ev,HTTP_ERROR_NAME:gv,HTTP_STATUS_TEXT:yv,METHOD_OPEN:bv,METHOD_SEND:Tv,EVENT_ABORT:Sv,EVENT_ERROR:Ov,EVENT_LOAD:Rv,EVENT_TIMEOUT:wv,Start:Av,Pause:Nv,Resume:Cv,Resize:Lv,Finish:Iv,FullsnapshotRebuilded:Pv,LoadStylesheetStart:Mv,LoadStylesheetEnd:kv,SkipStart:xv,SkipEnd:Dv,MouseInteraction:Uv,EventCast:Bv,CustomEvent:Vv,Flush:Fv,StateChange:jv,PlayBack:Hv,Service:Gv}=gc,{default:Ec,...Yv}=gc,zv=Ec!==void 0?Ec:Yv;export{xh as AlwaysOff,Dh as AlwaysOn,Ev as COMPONENT,jh as CONNECT_END,Hh as CONNECT_START,Vv as CustomEvent,Gh as DECODED_BODY_SIZE,lv as DOCUMENT_FETCH,cv as DOCUMENT_LOAD,qh as DOMAIN_LOOKUP_END,Jh as DOMAIN_LOOKUP_START,Yh as DOM_COMPLETE,zh as DOM_CONTENT_LOADED_EVENT_END,Wh as DOM_CONTENT_LOADED_EVENT_START,Xh as DOM_INTERACTIVE,Kh as ENCODED_BODY_SIZE,Sv as EVENT_ABORT,Ov as EVENT_ERROR,Rv as EVENT_LOAD,wv as EVENT_TIMEOUT,hv as EVENT_TYPE,Bv as EventCast,Zh as FETCH_START,fv as FIRST_CONTENTFUL_PAINT,dv as FIRST_PAINT,Iv as Finish,Fv as Flush,Pv as FullsnapshotRebuilded,gv as HTTP_ERROR_NAME,yv as HTTP_STATUS_TEXT,_v as HTTP_URL,$h as LOAD_EVENT_END,Qh as LOAD_EVENT_START,kv as LoadStylesheetEnd,Mv as LoadStylesheetStart,bv as METHOD_OPEN,Tv as METHOD_SEND,Uv as MouseInteraction,ev as NAVIGATION_START,Uh as ParentBasedAlwaysOff,Bh as ParentBasedAlwaysOn,Vh as ParentBasedTraceIdRatio,Nv as Pause,Hv as PlayBack,tv as REDIRECT_END,nv as REDIRECT_START,rv as REQUEST_START,pv as RESOURCE_FETCH,ov as RESPONSE_END,iv as RESPONSE_START,Lv as Resize,Cv as Resume,av as SECURE_CONNECTION_START,Gv as Service,Dv as SkipEnd,xv as SkipStart,Av as Start,jv as StateChange,vv as TARGET_ELEMENT,mv as TARGET_XPATH,Fh as TraceIdRatio,sv as UNLOAD_EVENT_END,uv as UNLOAD_EVENT_START,zv as default};
/*! Bundled license information:

@hyperdx/browser/build/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)
  (**
       * @license
       * Copyright 2009 The Closure Library Authors
       * Copyright 2020 Daniel Wirtz / The long.js Authors.
       *
       * Licensed under the Apache License, Version 2.0 (the "License");
       * you may not use this file except in compliance with the License.
       * You may obtain a copy of the License at
       *
       *     http://www.apache.org/licenses/LICENSE-2.0
       *
       * Unless required by applicable law or agreed to in writing, software
       * distributed under the License is distributed on an "AS IS" BASIS,
       * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       * See the License for the specific language governing permissions and
       * limitations under the License.
       *
       * SPDX-License-Identifier: Apache-2.0
       *)
*/
//# sourceMappingURL=browser.mjs.map