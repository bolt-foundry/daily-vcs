/* esm.sh - esbuild bundle(mdast-util-mdx-jsx@3.0.0) denonext production */
import{ccount as z}from"/v135/ccount@2.0.1/denonext/ccount.mjs";import{ok as n}from"/v135/devlop@1.1.0/denonext/devlop.mjs";import{parseEntities as q}from"/v135/parse-entities@4.0.1/denonext/parse-entities.mjs";import{stringifyEntitiesLight as U}from"/v135/stringify-entities@4.0.3/denonext/stringify-entities.mjs";import{stringifyPosition as S}from"/v135/unist-util-stringify-position@4.0.0/denonext/unist-util-stringify-position.mjs";import{VFileMessage as F}from"/v135/vfile-message@4.0.2/denonext/vfile-message.mjs";var I="  ";function _(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:o,mdxJsxFlowTagClosingMarker:c,mdxJsxFlowTagAttribute:d,mdxJsxFlowTagExpressionAttribute:h,mdxJsxFlowTagAttributeValueLiteral:r,mdxJsxFlowTagAttributeValueExpression:r,mdxJsxFlowTagSelfClosingMarker:f,mdxJsxTextTag:o,mdxJsxTextTagClosingMarker:c,mdxJsxTextTagAttribute:d,mdxJsxTextTagExpressionAttribute:h,mdxJsxTextTagAttributeValueLiteral:r,mdxJsxTextTagAttributeValueExpression:r,mdxJsxTextTagSelfClosingMarker:f},exit:{mdxJsxFlowTagClosingMarker:w,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:a,mdxJsxFlowTagNameLocal:A,mdxJsxFlowTagExpressionAttribute:J,mdxJsxFlowTagExpressionAttributeValue:i,mdxJsxFlowTagAttributeNamePrimary:p,mdxJsxFlowTagAttributeNameLocal:k,mdxJsxFlowTagAttributeValueLiteral:g,mdxJsxFlowTagAttributeValueLiteralValue:i,mdxJsxFlowTagAttributeValueExpression:M,mdxJsxFlowTagAttributeValueExpressionValue:i,mdxJsxFlowTagSelfClosingMarker:y,mdxJsxFlowTag:T,mdxJsxTextTagClosingMarker:w,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:a,mdxJsxTextTagNameLocal:A,mdxJsxTextTagExpressionAttribute:J,mdxJsxTextTagExpressionAttributeValue:i,mdxJsxTextTagAttributeNamePrimary:p,mdxJsxTextTagAttributeNameLocal:k,mdxJsxTextTagAttributeValueLiteral:g,mdxJsxTextTagAttributeValueLiteralValue:i,mdxJsxTextTagAttributeValueExpression:M,mdxJsxTextTagAttributeValueExpressionValue:i,mdxJsxTextTagSelfClosingMarker:y,mdxJsxTextTag:T}};function r(){this.buffer()}function i(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function o(e){let t={name:void 0,attributes:[],close:!1,selfClosing:!1,start:e.start,end:e.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=t,this.buffer()}function c(e){let t=this.data.mdxJsxTagStack;if(n(t,"expected `mdxJsxTagStack`"),t.length===0)throw new F("Unexpected closing slash `/` in tag, expected an open tag first",{start:e.start,end:e.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function u(e){let t=this.data.mdxJsxTag;if(n(t,"expected `mdxJsxTag`"),t.close)throw new F("Unexpected attribute in closing tag, expected the end of the tag",{start:e.start,end:e.end},"mdast-util-mdx-jsx:unexpected-attribute")}function f(e){let t=this.data.mdxJsxTag;if(n(t,"expected `mdxJsxTag`"),t.close)throw new F("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:e.start,end:e.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function w(){let e=this.data.mdxJsxTag;n(e,"expected `mdxJsxTag`"),e.close=!0}function l(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`"),t.name=this.sliceSerialize(e)}function a(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`"),t.name+="."+this.sliceSerialize(e)}function A(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`"),t.name+=":"+this.sliceSerialize(e)}function d(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`"),u.call(this,e),t.attributes.push({type:"mdxJsxAttribute",name:"",value:null})}function h(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`"),u.call(this,e),t.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function J(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`");let s=t.attributes[t.attributes.length-1];n(s.type==="mdxJsxExpressionAttribute");let x=e.estree;s.value=this.resume(),x&&(s.data={estree:x})}function p(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`");let s=t.attributes[t.attributes.length-1];n(s.type==="mdxJsxAttribute"),s.name=this.sliceSerialize(e)}function k(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`");let s=t.attributes[t.attributes.length-1];n(s.type==="mdxJsxAttribute"),s.name+=":"+this.sliceSerialize(e)}function g(){let e=this.data.mdxJsxTag;n(e,"expected `mdxJsxTag`"),e.attributes[e.attributes.length-1].value=q(this.resume(),{nonTerminated:!1})}function M(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`");let s=t.attributes[t.attributes.length-1];n(s.type==="mdxJsxAttribute");let x={type:"mdxJsxAttributeValueExpression",value:this.resume()},m=e.estree;m&&(x.data={estree:m}),s.value=x}function y(){let e=this.data.mdxJsxTag;n(e,"expected `mdxJsxTag`"),e.selfClosing=!0}function T(e){let t=this.data.mdxJsxTag;n(t,"expected `mdxJsxTag`");let s=this.data.mdxJsxTagStack;n(s,"expected `mdxJsxTagStack`");let x=s[s.length-1];if(t.close&&x.name!==t.name)throw new F("Unexpected closing tag `"+b(t)+"`, expected corresponding closing tag for `"+b(x)+"` ("+S(x)+")",{start:e.start,end:e.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),t.close?s.pop():this.enter({type:e.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:t.name||null,attributes:t.attributes,children:[]},e,v),t.selfClosing||t.close?this.exit(e,V):s.push(t)}function v(e,t){let s=this.data.mdxJsxTag;n(s,"expected `mdxJsxTag`");let x=e?" before the end of `"+e.type+"`":"",m=e?{start:e.start,end:e.end}:void 0;throw new F("Expected a closing tag for `"+b(s)+"` ("+S({start:t.start,end:t.end})+")"+x,m,"mdast-util-mdx-jsx:end-tag-mismatch")}function V(e,t){let s=this.data.mdxJsxTag;throw n(s,"expected `mdxJsxTag`"),new F("Expected the closing tag `"+b(s)+"` either after the end of `"+t.type+"` ("+S(t.end)+") or another opening tag after the start of `"+t.type+"` ("+S(t.start)+")",{start:e.start,end:e.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function b(e){return"<"+(e.close?"/":"")+(e.name||"")+">"}}function W(r){let i=r||{},o=i.quote||'"',c=i.quoteSmart||!1,u=i.tightSelfClosing||!1,f=i.printWidth||Number.POSITIVE_INFINITY,w=o==='"'?"'":'"';if(o!=='"'&&o!=="'")throw new Error("Cannot serialize attribute values with `"+o+"` for `options.quote`, expected `\"`, or `'`");return l.peek=D,{handlers:{mdxJsxFlowElement:l,mdxJsxTextElement:l},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function l(a,A,d,h){let J=a.type==="mdxJsxFlowElement",p=a.name?!a.children||a.children.length===0:!1,k=j(d),g=P(k),M=d.createTracker(h),y=d.createTracker(h),T=[],v=(J?g:"")+"<"+(a.name||""),V=d.enter(a.type);if(M.move(v),y.move(v),a.attributes&&a.attributes.length>0){if(!a.name)throw new Error("Cannot serialize fragment w/ attributes");let x=-1;for(;++x<a.attributes.length;){let m=a.attributes[x],L;if(m.type==="mdxJsxExpressionAttribute")L="{"+(m.value||"")+"}";else{if(!m.name)throw new Error("Cannot serialize attribute w/o name");let E=m.value,O=m.name,C="";if(E!=null)if(typeof E=="object")C="{"+(E.value||"")+"}";else{let N=c&&z(E,o)>z(E,w)?w:o;C=N+U(E,{subset:[N]})+N}L=O+(C?"=":"")+C}T.push(L)}}let b=!1,e=T.join(" ");J&&(/\r?\n|\r/.test(e)||M.current().now.column+e.length+(p?u?2:3:1)>f)&&(b=!0);let t=M,s=v;if(b){t=y;let x=-1;for(;++x<T.length;)T[x]=g+I+T[x];s+=t.move(`
`+T.join(`
`)+`
`+g)}else e&&(s+=t.move(" "+e));return p&&(s+=t.move((u||b?"":" ")+"/")),s+=t.move(">"),a.children&&a.children.length>0&&(a.type==="mdxJsxTextElement"?s+=t.move(d.containerPhrasing(a,{...t.current(),before:">",after:"<"})):(t.shift(2),s+=t.move(`
`),s+=t.move(B(a,d,t.current())),s+=t.move(`
`))),p||(s+=t.move((J?g:"")+"</"+(a.name||"")+">")),V(),s}}function B(r,i,o){let c=i.indexStack,u=r.children,f=i.createTracker(o),w=P(j(i)),l=[],a=-1;for(c.push(-1);++a<u.length;){let A=u[a];c[c.length-1]=a;let d={before:`
`,after:`
`,...f.current()},h=i.handle(A,r,i,d),J=A.type==="mdxJsxFlowElement"?h:i.indentLines(h,function(p,k,g){return(g?"":w)+p});l.push(f.move(J)),A.type!=="list"&&(i.bulletLastUsed=void 0),a<u.length-1&&l.push(f.move(`

`))}return c.pop(),l.join("")}function j(r){let i=0;for(let o of r.stack)o==="mdxJsxFlowElement"&&i++;return i}function P(r){return I.repeat(r)}function D(){return"<"}export{_ as mdxJsxFromMarkdown,W as mdxJsxToMarkdown};
//# sourceMappingURL=mdast-util-mdx-jsx.mjs.map