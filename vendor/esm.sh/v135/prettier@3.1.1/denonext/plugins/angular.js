/* esm.sh - esbuild bundle(prettier@3.1.1/plugins/angular) denonext production */
var Me=Object.defineProperty,oe=(e,t)=>{for(var s in t)Me(e,s,{get:t[s],enumerable:!0})},he={};oe(he,{parsers:()=>ue});var ue={};oe(ue,{__ng_action:()=>Nt,__ng_binding:()=>Lt,__ng_directive:()=>Tt,__ng_interpolation:()=>$t});var D=class{constructor(e,t,s,r){this.input=t,this.errLocation=s,this.ctxLocation=r,this.message=`Parser Error: ${e} ${s} [${t}] in ${r}`}},B=class{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new K(e+this.start,e+this.end)}},w=class{constructor(e,t){this.span=e,this.sourceSpan=t}toString(){return"AST"}},G=class extends w{constructor(e,t,s){super(e,t),this.nameSpan=s}},O=class extends w{visit(e,t=null){}},U=class extends w{visit(e,t=null){return e.visitImplicitReceiver(this,t)}},Re=class extends U{visit(e,t=null){var s;return(s=e.visitThisReceiver)==null?void 0:s.call(e,this,t)}},le=class extends w{constructor(e,t,s){super(e,t),this.expressions=s}visit(e,t=null){return e.visitChain(this,t)}},ce=class extends w{constructor(e,t,s,r,i){super(e,t),this.condition=s,this.trueExp=r,this.falseExp=i}visit(e,t=null){return e.visitConditional(this,t)}},Q=class extends G{constructor(e,t,s,r,i){super(e,t,s),this.receiver=r,this.name=i}visit(e,t=null){return e.visitPropertyRead(this,t)}},pe=class extends G{constructor(e,t,s,r,i,a){super(e,t,s),this.receiver=r,this.name=i,this.value=a}visit(e,t=null){return e.visitPropertyWrite(this,t)}},de=class extends G{constructor(e,t,s,r,i){super(e,t,s),this.receiver=r,this.name=i}visit(e,t=null){return e.visitSafePropertyRead(this,t)}},xe=class extends w{constructor(e,t,s,r){super(e,t),this.receiver=s,this.key=r}visit(e,t=null){return e.visitKeyedRead(this,t)}},fe=class extends w{constructor(e,t,s,r){super(e,t),this.receiver=s,this.key=r}visit(e,t=null){return e.visitSafeKeyedRead(this,t)}},ve=class extends w{constructor(e,t,s,r,i){super(e,t),this.receiver=s,this.key=r,this.value=i}visit(e,t=null){return e.visitKeyedWrite(this,t)}},ge=class extends G{constructor(e,t,s,r,i,a){super(e,t,a),this.exp=s,this.name=r,this.args=i}visit(e,t=null){return e.visitPipe(this,t)}},E=class extends w{constructor(e,t,s){super(e,t),this.value=s}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}},me=class extends w{constructor(e,t,s){super(e,t),this.expressions=s}visit(e,t=null){return e.visitLiteralArray(this,t)}},ye=class extends w{constructor(e,t,s,r){super(e,t),this.keys=s,this.values=r}visit(e,t=null){return e.visitLiteralMap(this,t)}},Ue=class extends w{constructor(e,t,s,r){super(e,t),this.strings=s,this.expressions=r}visit(e,t=null){return e.visitInterpolation(this,t)}},I=class extends w{constructor(e,t,s,r,i){super(e,t),this.operation=s,this.left=r,this.right=i}visit(e,t=null){return e.visitBinary(this,t)}},H=class J extends I{static createMinus(t,s,r){return new J(t,s,"-",r,"-",new E(t,s,0),r)}static createPlus(t,s,r){return new J(t,s,"+",r,"-",r,new E(t,s,0))}constructor(t,s,r,i,a,n,x){super(t,s,a,n,x),this.operator=r,this.expr=i,this.left=null,this.right=null,this.operation=null}visit(t,s=null){return t.visitUnary!==void 0?t.visitUnary(this,s):t.visitBinary(this,s)}},we=class extends w{constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitPrefixNot(this,t)}},Se=class extends w{constructor(e,t,s){super(e,t),this.expression=s}visit(e,t=null){return e.visitNonNullAssert(this,t)}},Ce=class extends w{constructor(e,t,s,r,i){super(e,t),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,t=null){return e.visitCall(this,t)}},Pe=class extends w{constructor(e,t,s,r,i){super(e,t),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,t=null){return e.visitSafeCall(this,t)}},K=class{constructor(e,t){this.start=e,this.end=t}},N=class extends w{constructor(e,t,s,r,i){super(new B(0,t===null?0:t.length),new K(r,t===null?r:r+t.length)),this.ast=e,this.source=t,this.location=s,this.errors=i}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}},X=class{constructor(e,t,s){this.sourceSpan=e,this.key=t,this.value=s}},ke=class{constructor(e,t,s){this.sourceSpan=e,this.key=t,this.value=s}},Ge=class{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.receiver,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeKeyedRead(e,t){this.visit(e.receiver,t),this.visit(e.key,t)}visitCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitSafeCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitAll(e,t){for(let s of e)this.visit(s,t)}},te;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"})(te||(te={}));function Ve(e){return e>=9&&e<=32||e==160}function A(e){return 48<=e&&e<=57}function We(e){return e>=97&&e<=122||e>=65&&e<=90}function se(e){return e===39||e===34||e===96}var d;(function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.PrivateIdentifier=2]="PrivateIdentifier",e[e.Keyword=3]="Keyword",e[e.String=4]="String",e[e.Operator=5]="Operator",e[e.Number=6]="Number",e[e.Error=7]="Error"})(d||(d={}));var Fe=["var","let","as","null","undefined","true","false","if","else","this"],je=class{tokenize(e){let t=new Xe(e),s=[],r=t.scanToken();for(;r!=null;)s.push(r),r=t.scanToken();return s}},b=class{constructor(e,t,s,r,i){this.index=e,this.end=t,this.type=s,this.numValue=r,this.strValue=i}isCharacter(e){return this.type==d.Character&&this.numValue==e}isNumber(){return this.type==d.Number}isString(){return this.type==d.String}isOperator(e){return this.type==d.Operator&&this.strValue==e}isIdentifier(){return this.type==d.Identifier}isPrivateIdentifier(){return this.type==d.PrivateIdentifier}isKeyword(){return this.type==d.Keyword}isKeywordLet(){return this.type==d.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==d.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==d.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==d.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==d.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==d.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==d.Keyword&&this.strValue=="this"}isError(){return this.type==d.Error}toNumber(){return this.type==d.Number?this.numValue:-1}toString(){switch(this.type){case d.Character:case d.Identifier:case d.Keyword:case d.Operator:case d.PrivateIdentifier:case d.String:case d.Error:return this.strValue;case d.Number:return this.numValue.toString();default:return null}}};function re(e,t,s){return new b(e,t,d.Character,s,String.fromCharCode(s))}function qe(e,t,s){return new b(e,t,d.Identifier,0,s)}function ze(e,t,s){return new b(e,t,d.PrivateIdentifier,0,s)}function De(e,t,s){return new b(e,t,d.Keyword,0,s)}function q(e,t,s){return new b(e,t,d.Operator,0,s)}function Qe(e,t,s){return new b(e,t,d.String,0,s)}function He(e,t,s){return new b(e,t,d.Number,s,"")}function Je(e,t,s){return new b(e,t,d.Error,0,s)}var z=new b(-1,-1,d.Character,0,""),Xe=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,t=this.length,s=this.peek,r=this.index;for(;s<=32;)if(++r>=t){s=0;break}else s=e.charCodeAt(r);if(this.peek=s,this.index=r,r>=t)return null;if(ie(s))return this.scanIdentifier();if(A(s))return this.scanNumber(r);let i=r;switch(s){case 46:return this.advance(),A(this.peek)?this.scanNumber(i):re(i,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(i,s);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(i,String.fromCharCode(s));case 63:return this.scanQuestion(i);case 60:case 62:return this.scanComplexOperator(i,String.fromCharCode(s),61,"=");case 33:case 61:return this.scanComplexOperator(i,String.fromCharCode(s),61,"=",61,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case 160:for(;Ve(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(s)}]`,0)}scanCharacter(e,t){return this.advance(),re(e,this.index,t)}scanOperator(e,t){return this.advance(),q(e,this.index,t)}scanComplexOperator(e,t,s,r,i,a){this.advance();let n=t;return this.peek==s&&(this.advance(),n+=r),i!=null&&this.peek==i&&(this.advance(),n+=a),q(e,this.index,n)}scanIdentifier(){let e=this.index;for(this.advance();ne(this.peek);)this.advance();let t=this.input.substring(e,this.index);return Fe.indexOf(t)>-1?De(e,this.index,t):qe(e,this.index,t)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!ie(this.peek))return this.error("Invalid character [#]",-1);for(;ne(this.peek);)this.advance();let t=this.input.substring(e,this.index);return ze(e,this.index,t)}scanNumber(e){let t=this.index===e,s=!1;for(this.advance();;){if(!A(this.peek))if(this.peek===95){if(!A(this.input.charCodeAt(this.index-1))||!A(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);s=!0}else if(this.peek===46)t=!1;else if(Ye(this.peek)){if(this.advance(),Ze(this.peek)&&this.advance(),!A(this.peek))return this.error("Invalid exponent",-1);t=!1}else break;this.advance()}let r=this.input.substring(e,this.index);s&&(r=r.replace(/_/g,""));let i=t?tt(r):parseFloat(r);return He(e,this.index,i)}scanString(){let e=this.index,t=this.peek;this.advance();let s="",r=this.index,i=this.input;for(;this.peek!=t;)if(this.peek==92){s+=i.substring(r,this.index);let n;if(this.advance(),this.peek==117){let x=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(x))n=parseInt(x,16);else return this.error(`Invalid unicode escape [\\u${x}]`,0);for(let v=0;v<5;v++)this.advance()}else n=et(this.peek),this.advance();s+=String.fromCharCode(n),r=this.index}else{if(this.peek==0)return this.error("Unterminated quote",0);this.advance()}let a=i.substring(r,this.index);return this.advance(),Qe(e,this.index,s+a)}scanQuestion(e){this.advance();let t="?";return(this.peek===63||this.peek===46)&&(t+=this.peek===46?".":"?",this.advance()),q(e,this.index,t)}error(e,t){let s=this.index+t;return Je(s,this.index,`Lexer Error: ${e} at column ${s} in expression [${this.input}]`)}};function ie(e){return 97<=e&&e<=122||65<=e&&e<=90||e==95||e==36}function ne(e){return We(e)||A(e)||e==95||e==36}function Ye(e){return e==101||e==69}function Ze(e){return e==45||e==43}function et(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}function tt(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var st=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function rt(e,t){if(t!=null&&!(Array.isArray(t)&&t.length==2))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(t!=null){let s=t[0],r=t[1];st.forEach(i=>{if(i.test(s)||i.test(r))throw new Error(`['${s}', '${r}'] contains unusable interpolation symbol.`)})}}var it=class Oe{static fromArray(t){return t?(rt("interpolation",t),new Oe(t[0],t[1])):L}constructor(t,s){this.start=t,this.end=s}},L=new it("{{","}}"),nt=class{constructor(e,t,s){this.strings=e,this.expressions=t,this.offsets=s}},at=class{constructor(e,t,s){this.templateBindings=e,this.warnings=t,this.errors=s}},ot=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,s,r,i=L){this._checkNoInterpolation(e,s,i);let a=this._stripComments(e),n=this._lexer.tokenize(a),x=1;t&&(x|=2);let v=new _(e,s,r,n,x,this.errors,0).parseChain();return new N(v,e,s,r,this.errors)}parseBinding(e,t,s,r=L){let i=this._parseBindingAst(e,t,s,r);return new N(i,e,t,s,this.errors)}checkSimpleExpression(e){let t=new ht;return e.visit(t),t.errors}parseSimpleBinding(e,t,s,r=L){let i=this._parseBindingAst(e,t,s,r),a=this.checkSimpleExpression(i);return a.length>0&&this._reportError(`Host binding expression cannot contain ${a.join(" ")}`,e,t),new N(i,e,t,s,this.errors)}_reportError(e,t,s,r){this.errors.push(new D(e,t,s,r))}_parseBindingAst(e,t,s,r){this._checkNoInterpolation(e,t,r);let i=this._stripComments(e),a=this._lexer.tokenize(i);return new _(e,t,s,a,0,this.errors,0).parseChain()}parseTemplateBindings(e,t,s,r,i){let a=this._lexer.tokenize(t);return new _(t,s,i,a,0,this.errors,0).parseTemplateBindings({source:e,span:new K(r,r+e.length)})}parseInterpolation(e,t,s,r,i=L){let{strings:a,expressions:n,offsets:x}=this.splitInterpolation(e,t,r,i);if(n.length===0)return null;let v=[];for(let g=0;g<n.length;++g){let C=n[g].text,m=this._stripComments(C),y=this._lexer.tokenize(m),o=new _(e,t,s,y,0,this.errors,x[g]).parseChain();v.push(o)}return this.createInterpolationAst(a.map(g=>g.text),v,e,t,s)}parseInterpolationExpression(e,t,s){let r=this._stripComments(e),i=this._lexer.tokenize(r),a=new _(e,t,s,i,0,this.errors,0).parseChain(),n=["",""];return this.createInterpolationAst(n,[a],e,t,s)}createInterpolationAst(e,t,s,r,i){let a=new B(0,s.length),n=new Ue(a,a.toAbsolute(i),e,t);return new N(n,s,r,i,this.errors)}splitInterpolation(e,t,s,r=L){let i=[],a=[],n=[],x=s?ut(s):null,v=0,g=!1,C=!1,{start:m,end:y}=r;for(;v<e.length;)if(g){let o=v,p=o+m.length,f=this._getInterpolationEndIndex(e,y,p);if(f===-1){g=!1,C=!0;break}let h=f+y.length,l=e.substring(p,f);l.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${v} in`,t),a.push({text:l,start:o,end:h});let c=(x?.get(o)??o)+m.length;n.push(c),v=h,g=!1}else{let o=v;v=e.indexOf(m,v),v===-1&&(v=e.length);let p=e.substring(o,v);i.push({text:p,start:o,end:v}),g=!0}if(!g)if(C){let o=i[i.length-1];o.text+=e.substring(v),o.end=e.length}else i.push({text:e.substring(v),start:v,end:e.length});return new nt(i,a,n)}wrapLiteralPrimitive(e,t,s){let r=new B(0,e==null?0:e.length);return new N(new E(r,r.toAbsolute(s),e),e,t,s,this.errors)}_stripComments(e){let t=this._commentStart(e);return t!=null?e.substring(0,t):e}_commentStart(e){let t=null;for(let s=0;s<e.length-1;s++){let r=e.charCodeAt(s),i=e.charCodeAt(s+1);if(r===47&&i==47&&t==null)return s;t===r?t=null:t==null&&se(r)&&(t=r)}return null}_checkNoInterpolation(e,t,{start:s,end:r}){let i=-1,a=-1;for(let n of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(s)&&(i=n);else if(a=this._getInterpolationEndIndex(e,r,n),a>-1)break;i>-1&&a>-1&&this._reportError(`Got interpolation (${s}${r}) where expression was expected`,e,`at column ${i} in`,t)}_getInterpolationEndIndex(e,t,s){for(let r of this._forEachUnquotedChar(e,s)){if(e.startsWith(t,r))return r;if(e.startsWith("//",r))return e.indexOf(t,r)}return-1}*_forEachUnquotedChar(e,t){let s=null,r=0;for(let i=t;i<e.length;i++){let a=e[i];se(e.charCodeAt(i))&&(s===null||s===a)&&r%2===0?s=s===null?a:null:s===null&&(yield i),r=a==="\\"?r+1:0}}},$;(function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"})($||($={}));var _=class{constructor(e,t,s,r,i,a,n){this.input=e,this.location=t,this.absoluteOffset=s,this.tokens=r,this.parseFlags=i,this.errors=a,this.offset=n,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=$.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let t=this.index+e;return t<this.tokens.length?this.tokens[t]:z}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let s=this.currentEndIndex;if(t!==void 0&&t>this.currentEndIndex&&(s=t),e>s){let r=s;s=e,e=r}return new B(e,s)}sourceSpan(e,t){let s=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(s)||this.sourceSpanCache.set(s,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(s)}advance(){this.index++}withContext(e,t){this.context|=e;let s=t();return this.context^=e,s}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===z?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){let s=this.parsePipe();if(e.push(s),this.consumeOptionalCharacter(59))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let s=this.offset,r=this.offset+this.input.length;return new O(this.span(s,r),this.sourceSpan(s,r))}return e.length==1?e[0]:new le(this.span(t),this.sourceSpan(t),e)}parsePipe(){let e=this.inputIndex,t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let s=this.inputIndex,r=this.expectIdentifierOrKeyword(),i,a;r!==null?i=this.sourceSpan(s):(r="",a=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new B(a,a).toAbsolute(this.absoluteOffset));let n=[];for(;this.consumeOptionalCharacter(58);)n.push(this.parseExpression());t=new ge(this.span(e),this.sourceSpan(e,a),t,r,n,i)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let s=this.parsePipe(),r;if(this.consumeOptionalCharacter(58))r=this.parsePipe();else{let i=this.inputIndex,a=this.input.substring(e,i);this.error(`Conditional expression ${a} requires all 3 expressions`),r=new O(this.span(e),this.sourceSpan(e))}return new ce(this.span(e),this.sourceSpan(e),t,s,r)}else return t}parseLogicalOr(){let e=this.inputIndex,t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let s=this.parseLogicalAnd();t=new I(this.span(e),this.sourceSpan(e),"||",t,s)}return t}parseLogicalAnd(){let e=this.inputIndex,t=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let s=this.parseNullishCoalescing();t=new I(this.span(e),this.sourceSpan(e),"&&",t,s)}return t}parseNullishCoalescing(){let e=this.inputIndex,t=this.parseEquality();for(;this.consumeOptionalOperator("??");){let s=this.parseEquality();t=new I(this.span(e),this.sourceSpan(e),"??",t,s)}return t}parseEquality(){let e=this.inputIndex,t=this.parseRelational();for(;this.next.type==d.Operator;){let s=this.next.strValue;switch(s){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();t=new I(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseRelational(){let e=this.inputIndex,t=this.parseAdditive();for(;this.next.type==d.Operator;){let s=this.next.strValue;switch(s){case"<":case">":case"<=":case">=":this.advance();let r=this.parseAdditive();t=new I(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseAdditive(){let e=this.inputIndex,t=this.parseMultiplicative();for(;this.next.type==d.Operator;){let s=this.next.strValue;switch(s){case"+":case"-":this.advance();let r=this.parseMultiplicative();t=new I(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parseMultiplicative(){let e=this.inputIndex,t=this.parsePrefix();for(;this.next.type==d.Operator;){let s=this.next.strValue;switch(s){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();t=new I(this.span(e),this.sourceSpan(e),s,t,r);continue}break}return t}parsePrefix(){if(this.next.type==d.Operator){let e=this.inputIndex,t=this.next.strValue,s;switch(t){case"+":return this.advance(),s=this.parsePrefix(),H.createPlus(this.span(e),this.sourceSpan(e),s);case"-":return this.advance(),s=this.parsePrefix(),H.createMinus(this.span(e),this.sourceSpan(e),s);case"!":return this.advance(),s=this.parsePrefix(),new we(this.span(e),this.sourceSpan(e),s)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(46))t=this.parseAccessMember(t,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(40)?t=this.parseCall(t,e,!0):t=this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(t,e,!0):this.parseAccessMember(t,e,!0);else if(this.consumeOptionalCharacter(91))t=this.parseKeyedReadOrWrite(t,e,!1);else if(this.consumeOptionalCharacter(40))t=this.parseCall(t,e,!1);else if(this.consumeOptionalOperator("!"))t=new Se(this.span(e),this.sourceSpan(e),t);else return t}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;let t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}else{if(this.next.isKeywordNull())return this.advance(),new E(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new E(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new E(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new E(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Re(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;let t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new me(this.span(e),this.sourceSpan(e),t)}else{if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new U(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let t=this.next.toNumber();return this.advance(),new E(this.span(e),this.sourceSpan(e),t)}else if(this.next.isString()){let t=this.next.toString();return this.advance(),new E(this.span(e),this.sourceSpan(e),t)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new O(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new O(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new O(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let t=[];do if(!this.next.isCharacter(e))t.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(44));return t}parseLiteralMap(){let e=[],t=[],s=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{let r=this.inputIndex,i=this.next.isString(),a=this.expectIdentifierOrKeywordOrString();if(e.push({key:a,quoted:i}),i)this.expectCharacter(58),t.push(this.parsePipe());else if(this.consumeOptionalCharacter(58))t.push(this.parsePipe());else{let n=this.span(r),x=this.sourceSpan(r);t.push(new Q(n,x,x,new U(n,x),a))}}while(this.consumeOptionalCharacter(44)&&!this.next.isCharacter(125));this.rbracesExpected--,this.expectCharacter(125)}return new ye(this.span(s),this.sourceSpan(s),e,t)}parseAccessMember(e,t,s){let r=this.inputIndex,i=this.withContext($.Writable,()=>{let x=this.expectIdentifierOrKeyword()??"";return x.length===0&&this.error("Expected identifier for property access",e.span.end),x}),a=this.sourceSpan(r),n;if(s)this.consumeOptionalAssignment()?(this.error("The '?.' operator cannot be used in the assignment"),n=new O(this.span(t),this.sourceSpan(t))):n=new de(this.span(t),this.sourceSpan(t),a,e,i);else if(this.consumeOptionalAssignment()){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new O(this.span(t),this.sourceSpan(t));let x=this.parseConditional();n=new pe(this.span(t),this.sourceSpan(t),a,e,i,x)}else n=new Q(this.span(t),this.sourceSpan(t),a,e,i);return n}parseCall(e,t,s){let r=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),a=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;let n=this.span(t),x=this.sourceSpan(t);return s?new Pe(n,x,e,i,a):new Ce(n,x,e,i,a)}consumeOptionalAssignment(){return this.parseFlags&2&&this.next.isOperator("!")&&this.peek(1).isOperator("=")?(this.advance(),this.advance(),!0):this.consumeOptionalOperator("=")}parseCallArguments(){if(this.next.isCharacter(41))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(44));return e}expectTemplateBindingKey(){let e="",t=!1,s=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-");while(t);return{source:e,span:new K(s,s+e.length)}}parseTemplateBindings(e){let t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let s=this.parseLetBinding();if(s)t.push(s);else{let r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?t.push(i):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new at(t,[],this.errors)}parseKeyedReadOrWrite(e,t,s){return this.withContext($.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof O&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("="))if(s)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new ve(this.span(t),this.sourceSpan(t),e,r,i)}else return s?new fe(this.span(t),this.sourceSpan(t),e,r):new xe(this.span(t),this.sourceSpan(t),e,r);return new O(this.span(t),this.sourceSpan(t))})}parseDirectiveKeywordBindings(e){let t=[];this.consumeOptionalCharacter(58);let s=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let a=new K(e.span.start,r);return t.push(new ke(a,e,s)),i&&t.push(i),t}getDirectiveBoundTarget(){if(this.next===z||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:t,end:s}=e.span,r=this.input.substring(t,s);return new N(e,r,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let t=this.expectTemplateBindingKey();this.consumeStatementTerminator();let s=new K(e.span.start,this.currentAbsoluteOffset);return new X(s,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let t=this.expectTemplateBindingKey(),s=null;this.consumeOptionalOperator("=")&&(s=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new K(e,this.currentAbsoluteOffset);return new X(r,t,s)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(e,t=null){this.errors.push(new D(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,t){let s=`Private identifiers are not supported. Unexpected private identifier: ${e}`;t!==null&&(s+=`, ${t}`),this.error(s)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(59)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93))&&(!(this.context&$.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new D(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},ht=class extends Ge{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function ut(e){let t=new Map,s=0,r=0,i=0;for(;i<e.length;){let a=e[i];if(a.type===9){let[n,x]=a.parts;s+=x.length,r+=n.length}else{let n=a.parts.reduce((x,v)=>x+v.length,0);r+=n,s+=n}t.set(r,s),i++}return t}var Ee="angular-estree-parser",Ie="NgEstreeParser",Y=0,V=[Ee,Y];function be(){return new ot(new je)}function W(e,t){let s=be(),{astInput:r,comments:i}=ft(e,s),{ast:a,errors:n}=t(r,s);return Ae(n),{ast:a,comments:i}}function lt(e){return W(e,(t,s)=>s.parseBinding(t,...V))}function ct(e){return W(e,(t,s)=>s.parseSimpleBinding(t,...V))}function pt(e){return W(e,(t,s)=>s.parseAction(t,!1,...V))}function dt(e){return W(e,(t,s)=>{let r=s.parseInterpolationExpression(t,...V);return r.ast=r.ast.expressions[0],r})}function xt(e){let t=be(),{templateBindings:s,errors:r}=t.parseTemplateBindings(Ie,e,Ee,Y,Y);return Ae(r),s}function Ae(e){if(e.length!==0){let[{message:t}]=e;throw new SyntaxError(t.replace(/^Parser Error: | at column \d+ in [^]*$/g,""))}}function ft(e,t){let s=t._commentStart(e);return s===null?{astInput:e,comments:[]}:{astInput:e.slice(0,s),comments:[{type:"Comment",value:e.slice(s+2),sourceSpan:{start:s,end:e.length}}]}}function vt(e){return e instanceof H?"Unary":e instanceof I?"Binary":e instanceof ge?"BindingPipe":e instanceof Ce?"Call":e instanceof le?"Chain":e instanceof ce?"Conditional":e instanceof O?"EmptyExpr":e instanceof U?"ImplicitReceiver":e instanceof xe?"KeyedRead":e instanceof fe?"SafeKeyedRead":e instanceof ve?"KeyedWrite":e instanceof me?"LiteralArray":e instanceof ye?"LiteralMap":e instanceof E?"LiteralPrimitive":e instanceof Se?"NonNullAssert":e instanceof we?"PrefixNot":e instanceof Q?"PropertyRead":e instanceof pe?"PropertyWrite":e instanceof Pe?"SafeCall":e instanceof de?"SafePropertyRead":e.type}function ae({start:e,end:t},s){let r=e,i=t;for(;i!==r&&/\s/.test(s[i-1]);)i--;for(;r!==i&&/\s/.test(s[r]);)r++;return{start:r,end:i}}function gt({start:e,end:t},s){let r=e,i=t;for(;i!==s.length&&/\s/.test(s[i]);)i++;for(;r!==0&&/\s/.test(s[r-1]);)r--;return{start:r,end:i}}function mt(e,t){return t[e.start-1]==="("&&t[e.end]===")"?{start:e.start-1,end:e.end+1}:e}function yt(e,t,s){let r=0,i={start:e.start,end:e.end};for(;;){let a=gt(i,t),n=mt(a,t);if(a.start===n.start&&a.end===n.end)break;i.start=n.start,i.end=n.end,r++}return{hasParens:(s?r-1:r)!==0,outerSpan:ae(s?{start:i.start+1,end:i.end-1}:i,t),innerSpan:ae(e,t)}}function Ke(e){return typeof e=="string"?t=>t===e:t=>e.test(t)}function wt(e,t,s){let r=Ke(t);for(let i=s;i>=0;i--){let a=e[i];if(r(a))return i}throw new Error(`Cannot find front char ${t} from index ${s} in ${JSON.stringify(e)}`)}function St(e,t,s){let r=Ke(t);for(let i=s;i<e.length;i++){let a=e[i];if(r(a))return i}throw new Error(`Cannot find character ${t} from index ${s} in ${JSON.stringify(e)}`)}function Ct(e){return e.slice(0,1).toLowerCase()+e.slice(1)}var Ne=class{text;constructor(e){this.text=e}getCharacterIndex(e,t){return St(this.text,e,t)}getCharacterLastIndex(e,t){return wt(this.text,e,t)}},Pt=(e,t,s)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[s<0?t.length+s:s]:t.at(s)},Le=Pt,M=(e,t,s=!1)=>{let r=vt(e);switch(r){case"Unary":{let{operator:o,expr:p}=e,f=i(p);return n("UnaryExpression",{prefix:!0,argument:f,operator:o},e.sourceSpan,{hasParentParens:s})}case"Binary":{let{left:o,operation:p,right:f}=e,h=i(o),l=i(f);return n(p==="&&"||p==="||"||p==="??"?"LogicalExpression":"BinaryExpression",{left:h,right:l,operator:p},{start:m(h),end:y(l)},{hasParentParens:s})}case"BindingPipe":{let{exp:o,name:p,args:f}=e,h=i(o),l=t.getCharacterIndex(/\S/,t.getCharacterIndex("|",y(h))+1),c=n("Identifier",{name:p},{start:l,end:l+p.length}),u=f.map(i);return n("NGPipeExpression",{left:h,right:c,arguments:u},{start:m(h),end:y(u.length===0?c:Le(!1,u,-1))},{hasParentParens:s})}case"Chain":{let{expressions:o}=e;return n("NGChainedExpression",{expressions:o.map(i)},e.sourceSpan,{hasParentParens:s})}case"Comment":{let{value:o}=e;return n("CommentLine",{value:o},e.sourceSpan,{processSpan:!1})}case"Conditional":{let{condition:o,trueExp:p,falseExp:f}=e,h=i(o),l=i(p),c=i(f);return n("ConditionalExpression",{test:h,consequent:l,alternate:c},{start:m(h),end:y(c)},{hasParentParens:s})}case"EmptyExpr":return n("NGEmptyExpression",{},e.sourceSpan,{hasParentParens:s});case"ImplicitReceiver":return n("ThisExpression",{},e.sourceSpan,{hasParentParens:s});case"KeyedRead":case"SafeKeyedRead":{let o=r==="SafeKeyedRead",{key:p}=e,f=Object.prototype.hasOwnProperty.call(e,"receiver")?e.receiver:e.obj,h=i(p);return x(f,h,{computed:!0,optional:o},{end:e.sourceSpan.end,hasParentParens:s})}case"LiteralArray":{let{expressions:o}=e;return n("ArrayExpression",{elements:o.map(i)},e.sourceSpan,{hasParentParens:s})}case"LiteralMap":{let{keys:o,values:p}=e,f=p.map(l=>i(l)),h=o.map(({key:l,quoted:c},u)=>{let S=f[u],P=m(S),k=y(S),T=t.getCharacterIndex(/\S/,u===0?e.sourceSpan.start+1:t.getCharacterIndex(",",y(f[u-1]))+1),_e=P===T?k:t.getCharacterLastIndex(/\S/,t.getCharacterLastIndex(":",P-1)-1)+1,ee={start:T,end:_e},R=c?n("StringLiteral",{value:l},ee):n("Identifier",{name:l},ee),Be=R.end<R.start||T===P;return n("ObjectProperty",{key:R,value:S,shorthand:Be,computed:!1},{start:m(R),end:k})});return n("ObjectExpression",{properties:h},e.sourceSpan,{hasParentParens:s})}case"LiteralPrimitive":{let{value:o}=e;switch(typeof o){case"boolean":return n("BooleanLiteral",{value:o},e.sourceSpan,{hasParentParens:s});case"number":return n("NumericLiteral",{value:o},e.sourceSpan,{hasParentParens:s});case"object":return n("NullLiteral",{},e.sourceSpan,{hasParentParens:s});case"string":return n("StringLiteral",{value:o},e.sourceSpan,{hasParentParens:s});case"undefined":return n("Identifier",{name:"undefined"},e.sourceSpan,{hasParentParens:s});default:throw new Error(`Unexpected LiteralPrimitive value type ${typeof o}`)}}case"Call":case"SafeCall":{let o=r==="SafeCall",{receiver:p,args:f}=e,h=f.length===1?[a(f[0])]:f.map(i),l=i(p),c=g(l),u=o||c?"OptionalCallExpression":"CallExpression";return n(u,{callee:l,arguments:h,optional:u==="OptionalCallExpression"?o:void 0},{start:m(l),end:e.sourceSpan.end},{hasParentParens:s})}case"NonNullAssert":{let{expression:o}=e,p=i(o);return n("TSNonNullExpression",{expression:p},{start:m(p),end:e.sourceSpan.end},{hasParentParens:s})}case"PrefixNot":{let{expression:o}=e,p=i(o);return n("UnaryExpression",{prefix:!0,operator:"!",argument:p},{start:e.sourceSpan.start,end:y(p)},{hasParentParens:s})}case"PropertyRead":case"SafePropertyRead":{let o=r==="SafePropertyRead",{receiver:p,name:f}=e,h=t.getCharacterLastIndex(/\S/,e.sourceSpan.end-1)+1,l=n("Identifier",{name:f},{start:h-f.length,end:h},v(p)?{hasParentParens:s}:{});return x(p,l,{computed:!1,optional:o},{hasParentParens:s})}case"KeyedWrite":{let{key:o,value:p}=e,f=Object.prototype.hasOwnProperty.call(e,"receiver")?e.receiver:e.obj,h=i(o),l=i(p),c=x(f,h,{computed:!0,optional:!1},{end:t.getCharacterIndex("]",y(h))+1});return n("AssignmentExpression",{left:c,operator:"=",right:l},{start:m(c),end:y(l)},{hasParentParens:s})}case"PropertyWrite":{let{receiver:o,name:p,value:f}=e,h=i(f),l=t.getCharacterLastIndex(/\S/,t.getCharacterLastIndex("=",m(h)-1)-1)+1,c=n("Identifier",{name:p},{start:l-p.length,end:l}),u=x(o,c,{computed:!1,optional:!1});return n("AssignmentExpression",{left:u,operator:"=",right:h},{start:m(u),end:y(h)},{hasParentParens:s})}default:throw new Error(`Unexpected node ${r}`)}function i(o){return M(o,t)}function a(o){return M(o,t,!0)}function n(o,p,f,{processSpan:h=!0,hasParentParens:l=!1}={}){let c={type:o,...Z(f,t,h,l),...p};switch(o){case"NumericLiteral":{let u=c;u.extra={...u.extra,raw:t.text.slice(u.start,u.end),rawValue:u.value};break}case"StringLiteral":{let u=c;u.extra={...u.extra,raw:t.text.slice(u.start,u.end),rawValue:u.value};break}case"ObjectProperty":{let u=c;u.shorthand&&(u.extra={...u.extra,shorthand:u.shorthand});break}}return c}function x(o,p,f,{end:h=y(p),hasParentParens:l=!1}={}){if(v(o)||o.sourceSpan.start===p.start)return p;let c=i(o),u=g(c);return n(f.optional||u?"OptionalMemberExpression":"MemberExpression",{object:c,property:p,computed:f.computed,...f.optional?{optional:!0}:u?{optional:!1}:null},{start:m(c),end:h},{hasParentParens:l})}function v(o){return o.sourceSpan.start>=o.sourceSpan.end||/^\s+$/.test(t.text.slice(o.sourceSpan.start,o.sourceSpan.end))}function g(o){return(o.type==="OptionalCallExpression"||o.type==="OptionalMemberExpression")&&!C(o)}function C(o){return o.extra&&o.extra.parenthesized}function m(o){return C(o)?o.extra.parenStart:o.start}function y(o){return C(o)?o.extra.parenEnd:o.end}};function Z(e,t,s=!1,r=!1){if(!s){let{start:v,end:g}=e;return{start:v,end:g,range:[v,g]}}let{outerSpan:i,innerSpan:{start:a,end:n},hasParens:x}=yt(e,t.text,r);return{start:a,end:n,range:[a,n],...x&&{extra:{parenthesized:!0,parenStart:i.start,parenEnd:i.end}}}}function kt(e,t){e.forEach(o);let[s]=e,{key:r}=s,i=t.text.slice(s.sourceSpan.start,s.sourceSpan.end).trim().length===0?e.slice(1):e,a=[],n=null;for(let h=0;h<i.length;h++){let l=i[h];if(n&&m(n)&&y(l)&&l.value&&l.value.source===n.key.source){let c=g("NGMicrosyntaxKey",{name:l.key.source},l.key.span),u=(k,T)=>({...k,...Z({start:k.start,end:T},t)}),S=k=>({...u(k,c.end),alias:c}),P=a.pop();if(P.type==="NGMicrosyntaxExpression")a.push(S(P));else if(P.type==="NGMicrosyntaxKeyedExpression"){let k=S(P.expression);a.push(u({...P,expression:k},k.end))}else throw new Error(`Unexpected type ${P.type}`)}else a.push(x(l,h));n=l}return g("NGMicrosyntax",{body:a},a.length===0?e[0].sourceSpan:{start:a[0].start,end:Le(!1,a,-1).end});function x(h,l){if(m(h)){let{key:c,value:u}=h;return u?l===0?g("NGMicrosyntaxExpression",{expression:v(u.ast),alias:null},u.sourceSpan):g("NGMicrosyntaxKeyedExpression",{key:g("NGMicrosyntaxKey",{name:C(c.source)},c.span),expression:g("NGMicrosyntaxExpression",{expression:v(u.ast),alias:null},u.sourceSpan)},{start:c.span.start,end:u.sourceSpan.end}):g("NGMicrosyntaxKey",{name:C(c.source)},c.span)}else{let{key:c,sourceSpan:u}=h;if(/^let\s$/.test(t.text.slice(u.start,u.start+4))){let{value:S}=h;return g("NGMicrosyntaxLet",{key:g("NGMicrosyntaxKey",{name:c.source},c.span),value:S?g("NGMicrosyntaxKey",{name:S.source},S.span):null},{start:u.start,end:S?S.span.end:c.span.end})}else{let S=f(h);return g("NGMicrosyntaxAs",{key:g("NGMicrosyntaxKey",{name:S.source},S.span),alias:g("NGMicrosyntaxKey",{name:c.source},c.span)},{start:S.span.start,end:c.span.end})}}}function v(h){return M(h,t)}function g(h,l,c,u=!0){return{type:h,...Z(c,t,u),...l}}function C(h){return Ct(h.slice(r.source.length))}function m(h){return h instanceof ke}function y(h){return h instanceof X}function o(h){p(h.key.span),y(h)&&h.value&&p(h.value.span)}function p(h){if(t.text[h.start]!=='"'&&t.text[h.start]!=="'")return;let l=t.text[h.start],c=!1;for(let u=h.start+1;u<t.text.length;u++)switch(t.text[u]){case l:if(!c){h.end=u+1;return}default:c=!1;break;case"\\":c=!c;break}}function f(h){if(!h.value||h.value.source!==Ie)return h.value;let l=t.getCharacterIndex(/\S/,h.sourceSpan.start);return{source:"$implicit",span:{start:l,end:l}}}}function F(e){return t=>{let{ast:s,comments:r}=e(t),i=new Ne(t),a=M(s,i);return a.comments=r.map(n=>M(n,i)),a}}var Ot=F(lt),_t=F(ct),Et=F(dt),$e=F(pt),It=e=>kt(xt(e),new Ne(e));function bt(e){return Array.isArray(e)&&e.length>0}var At=bt;function Te(e){var t;let s=e.range?e.range[0]:e.start,r=((t=e.declaration)==null?void 0:t.decorators)??e.decorators;return At(r)?Math.min(Te(r[0]),s):s}function Kt(e){return e.range?e.range[1]:e.end}function j(e){return{astFormat:"estree",parse(t){let s=e(t);return{type:"NGRoot",node:e===$e&&s.type!=="NGChainedExpression"?{...s,type:"NGChainedExpression",expressions:[s]}:s}},locStart:Te,locEnd:Kt}}var Nt=j($e),Lt=j(Ot),$t=j(Et),Tt=j(It),Bt=he;export{Bt as default,ue as parsers};
//# sourceMappingURL=angular.js.map