/* esm.sh - esbuild bundle(vfile@6.0.1) denonext production */
import{VFileMessage as u}from"/v135/vfile-message@4.0.2/denonext/vfile-message.mjs";import{path as n}from"/v135/vfile@6.0.1/denonext/do-not-use-conditional-minpath.js";import{proc as c}from"/v135/vfile@6.0.1/denonext/do-not-use-conditional-minproc.js";import{urlToPath as g,isUrl as p}from"/v135/vfile@6.0.1/denonext/do-not-use-conditional-minurl.js";var o=["history","path","basename","stem","extname","dirname"],m=class{constructor(t){let e;t?p(t)?e={path:t}:typeof t=="string"||l(t)?e={value:t}:e=t:e={},this.cwd=c.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<o.length;){let h=o[r];h in e&&e[h]!==void 0&&e[h]!==null&&(this[h]=h==="history"?[...e[h]]:e[h])}let s;for(s in e)o.includes(s)||(this[s]=e[s])}get basename(){return typeof this.path=="string"?n.basename(this.path):void 0}set basename(t){f(t,"basename"),a(t,"basename"),this.path=n.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?n.dirname(this.path):void 0}set dirname(t){d(this.basename,"dirname"),this.path=n.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?n.extname(this.path):void 0}set extname(t){if(a(t,"extname"),d(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=n.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){p(t)&&(t=g(t)),f(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?n.basename(this.path,this.extname):void 0}set stem(t){f(t,"stem"),a(t,"stem"),this.path=n.join(this.dirname||"",t+(this.extname||""))}fail(t,e,r){let s=this.message(t,e,r);throw s.fatal=!0,s}info(t,e,r){let s=this.message(t,e,r);return s.fatal=void 0,s}message(t,e,r){let s=new u(t,e,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}};function a(i,t){if(i&&i.includes(n.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+n.sep+"`")}function f(i,t){if(!i)throw new Error("`"+t+"` cannot be empty")}function d(i,t){if(!i)throw new Error("Setting `"+t+"` requires `path` to be set too")}function l(i){return!!(i&&typeof i=="object"&&"byteLength"in i&&"byteOffset"in i)}export{m as VFile};
//# sourceMappingURL=vfile.mjs.map