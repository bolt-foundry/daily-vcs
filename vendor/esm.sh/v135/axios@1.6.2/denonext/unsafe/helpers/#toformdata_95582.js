/* esm.sh - esbuild bundle(axios@1.6.2/unsafe/helpers/toFormData) denonext production */
import { Buffer as __Buffer$ } from "node:buffer";
import t from"/v135/axios@1.6.2/denonext/unsafe/utils.js";import E from"/v135/axios@1.6.2/denonext/unsafe/core/AxiosError.js";import T from"/v135/axios@1.6.2/denonext/unsafe/platform/node/classes/FormData.js";function m(i){return t.isPlainObject(i)||t.isArray(i)}function O(i){return t.endsWith(i,"[]")?i.slice(0,-2):i}function F(i,e,s){return i?i.concat(e).map(function(o,d){return o=O(o),!s&&d?"["+o+"]":o}).join(s?".":""):e}function S(i){return t.isArray(i)&&!i.some(m)}var U=t.toFlatObject(t,{},null,function(e){return/^is[A-Z]/.test(e)});function g(i,e,s){if(!t.isObject(i))throw new TypeError("target must be an object");e=e||new(T||FormData),s=t.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(n,u){return!t.isUndefined(u[n])});let p=s.metaTokens,o=s.visitor||j,d=s.dots,B=s.indexes,w=(s.Blob||typeof Blob<"u"&&Blob)&&t.isSpecCompliantForm(e);if(!t.isFunction(o))throw new TypeError("visitor must be a function");function b(r){if(r===null)return"";if(t.isDate(r))return r.toISOString();if(!w&&t.isBlob(r))throw new E("Blob is not supported. Use a Buffer instead.");return t.isArrayBuffer(r)||t.isTypedArray(r)?w&&typeof Blob=="function"?new Blob([r]):__Buffer$.from(r):r}function j(r,n,u){let f=r;if(r&&!u&&typeof r=="object"){if(t.endsWith(n,"{}"))n=p?n:n.slice(0,-2),r=JSON.stringify(r);else if(t.isArray(r)&&S(r)||(t.isFileList(r)||t.endsWith(n,"[]"))&&(f=t.toArray(r)))return n=O(n),f.forEach(function(l,x){!(t.isUndefined(l)||l===null)&&e.append(B===!0?F([n],x,d):B===null?n:n+"[]",b(l))}),!1}return m(r)?!0:(e.append(F(u,n,d),b(r)),!1)}let a=[],h=Object.assign(U,{defaultVisitor:j,convertValue:b,isVisitable:m});function A(r,n){if(!t.isUndefined(r)){if(a.indexOf(r)!==-1)throw Error("Circular reference detected in "+n.join("."));a.push(r),t.forEach(r,function(f,c){(!(t.isUndefined(f)||f===null)&&o.call(e,f,t.isString(c)?c.trim():c,n,h))===!0&&A(f,n?n.concat(c):[c])}),a.pop()}}if(!t.isObject(i))throw new TypeError("data must be an object");return A(i),e}var _=g;export{_ as default};

import "https://deno.land/x/xhr@0.3.0/mod.ts";//# sourceMappingURL=toFormData.js.map